(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function TE(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Id={exports:{}},dl={};var L_;function vS(){if(L_)return dl;L_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:s,type:a,key:d,ref:l!==void 0?l:null,props:c}}return dl.Fragment=t,dl.jsx=i,dl.jsxs=i,dl}var x_;function ES(){return x_||(x_=1,Id.exports=vS()),Id.exports}var dt=ES(),Cd={exports:{}},_t={};var P_;function TS(){if(P_)return _t;P_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function G(V){return V===null||typeof V!="object"?null:(V=D&&V[D]||V["@@iterator"],typeof V=="function"?V:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,J={};function ht(V,Y,tt){this.props=V,this.context=Y,this.refs=J,this.updater=tt||Z}ht.prototype.isReactComponent={},ht.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ht.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Et(){}Et.prototype=ht.prototype;function mt(V,Y,tt){this.props=V,this.context=Y,this.refs=J,this.updater=tt||Z}var Qt=mt.prototype=new Et;Qt.constructor=mt,et(Qt,ht.prototype),Qt.isPureReactComponent=!0;var te=Array.isArray;function Lt(){}var C={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function I(V,Y,tt){var rt=tt.ref;return{$$typeof:s,type:V,key:Y,ref:rt!==void 0?rt:null,props:tt}}function M(V,Y){return I(V.type,Y,V.props)}function O(V){return typeof V=="object"&&V!==null&&V.$$typeof===s}function L(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(tt){return Y[tt]})}var w=/\/+/g;function ie(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Y.toString(36)}function Ce(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(Lt,Lt):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function H(V,Y,tt,rt,pt){var St=typeof V;(St==="undefined"||St==="boolean")&&(V=null);var Mt=!1;if(V===null)Mt=!0;else switch(St){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(V.$$typeof){case s:case t:Mt=!0;break;case A:return Mt=V._init,H(Mt(V._payload),Y,tt,rt,pt)}}if(Mt)return pt=pt(V),Mt=rt===""?"."+ie(V,0):rt,te(pt)?(tt="",Mt!=null&&(tt=Mt.replace(w,"$&/")+"/"),H(pt,Y,tt,"",function(rs){return rs})):pt!=null&&(O(pt)&&(pt=M(pt,tt+(pt.key==null||V&&V.key===pt.key?"":(""+pt.key).replace(w,"$&/")+"/")+Mt)),Y.push(pt)),1;Mt=0;var De=rt===""?".":rt+":";if(te(V))for(var re=0;re<V.length;re++)rt=V[re],St=De+ie(rt,re),Mt+=H(rt,Y,tt,St,pt);else if(re=G(V),typeof re=="function")for(V=re.call(V),re=0;!(rt=V.next()).done;)rt=rt.value,St=De+ie(rt,re++),Mt+=H(rt,Y,tt,St,pt);else if(St==="object"){if(typeof V.then=="function")return H(Ce(V),Y,tt,rt,pt);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function W(V,Y,tt){if(V==null)return V;var rt=[],pt=0;return H(V,rt,"","",function(St){return Y.call(tt,St,pt++)}),rt}function ut(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(tt){(V._status===0||V._status===-1)&&(V._status=1,V._result=tt)},function(tt){(V._status===0||V._status===-1)&&(V._status=2,V._result=tt)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var xt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},jt={map:W,forEach:function(V,Y,tt){W(V,function(){Y.apply(this,arguments)},tt)},count:function(V){var Y=0;return W(V,function(){Y++}),Y},toArray:function(V){return W(V,function(Y){return Y})||[]},only:function(V){if(!O(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return _t.Activity=S,_t.Children=jt,_t.Component=ht,_t.Fragment=i,_t.Profiler=l,_t.PureComponent=mt,_t.StrictMode=a,_t.Suspense=y,_t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,_t.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},_t.cache=function(V){return function(){return V.apply(null,arguments)}},_t.cacheSignal=function(){return null},_t.cloneElement=function(V,Y,tt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=et({},V.props),pt=V.key;if(Y!=null)for(St in Y.key!==void 0&&(pt=""+Y.key),Y)!b.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(rt[St]=Y[St]);var St=arguments.length-2;if(St===1)rt.children=tt;else if(1<St){for(var Mt=Array(St),De=0;De<St;De++)Mt[De]=arguments[De+2];rt.children=Mt}return I(V.type,pt,rt)},_t.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},_t.createElement=function(V,Y,tt){var rt,pt={},St=null;if(Y!=null)for(rt in Y.key!==void 0&&(St=""+Y.key),Y)b.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(pt[rt]=Y[rt]);var Mt=arguments.length-2;if(Mt===1)pt.children=tt;else if(1<Mt){for(var De=Array(Mt),re=0;re<Mt;re++)De[re]=arguments[re+2];pt.children=De}if(V&&V.defaultProps)for(rt in Mt=V.defaultProps,Mt)pt[rt]===void 0&&(pt[rt]=Mt[rt]);return I(V,St,pt)},_t.createRef=function(){return{current:null}},_t.forwardRef=function(V){return{$$typeof:p,render:V}},_t.isValidElement=O,_t.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:ut}},_t.memo=function(V,Y){return{$$typeof:_,type:V,compare:Y===void 0?null:Y}},_t.startTransition=function(V){var Y=C.T,tt={};C.T=tt;try{var rt=V(),pt=C.S;pt!==null&&pt(tt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Lt,xt)}catch(St){xt(St)}finally{Y!==null&&tt.types!==null&&(Y.types=tt.types),C.T=Y}},_t.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},_t.use=function(V){return C.H.use(V)},_t.useActionState=function(V,Y,tt){return C.H.useActionState(V,Y,tt)},_t.useCallback=function(V,Y){return C.H.useCallback(V,Y)},_t.useContext=function(V){return C.H.useContext(V)},_t.useDebugValue=function(){},_t.useDeferredValue=function(V,Y){return C.H.useDeferredValue(V,Y)},_t.useEffect=function(V,Y){return C.H.useEffect(V,Y)},_t.useEffectEvent=function(V){return C.H.useEffectEvent(V)},_t.useId=function(){return C.H.useId()},_t.useImperativeHandle=function(V,Y,tt){return C.H.useImperativeHandle(V,Y,tt)},_t.useInsertionEffect=function(V,Y){return C.H.useInsertionEffect(V,Y)},_t.useLayoutEffect=function(V,Y){return C.H.useLayoutEffect(V,Y)},_t.useMemo=function(V,Y){return C.H.useMemo(V,Y)},_t.useOptimistic=function(V,Y){return C.H.useOptimistic(V,Y)},_t.useReducer=function(V,Y,tt){return C.H.useReducer(V,Y,tt)},_t.useRef=function(V){return C.H.useRef(V)},_t.useState=function(V){return C.H.useState(V)},_t.useSyncExternalStore=function(V,Y,tt){return C.H.useSyncExternalStore(V,Y,tt)},_t.useTransition=function(){return C.H.useTransition()},_t.version="19.2.3",_t}var k_;function ym(){return k_||(k_=1,Cd.exports=TS()),Cd.exports}var Ln=ym();const AS=TE(Ln);var Dd={exports:{}},ml={},Nd={exports:{}},Od={};var z_;function SS(){return z_||(z_=1,(function(s){function t(H,W){var ut=H.length;H.push(W);t:for(;0<ut;){var xt=ut-1>>>1,jt=H[xt];if(0<l(jt,W))H[xt]=W,H[ut]=jt,ut=xt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var W=H[0],ut=H.pop();if(ut!==W){H[0]=ut;t:for(var xt=0,jt=H.length,V=jt>>>1;xt<V;){var Y=2*(xt+1)-1,tt=H[Y],rt=Y+1,pt=H[rt];if(0>l(tt,ut))rt<jt&&0>l(pt,tt)?(H[xt]=pt,H[rt]=ut,xt=rt):(H[xt]=tt,H[Y]=ut,xt=Y);else if(rt<jt&&0>l(pt,ut))H[xt]=pt,H[rt]=ut,xt=rt;else break t}}return W}function l(H,W){var ut=H.sortIndex-W.sortIndex;return ut!==0?ut:H.id-W.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,S=null,D=3,G=!1,Z=!1,et=!1,J=!1,ht=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Qt(H){for(var W=i(_);W!==null;){if(W.callback===null)a(_);else if(W.startTime<=H)a(_),W.sortIndex=W.expirationTime,t(y,W);else break;W=i(_)}}function te(H){if(et=!1,Qt(H),!Z)if(i(y)!==null)Z=!0,Lt||(Lt=!0,L());else{var W=i(_);W!==null&&Ce(te,W.startTime-H)}}var Lt=!1,C=-1,b=5,I=-1;function M(){return J?!0:!(s.unstable_now()-I<b)}function O(){if(J=!1,Lt){var H=s.unstable_now();I=H;var W=!0;try{t:{Z=!1,et&&(et=!1,Et(C),C=-1),G=!0;var ut=D;try{e:{for(Qt(H),S=i(y);S!==null&&!(S.expirationTime>H&&M());){var xt=S.callback;if(typeof xt=="function"){S.callback=null,D=S.priorityLevel;var jt=xt(S.expirationTime<=H);if(H=s.unstable_now(),typeof jt=="function"){S.callback=jt,Qt(H),W=!0;break e}S===i(y)&&a(y),Qt(H)}else a(y);S=i(y)}if(S!==null)W=!0;else{var V=i(_);V!==null&&Ce(te,V.startTime-H),W=!1}}break t}finally{S=null,D=ut,G=!1}W=void 0}}finally{W?L():Lt=!1}}}var L;if(typeof mt=="function")L=function(){mt(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=O,L=function(){ie.postMessage(null)}}else L=function(){ht(O,0)};function Ce(H,W){C=ht(function(){H(s.unstable_now())},W)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return D},s.unstable_next=function(H){switch(D){case 1:case 2:case 3:var W=3;break;default:W=D}var ut=D;D=W;try{return H()}finally{D=ut}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ut=D;D=H;try{return W()}finally{D=ut}},s.unstable_scheduleCallback=function(H,W,ut){var xt=s.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?xt+ut:xt):ut=xt,H){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=ut+jt,H={id:A++,callback:W,priorityLevel:H,startTime:ut,expirationTime:jt,sortIndex:-1},ut>xt?(H.sortIndex=ut,t(_,H),i(y)===null&&H===i(_)&&(et?(Et(C),C=-1):et=!0,Ce(te,ut-xt))):(H.sortIndex=jt,t(y,H),Z||G||(Z=!0,Lt||(Lt=!0,L()))),H},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(H){var W=D;return function(){var ut=D;D=W;try{return H.apply(this,arguments)}finally{D=ut}}}})(Od)),Od}var B_;function bS(){return B_||(B_=1,Nd.exports=SS()),Nd.exports}var Vd={exports:{}},Qe={};var q_;function wS(){if(q_)return Qe;q_=1;var s=ym();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Qe.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},Qe.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},Qe.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},Qe.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Qe.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:G}):A==="script"&&a.d.X(y,{crossOrigin:S,integrity:D,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Qe.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},Qe.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Qe.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},Qe.requestFormReset=function(y){a.d.r(y)},Qe.unstable_batchedUpdates=function(y,_){return y(_)},Qe.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},Qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Qe.version="19.2.3",Qe}var j_;function RS(){if(j_)return Vd.exports;j_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Vd.exports=wS(),Vd.exports}var H_;function IS(){if(H_)return ml;H_=1;var s=bS(),t=ym(),i=RS();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,o=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){r=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==o.return)r=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===r){g=!0,r=h,o=f;break}if(E===o){g=!0,o=h,r=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===r){g=!0,r=f,o=h;break}if(E===o){g=!0,o=f,r=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==o)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ht=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Qt=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Lt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ht:return"Profiler";case J:return"StrictMode";case te:return"Suspense";case Lt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case mt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case Qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ce=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},xt=[],jt=-1;function V(e){return{current:e}}function Y(e){0>jt||(e.current=xt[jt],xt[jt]=null,jt--)}function tt(e,n){jt++,xt[jt]=e.current,e.current=n}var rt=V(null),pt=V(null),St=V(null),Mt=V(null);function De(e,n){switch(tt(St,n),tt(pt,e),tt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?r_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=r_(n),e=s_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),tt(rt,e)}function re(){Y(rt),Y(pt),Y(St)}function rs(e){e.memoizedState!==null&&tt(Mt,e);var n=rt.current,r=s_(n,e.type);n!==r&&(tt(pt,e),tt(rt,r))}function Ys(e){pt.current===e&&(Y(rt),Y(pt)),Mt.current===e&&(Y(Mt),ul._currentValue=ut)}var Xs,Zs;function $n(e){if(Xs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Xs=n&&n[1]||"",Zs=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Xs+e+Zs}var lo=!1;function ss(e,n){if(!e||lo)return"";lo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var z=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){z=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){z=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),k=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===k.length)for(o=R.length-1,h=k.length-1;1<=o&&0<=h&&R[o]!==k[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==k[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==k[h]){var j=`
`+R[o].replace(" at new "," at ");return e.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",e.displayName)),j}while(1<=o&&0<=h);break}}}finally{lo=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?$n(r):""}function uo(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return ss(e.type,!1);case 11:return ss(e.type.render,!1);case 1:return ss(e.type,!0);case 31:return $n("Activity");default:return""}}function co(e){try{var n="",r=null;do n+=uo(e,r),r=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var pe=Object.prototype.hasOwnProperty,Ne=s.unstable_scheduleCallback,sr=s.unstable_cancelCallback,Ch=s.unstable_shouldYield,Yl=s.unstable_requestPaint,$e=s.unstable_now,as=s.unstable_getCurrentPriorityLevel,ho=s.unstable_ImmediatePriority,fo=s.unstable_UserBlockingPriority,ar=s.unstable_NormalPriority,Dh=s.unstable_LowPriority,Xl=s.unstable_IdlePriority,Zl=s.log,Jl=s.unstable_setDisableYieldValue,Pn=null,Pe=null;function An(e){if(typeof Zl=="function"&&Jl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Pn,e)}catch{}}var he=Math.clz32?Math.clz32:Wl,$l=Math.log,Js=Math.LN2;function Wl(e){return e>>>=0,e===0?32:31-($l(e)/Js|0)|0}var Wn=256,os=262144,ye=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,r){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(g&=E,g!==0?h=ti(g):r||(r=E&~e,r!==0&&(h=ti(r))))):(E=o&~f,E!==0?h=ti(E):g!==0?h=ti(g):r||(r=o&~e,r!==0&&(h=ti(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tu(){var e=ye;return ye<<=1,(ye&62914560)===0&&(ye=4194304),e}function ni(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ls(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,r,o,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,k=e.hiddenUpdates;for(r=g&~r;0<r;){var j=31-he(r),Q=1<<j;E[j]=0,R[j]=-1;var z=k[j];if(z!==null)for(k[j]=null,j=0;j<z.length;j++){var q=z[j];q!==null&&(q.lane&=-536870913)}r&=~Q}o!==0&&us(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function us(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&261930}function mo(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-he(r),h=1<<o;h&n|e[o]&n&&(e[o]|=n),r&=~h}}function go(e,n){var r=n&-n;return r=(r&42)!==0?1:cs(r),(r&(e.suspendedLanes|n))!==0?0:r}function cs(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:C_(e.type))}function zn(e,n){var r=W.p;try{return W.p=e,n()}finally{W.p=r}}var Bn=Math.random().toString(36).slice(2),_e="__reactFiber$"+Bn,Me="__reactProps$"+Bn,ii="__reactContainer$"+Bn,$s="__reactEvents$"+Bn,Vh="__reactListeners$"+Bn,nu="__reactHandles$"+Bn,iu="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function Ws(e){delete e[_e],delete e[Me],delete e[$s],delete e[Vh],delete e[nu]}function si(e){var n=e[_e];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ii]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=f_(e);e!==null;){if(r=e[_e])return r;e=f_(e)}return n}e=r,r=e.parentNode}return null}function Sn(e){if(e=e[_e]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function hn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ai(e){var n=e[iu];return n||(n=e[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ve(e){e[ri]=!0}var po=new Set,yo={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(yo[e]=n,e=0;e<n.length;e++)po.add(n[e])}var _o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),vo={},Eo={};function ru(e){return pe.call(Eo,e)?!0:pe.call(vo,e)?!1:_o.test(e)?Eo[e]=!0:(vo[e]=!0,!1)}function ta(e,n,r){if(ru(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function fn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function Ee(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function or(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function To(e,n,r){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ht(e){if(!e._valueTracker){var n=or(e)?"checked":"value";e._valueTracker=To(e,n,""+e[n])}}function hs(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=or(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fs=/[\n"\\]/g;function en(e){return e.replace(fs,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ea(e,n,r,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Ao(e,g,Ue(n)):r!=null?Ao(e,g,Ue(r)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function su(e,n,r,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Ht(e);return}r=r!=null?""+Ue(r):"",n=n!=null?""+Ue(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Ht(e)}function Ao(e,n,r){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function lr(e,n,r,o){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ue(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function au(e,n,r){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ue(r):""}function ur(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(a(92));if(Ce(o)){if(1<o.length)throw Error(a(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ue(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o),Ht(e)}function nn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var ou=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function So(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||ou.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function bo(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&r[h]!==o&&So(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&So(e,f,n[f])}function na(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ia(e){return cr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var wo=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hr=null,ci=null;function ds(e){var n=Sn(e);if(n&&(e=n.stateNode)){var r=e[Me]||null;t:switch(e=n.stateNode,n.type){case"input":if(ea(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+en(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var h=o[Me]||null;if(!h)throw Error(a(90));ea(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&hs(o)}break t;case"textarea":au(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&lr(e,!!r.multiple,n,!1)}}}var ra=!1;function fr(e,n,r){if(ra)return e(n,r);ra=!0;try{var o=e(n);return o}finally{if(ra=!1,(hr!==null||ci!==null)&&(ec(),hr&&(n=hr,e=ci,ci=hr=null,ds(n),e)))for(n=0;n<e.length;n++)ds(e[n])}}function jn(e,n){var r=e.stateNode;if(r===null)return null;var o=r[Me]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ms=!1;if(wn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){ms=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{ms=!1}var hi=null,Ro=null,gs=null;function Io(){if(gs)return gs;var e,n=Ro,r=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(o=1;o<=g&&n[r-o]===h[f-o];o++);return gs=h.slice(e,1<o?1-o:void 0)}function ps(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Hn(){return!1}function ke(e){function n(r,o,h,f,g){this._reactName=r,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Hn,this.isPropagationStopped=Hn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ke(Vi),dr=S({},Vi,{view:0,detail:0}),Co=ke(dr),mr,sa,di,aa=S({},dr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(mr=e.screenX-di.screenX,sa=e.screenY-di.screenY):sa=mr=0,di=e),mr)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),Do=ke(aa),ys=S({},aa,{dataTransfer:0}),uu=ke(ys),cu=S({},dr,{relatedTarget:0}),_s=ke(cu),No=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=ke(No),oa=S({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fu=ke(oa),du=S({},Vi,{data:0}),mi=ke(du),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pu[e])?!!n[e]:!1}function gr(){return yu}var We=S({},dr,{key:function(e){if(e.key){var n=mu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ps(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gr,charCode:function(e){return e.type==="keypress"?ps(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ps(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_u=ke(We),vu=S({},aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ke(vu),u=S({},dr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gr}),m=ke(u),v=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ke(v),x=S({},aa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ke(x),$=S({},Vi,{newState:0,oldState:0}),Tt=ke($),fe=[9,13,27,32],zt=wn&&"CompositionEvent"in window,se=null;wn&&"documentMode"in document&&(se=document.documentMode);var Rn=wn&&"TextEvent"in window&&!se,gi=wn&&(!zt||se&&8<se&&11>=se),Gn=" ",Fn=!1;function vs(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function la(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ua=!1;function H0(e,n){switch(e){case"compositionend":return la(n);case"keypress":return n.which!==32?null:(Fn=!0,Gn);case"textInput":return e=n.data,e===Gn&&Fn?null:e;default:return null}}function G0(e,n){if(ua)return e==="compositionend"||!zt&&vs(e,n)?(e=Io(),gs=Ro=hi=null,ua=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var F0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!F0[e.type]:n==="textarea"}function pg(e,n,r,o){hr?ci?ci.push(o):ci=[o]:hr=o,n=lc(n,"onChange"),0<n.length&&(r=new fi("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Oo=null,Vo=null;function Q0(e){$y(e,0)}function Eu(e){var n=hn(e);if(hs(n))return e}function yg(e,n){if(e==="change")return n}var _g=!1;if(wn){var Mh;if(wn){var Uh="oninput"in document;if(!Uh){var vg=document.createElement("div");vg.setAttribute("oninput","return;"),Uh=typeof vg.oninput=="function"}Mh=Uh}else Mh=!1;_g=Mh&&(!document.documentMode||9<document.documentMode)}function Eg(){Oo&&(Oo.detachEvent("onpropertychange",Tg),Vo=Oo=null)}function Tg(e){if(e.propertyName==="value"&&Eu(Vo)){var n=[];pg(n,Vo,e,bn(e)),fr(Q0,n)}}function K0(e,n,r){e==="focusin"?(Eg(),Oo=n,Vo=r,Oo.attachEvent("onpropertychange",Tg)):e==="focusout"&&Eg()}function Y0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(Vo)}function X0(e,n){if(e==="click")return Eu(n)}function Z0(e,n){if(e==="input"||e==="change")return Eu(n)}function J0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var dn=typeof Object.is=="function"?Object.is:J0;function Mo(e,n){if(dn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var h=r[o];if(!pe.call(n,h)||!dn(e[h],n[h]))return!1}return!0}function Ag(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sg(e,n){var r=Ag(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Ag(r)}}function bg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?bg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=ui(e.document)}return n}function Lh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var $0=wn&&"documentMode"in document&&11>=document.documentMode,ca=null,xh=null,Uo=null,Ph=!1;function Rg(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ph||ca==null||ca!==ui(o)||(o=ca,"selectionStart"in o&&Lh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Uo&&Mo(Uo,o)||(Uo=o,o=lc(xh,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=ca)))}function Es(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ha={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionrun:Es("Transition","TransitionRun"),transitionstart:Es("Transition","TransitionStart"),transitioncancel:Es("Transition","TransitionCancel"),transitionend:Es("Transition","TransitionEnd")},kh={},Ig={};wn&&(Ig=document.createElement("div").style,"AnimationEvent"in window||(delete ha.animationend.animation,delete ha.animationiteration.animation,delete ha.animationstart.animation),"TransitionEvent"in window||delete ha.transitionend.transition);function Ts(e){if(kh[e])return kh[e];if(!ha[e])return e;var n=ha[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ig)return kh[e]=n[r];return e}var Cg=Ts("animationend"),Dg=Ts("animationiteration"),Ng=Ts("animationstart"),W0=Ts("transitionrun"),tA=Ts("transitionstart"),eA=Ts("transitioncancel"),Og=Ts("transitionend"),Vg=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function Qn(e,n){Vg.set(e,n),oi(n,[e])}var Tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],fa=0,Bh=0;function Au(){for(var e=fa,n=Bh=fa=0;n<e;){var r=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Mg(r,h,f)}}function Su(e,n,r,o){In[fa++]=e,In[fa++]=n,In[fa++]=r,In[fa++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,r,o){return Su(e,n,r,o),bu(e)}function As(e,n){return Su(e,null,null,n),bu(e)}function Mg(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(r),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=r|536870912),f):null}function bu(e){if(50<nl)throw nl=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var da={};function nA(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(e,n,r,o){return new nA(e,n,r,o)}function jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,n){var r=e.alternate;return r===null?(r=mn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ug(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function wu(e,n,r,o,h,f){var g=0;if(o=e,typeof e=="function")jh(e)&&(g=1);else if(typeof e=="string")g=oS(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=mn(31,r,n,h),e.elementType=I,e.lanes=f,e;case et:return Ss(r.children,h,f,n);case J:g=8,h|=24;break;case ht:return e=mn(12,r,n,h|2),e.elementType=ht,e.lanes=f,e;case te:return e=mn(13,r,n,h),e.elementType=te,e.lanes=f,e;case Lt:return e=mn(19,r,n,h),e.elementType=Lt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case Et:g=9;break t;case Qt:g=11;break t;case C:g=14;break t;case b:g=16,o=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=mn(g,r,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Ss(e,n,r,o){return e=mn(7,e,o,n),e.lanes=r,e}function Hh(e,n,r){return e=mn(6,e,null,n),e.lanes=r,e}function Lg(e){var n=mn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,r){return n=mn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xg=new WeakMap;function Cn(e,n){if(typeof e=="object"&&e!==null){var r=xg.get(e);return r!==void 0?r:(n={value:e,source:n,stack:co(n)},xg.set(e,n),n)}return{value:e,source:n,stack:co(n)}}var ma=[],ga=0,Ru=null,Lo=0,Dn=[],Nn=0,pr=null,pi=1,yi="";function Li(e,n){ma[ga++]=Lo,ma[ga++]=Ru,Ru=e,Lo=n}function Pg(e,n,r){Dn[Nn++]=pi,Dn[Nn++]=yi,Dn[Nn++]=pr,pr=e;var o=pi;e=yi;var h=32-he(o)-1;o&=~(1<<h),r+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,pi=1<<32-he(n)+h|r<<h|o,yi=f+e}else pi=1<<f|r<<h|o,yi=e}function Fh(e){e.return!==null&&(Li(e,1),Pg(e,1,0))}function Qh(e){for(;e===Ru;)Ru=ma[--ga],ma[ga]=null,Lo=ma[--ga],ma[ga]=null;for(;e===pr;)pr=Dn[--Nn],Dn[Nn]=null,yi=Dn[--Nn],Dn[Nn]=null,pi=Dn[--Nn],Dn[Nn]=null}function kg(e,n){Dn[Nn++]=pi,Dn[Nn++]=yi,Dn[Nn++]=pr,pi=n.id,yi=n.overflow,pr=e}var ze=null,ee=null,Vt=!1,yr=null,On=!1,Kh=Error(a(519));function _r(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xo(Cn(n,e)),Kh}function zg(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[_e]=e,n[Me]=o,r){case"dialog":Rt("cancel",n),Rt("close",n);break;case"iframe":case"object":case"embed":Rt("load",n);break;case"video":case"audio":for(r=0;r<rl.length;r++)Rt(rl[r],n);break;case"source":Rt("error",n);break;case"img":case"image":case"link":Rt("error",n),Rt("load",n);break;case"details":Rt("toggle",n);break;case"input":Rt("invalid",n),su(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Rt("invalid",n);break;case"textarea":Rt("invalid",n),ur(n,o.value,o.defaultValue,o.children)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||n_(n.textContent,r)?(o.popover!=null&&(Rt("beforetoggle",n),Rt("toggle",n)),o.onScroll!=null&&Rt("scroll",n),o.onScrollEnd!=null&&Rt("scrollend",n),o.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||_r(e,!0)}function Bg(e){for(ze=e.return;ze;)switch(ze.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:ze=ze.return}}function pa(e){if(e!==ze)return!1;if(!Vt)return Bg(e),Vt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||fd(e.type,e.memoizedProps)),r=!r),r&&ee&&_r(e),Bg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=h_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=h_(e)}else n===27?(n=ee,Vr(e.type)?(e=yd,yd=null,ee=e):ee=n):ee=ze?Mn(e.stateNode.nextSibling):null;return!0}function bs(){ee=ze=null,Vt=!1}function Yh(){var e=yr;return e!==null&&(on===null?on=e:on.push.apply(on,e),yr=null),e}function xo(e){yr===null?yr=[e]:yr.push(e)}var Xh=V(null),ws=null,xi=null;function vr(e,n,r){tt(Xh,n._currentValue),n._currentValue=r}function Pi(e){e._currentValue=Xh.current,Y(Xh)}function Zh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Jh(e,n,r,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Zh(f.return,r,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Zh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ya(e,n,r,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;dn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Mt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ul):e=[ul])}h=h.return}e!==null&&Jh(n,e,r,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rs(e){ws=e,xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return qg(ws,e)}function Cu(e,n){return ws===null&&Rs(e),qg(e,n)}function qg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},xi===null){if(e===null)throw Error(a(308));xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else xi=xi.next=n;return r}var iA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},rA=s.unstable_scheduleCallback,sA=s.unstable_NormalPriority,Te={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new iA,data:new Map,refCount:0}}function Po(e){e.refCount--,e.refCount===0&&rA(sA,function(){e.controller.abort()})}var ko=null,Wh=0,_a=0,va=null;function aA(e,n){if(ko===null){var r=ko=[];Wh=0,_a=id(),va={status:"pending",value:void 0,then:function(o){r.push(o)}}}return Wh++,n.then(jg,jg),n}function jg(){if(--Wh===0&&ko!==null){va!==null&&(va.status="fulfilled");var e=ko;ko=null,_a=0,va=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function oA(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),o}var Hg=H.S;H.S=function(e,n){Ry=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&aA(e,n),Hg!==null&&Hg(e,n)};var Is=V(null);function tf(){var e=Is.current;return e!==null?e:Jt.pooledCache}function Du(e,n){n===null?tt(Is,Is.current):tt(Is,n.pool)}function Gg(){var e=tf();return e===null?null:{parent:Te._currentValue,pool:e}}var Ea=Error(a(460)),ef=Error(a(474)),Nu=Error(a(542)),Ou={then:function(){}};function Fg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(qn,qn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yg(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yg(e),e}throw Ds=n,Ea}}function Cs(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Ds=r,Ea):r}}var Ds=null;function Kg(){if(Ds===null)throw Error(a(459));var e=Ds;return Ds=null,e}function Yg(e){if(e===Ea||e===Nu)throw Error(a(483))}var Ta=null,zo=0;function Vu(e){var n=zo;return zo+=1,Ta===null&&(Ta=[]),Qg(Ta,e,n)}function Bo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===D?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xg(e){function n(U,N){if(e){var P=U.deletions;P===null?(U.deletions=[N],U.flags|=16):P.push(N)}}function r(U,N){if(!e)return null;for(;N!==null;)n(U,N),N=N.sibling;return null}function o(U){for(var N=new Map;U!==null;)U.key!==null?N.set(U.key,U):N.set(U.index,U),U=U.sibling;return N}function h(U,N){return U=Ui(U,N),U.index=0,U.sibling=null,U}function f(U,N,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<N?(U.flags|=67108866,N):P):(U.flags|=67108866,N)):(U.flags|=1048576,N)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,N,P,F){return N===null||N.tag!==6?(N=Hh(P,U.mode,F),N.return=U,N):(N=h(N,P),N.return=U,N)}function R(U,N,P,F){var ot=P.type;return ot===et?j(U,N,P.props.children,F,P.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Cs(ot)===N.type)?(N=h(N,P.props),Bo(N,P),N.return=U,N):(N=wu(P.type,P.key,P.props,null,U.mode,F),Bo(N,P),N.return=U,N)}function k(U,N,P,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=Gh(P,U.mode,F),N.return=U,N):(N=h(N,P.children||[]),N.return=U,N)}function j(U,N,P,F,ot){return N===null||N.tag!==7?(N=Ss(P,U.mode,F,ot),N.return=U,N):(N=h(N,P),N.return=U,N)}function Q(U,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Hh(""+N,U.mode,P),N.return=U,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case G:return P=wu(N.type,N.key,N.props,null,U.mode,P),Bo(P,N),P.return=U,P;case Z:return N=Gh(N,U.mode,P),N.return=U,N;case b:return N=Cs(N),Q(U,N,P)}if(Ce(N)||L(N))return N=Ss(N,U.mode,P,null),N.return=U,N;if(typeof N.then=="function")return Q(U,Vu(N),P);if(N.$$typeof===mt)return Q(U,Cu(U,N),P);Mu(U,N)}return null}function z(U,N,P,F){var ot=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ot!==null?null:E(U,N,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===ot?R(U,N,P,F):null;case Z:return P.key===ot?k(U,N,P,F):null;case b:return P=Cs(P),z(U,N,P,F)}if(Ce(P)||L(P))return ot!==null?null:j(U,N,P,F,null);if(typeof P.then=="function")return z(U,N,Vu(P),F);if(P.$$typeof===mt)return z(U,N,Cu(U,P),F);Mu(U,P)}return null}function q(U,N,P,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return U=U.get(P)||null,E(N,U,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case G:return U=U.get(F.key===null?P:F.key)||null,R(N,U,F,ot);case Z:return U=U.get(F.key===null?P:F.key)||null,k(N,U,F,ot);case b:return F=Cs(F),q(U,N,P,F,ot)}if(Ce(F)||L(F))return U=U.get(P)||null,j(N,U,F,ot,null);if(typeof F.then=="function")return q(U,N,P,Vu(F),ot);if(F.$$typeof===mt)return q(U,N,P,Cu(N,F),ot);Mu(N,F)}return null}function st(U,N,P,F){for(var ot=null,Pt=null,at=N,bt=N=0,Ct=null;at!==null&&bt<P.length;bt++){at.index>bt?(Ct=at,at=null):Ct=at.sibling;var kt=z(U,at,P[bt],F);if(kt===null){at===null&&(at=Ct);break}e&&at&&kt.alternate===null&&n(U,at),N=f(kt,N,bt),Pt===null?ot=kt:Pt.sibling=kt,Pt=kt,at=Ct}if(bt===P.length)return r(U,at),Vt&&Li(U,bt),ot;if(at===null){for(;bt<P.length;bt++)at=Q(U,P[bt],F),at!==null&&(N=f(at,N,bt),Pt===null?ot=at:Pt.sibling=at,Pt=at);return Vt&&Li(U,bt),ot}for(at=o(at);bt<P.length;bt++)Ct=q(at,U,bt,P[bt],F),Ct!==null&&(e&&Ct.alternate!==null&&at.delete(Ct.key===null?bt:Ct.key),N=f(Ct,N,bt),Pt===null?ot=Ct:Pt.sibling=Ct,Pt=Ct);return e&&at.forEach(function(Pr){return n(U,Pr)}),Vt&&Li(U,bt),ot}function ct(U,N,P,F){if(P==null)throw Error(a(151));for(var ot=null,Pt=null,at=N,bt=N=0,Ct=null,kt=P.next();at!==null&&!kt.done;bt++,kt=P.next()){at.index>bt?(Ct=at,at=null):Ct=at.sibling;var Pr=z(U,at,kt.value,F);if(Pr===null){at===null&&(at=Ct);break}e&&at&&Pr.alternate===null&&n(U,at),N=f(Pr,N,bt),Pt===null?ot=Pr:Pt.sibling=Pr,Pt=Pr,at=Ct}if(kt.done)return r(U,at),Vt&&Li(U,bt),ot;if(at===null){for(;!kt.done;bt++,kt=P.next())kt=Q(U,kt.value,F),kt!==null&&(N=f(kt,N,bt),Pt===null?ot=kt:Pt.sibling=kt,Pt=kt);return Vt&&Li(U,bt),ot}for(at=o(at);!kt.done;bt++,kt=P.next())kt=q(at,U,bt,kt.value,F),kt!==null&&(e&&kt.alternate!==null&&at.delete(kt.key===null?bt:kt.key),N=f(kt,N,bt),Pt===null?ot=kt:Pt.sibling=kt,Pt=kt);return e&&at.forEach(function(_S){return n(U,_S)}),Vt&&Li(U,bt),ot}function Zt(U,N,P,F){if(typeof P=="object"&&P!==null&&P.type===et&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var ot=P.key;N!==null;){if(N.key===ot){if(ot=P.type,ot===et){if(N.tag===7){r(U,N.sibling),F=h(N,P.props.children),F.return=U,U=F;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Cs(ot)===N.type){r(U,N.sibling),F=h(N,P.props),Bo(F,P),F.return=U,U=F;break t}r(U,N);break}else n(U,N);N=N.sibling}P.type===et?(F=Ss(P.props.children,U.mode,F,P.key),F.return=U,U=F):(F=wu(P.type,P.key,P.props,null,U.mode,F),Bo(F,P),F.return=U,U=F)}return g(U);case Z:t:{for(ot=P.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){r(U,N.sibling),F=h(N,P.children||[]),F.return=U,U=F;break t}else{r(U,N);break}else n(U,N);N=N.sibling}F=Gh(P,U.mode,F),F.return=U,U=F}return g(U);case b:return P=Cs(P),Zt(U,N,P,F)}if(Ce(P))return st(U,N,P,F);if(L(P)){if(ot=L(P),typeof ot!="function")throw Error(a(150));return P=ot.call(P),ct(U,N,P,F)}if(typeof P.then=="function")return Zt(U,N,Vu(P),F);if(P.$$typeof===mt)return Zt(U,N,Cu(U,P),F);Mu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(r(U,N.sibling),F=h(N,P),F.return=U,U=F):(r(U,N),F=Hh(P,U.mode,F),F.return=U,U=F),g(U)):r(U,N)}return function(U,N,P,F){try{zo=0;var ot=Zt(U,N,P,F);return Ta=null,ot}catch(at){if(at===Ea||at===Nu)throw at;var Pt=mn(29,at,null,U.mode);return Pt.lanes=F,Pt.return=U,Pt}}}var Ns=Xg(!0),Zg=Xg(!1),Er=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Tr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ar(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Bt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=bu(e),Mg(e,null,r),n}return Su(e,o,n,r),bu(e)}function qo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,mo(e,r)}}function sf(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var af=!1;function jo(){if(af){var e=va;if(e!==null)throw e}}function Ho(e,n,r,o){af=!1;var h=e.updateQueue;Er=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,k=R.next;R.next=null,g===null?f=k:g.next=k,g=R;var j=e.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==g&&(E===null?j.firstBaseUpdate=k:E.next=k,j.lastBaseUpdate=R))}if(f!==null){var Q=h.baseState;g=0,j=k=R=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(It&z)===z:(o&z)===z){z!==0&&z===_a&&(af=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var st=e,ct=E;z=n;var Zt=r;switch(ct.tag){case 1:if(st=ct.payload,typeof st=="function"){Q=st.call(Zt,Q,z);break t}Q=st;break t;case 3:st.flags=st.flags&-65537|128;case 0:if(st=ct.payload,z=typeof st=="function"?st.call(Zt,Q,z):st,z==null)break t;Q=S({},Q,z);break t;case 2:Er=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(k=j=q,R=Q):j=j.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);j===null&&(R=Q),h.baseState=R,h.firstBaseUpdate=k,h.lastBaseUpdate=j,f===null&&(h.shared.lanes=0),Ir|=g,e.lanes=g,e.memoizedState=Q}}function Jg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function $g(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Jg(r[e],n)}var Aa=V(null),Uu=V(0);function Wg(e,n){e=Qi,tt(Uu,e),tt(Aa,n),Qi=e|n.baseLanes}function of(){tt(Uu,Qi),tt(Aa,Aa.current)}function lf(){Qi=Uu.current,Y(Aa),Y(Uu)}var gn=V(null),Vn=null;function Sr(e){var n=e.alternate;tt(de,de.current&1),tt(gn,e),Vn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Vn=e)}function uf(e){tt(de,de.current),tt(gn,e),Vn===null&&(Vn=e)}function tp(e){e.tag===22?(tt(de,de.current),tt(gn,e),Vn===null&&(Vn=e)):br()}function br(){tt(de,de.current),tt(gn,gn.current)}function pn(e){Y(gn),Vn===e&&(Vn=null),Y(de)}var de=V(0);function Lu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||gd(r)||pd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ki=0,At=null,Yt=null,Ae=null,xu=!1,Sa=!1,Os=!1,Pu=0,Go=0,ba=null,lA=0;function le(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!dn(e[r],n[r]))return!1;return!0}function hf(e,n,r,o,h,f){return ki=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Pp:Rf,Os=!1,f=r(o,h),Os=!1,Sa&&(f=np(n,r,o,h)),ep(e),f}function ep(e){H.H=Ko;var n=Yt!==null&&Yt.next!==null;if(ki=0,Ae=Yt=At=null,xu=!1,Go=0,ba=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Iu(e)&&(Se=!0))}function np(e,n,r,o){At=e;var h=0;do{if(Sa&&(ba=null),Go=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=kp,f=n(r,o)}while(Sa);return f}function uA(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Fo(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(At.flags|=1024),n}function ff(){var e=Pu!==0;return Pu=0,e}function df(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function mf(e){if(xu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}xu=!1}ki=0,Ae=Yt=At=null,Sa=!1,Go=Pu=0,ba=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function me(){if(Yt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Ae===null?At.memoizedState:Ae.next;if(n!==null)Ae=n,Yt=e;else{if(e===null)throw At.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ae===null?At.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fo(e){var n=Go;return Go+=1,ba===null&&(ba=[]),e=Qg(ba,e,n),n=At,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Pp:Rf),e}function zu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fo(e);if(e.$$typeof===mt)return Be(e)}throw Error(a(438,String(e)))}function gf(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ku(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=M;return n.index++,r}function zi(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=me();return pf(n,Yt,e)}function pf(e,n,r){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=r;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,k=n,j=!1;do{var Q=k.lane&-536870913;if(Q!==k.lane?(It&Q)===Q:(ki&Q)===Q){var z=k.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Q===_a&&(j=!0);else if((ki&z)===z){k=k.next,z===_a&&(j=!0);continue}else Q={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=Q,g=f):R=R.next=Q,At.lanes|=z,Ir|=z;Q=k.action,Os&&r(f,Q),f=k.hasEagerState?k.eagerState:r(f,Q)}else z={lane:Q,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,At.lanes|=Q,Ir|=Q;k=k.next}while(k!==null&&k!==n);if(R===null?g=f:R.next=E,!dn(f,e.memoizedState)&&(Se=!0,j&&(r=va,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function yf(e){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var o=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);dn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function ip(e,n,r){var o=At,h=me(),f=Vt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!dn((Yt||h).memoizedState,r);if(g&&(h.memoizedState=r,Se=!0),h=h.queue,Ef(ap.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(o.flags|=2048,wa(9,{destroy:void 0},sp.bind(null,o,h,r,n),null),Jt===null)throw Error(a(349));f||(ki&127)!==0||rp(o,n,r)}return r}function rp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=ku(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function sp(e,n,r,o){n.value=r,n.getSnapshot=o,op(n)&&lp(e)}function ap(e,n,r){return r(function(){op(n)&&lp(e)})}function op(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!dn(e,r)}catch{return!0}}function lp(e){var n=As(e,2);n!==null&&ln(n,e,2)}function _f(e){var n=tn();if(typeof e=="function"){var r=e;if(e=r(),Os){An(!0);try{r()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:e},n}function up(e,n,r,o){return e.baseState=r,pf(e,Yt,typeof o=="function"?o:zi)}function cA(e,n,r,o,h){if(Hu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,cp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function cp(e,n){var r=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=r(h,o),R=H.S;R!==null&&R(g,E),hp(e,n,E)}catch(k){vf(e,n,k)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=r(h,o),hp(e,n,f)}catch(k){vf(e,n,k)}}function hp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){fp(e,n,o)},function(o){return vf(e,n,o)}):fp(e,n,r)}function fp(e,n,r){n.status="fulfilled",n.value=r,dp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,cp(e,r)))}function vf(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,dp(n),n=n.next;while(n!==o)}e.action=null}function dp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function mp(e,n){return n}function gp(e,n){if(Vt){var r=Jt.formState;if(r!==null){t:{var o=At;if(Vt){if(ee){e:{for(var h=ee,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Mn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Mn(h.nextSibling),o=h.data==="F!";break t}}_r(o)}o=!1}o&&(n=r[0])}}return r=tn(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mp,lastRenderedState:n},r.queue=o,r=Up.bind(null,At,o),o.dispatch=r,o=_f(!1),f=wf.bind(null,At,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,r=cA.bind(null,At,h,f,r),h.dispatch=r,o.memoizedState=e,[n,r,!1]}function pp(e){var n=me();return yp(n,Yt,e)}function yp(e,n,r){if(n=pf(e,n,mp)[0],e=Bu(zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Fo(n)}catch(g){throw g===Ea?Nu:g}else o=n;n=me();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(At.flags|=2048,wa(9,{destroy:void 0},hA.bind(null,h,r),null)),[o,f,e]}function hA(e,n){e.action=n}function _p(e){var n=me(),r=Yt;if(r!==null)return yp(n,r,e);me(),n=n.memoizedState,r=me();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function wa(e,n,r,o){return e={tag:e,create:r,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=ku(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function vp(){return me().memoizedState}function qu(e,n,r,o){var h=tn();At.flags|=e,h.memoizedState=wa(1|n,{destroy:void 0},r,o===void 0?null:o)}function ju(e,n,r,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Yt!==null&&o!==null&&cf(o,Yt.memoizedState.deps)?h.memoizedState=wa(n,f,r,o):(At.flags|=e,h.memoizedState=wa(1|n,f,r,o))}function Ep(e,n){qu(8390656,8,e,n)}function Ef(e,n){ju(2048,8,e,n)}function fA(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=ku(),At.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Tp(e){var n=me().memoizedState;return fA({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Ap(e,n){return ju(4,2,e,n)}function Sp(e,n){return ju(4,4,e,n)}function bp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wp(e,n,r){r=r!=null?r.concat([e]):null,ju(4,4,bp.bind(null,n,e),r)}function Tf(){}function Rp(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&cf(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function Ip(e,n){var r=me();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&cf(n,o[1]))return o[0];if(o=e(),Os){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o}function Af(e,n,r){return r===void 0||(ki&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Cy(),At.lanes|=e,Ir|=e,r)}function Cp(e,n,r,o){return dn(r,n)?r:Aa.current!==null?(e=Af(e,r,o),dn(e,n)||(Se=!0),e):(ki&42)===0||(ki&1073741824)!==0&&(It&261930)===0?(Se=!0,e.memoizedState=r):(e=Cy(),At.lanes|=e,Ir|=e,n)}function Dp(e,n,r,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,wf(e,!1,n,r);try{var R=h(),k=H.S;if(k!==null&&k(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var j=oA(R,o);Qo(e,n,j,vn(e))}else Qo(e,n,o,vn(e))}catch(Q){Qo(e,n,{then:function(){},status:"rejected",reason:Q},vn())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function dA(){}function Sf(e,n,r,o){if(e.tag!==5)throw Error(a(476));var h=Np(e).queue;Dp(e,h,n,ut,r===null?dA:function(){return Op(e),r(o)})}function Np(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ut},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Op(e){var n=Np(e);n.next===null&&(n=e.alternate.memoizedState),Qo(e,n.next.queue,{},vn())}function bf(){return Be(ul)}function Vp(){return me().memoizedState}function Mp(){return me().memoizedState}function mA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=vn();e=Tr(r);var o=Ar(n,e,r);o!==null&&(ln(o,n,r),qo(o,n,r)),n={cache:$h()},e.payload=n;return}n=n.return}}function gA(e,n,r){var o=vn();r={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Hu(e)?Lp(n,r):(r=qh(e,n,r,o),r!==null&&(ln(r,e,o),xp(r,n,o)))}function Up(e,n,r){var o=vn();Qo(e,n,r,o)}function Qo(e,n,r,o){var h={lane:o,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))Lp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,r);if(h.hasEagerState=!0,h.eagerState=E,dn(E,g))return Su(e,n,h,0),Jt===null&&Au(),!1}catch{}if(r=qh(e,n,h,o),r!==null)return ln(r,e,o),xp(r,n,o),!0}return!1}function wf(e,n,r,o){if(o={lane:2,revertLane:id(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(n)throw Error(a(479))}else n=qh(e,r,o,2),n!==null&&ln(n,e,2)}function Hu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Lp(e,n){Sa=xu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function xp(e,n,r){if((r&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,mo(e,r)}}var Ko={readContext:Be,use:zu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Ko.useEffectEvent=le;var Pp={readContext:Be,use:zu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:Ep,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,qu(4194308,4,bp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var r=tn();n=n===void 0?null:n;var o=e();if(Os){An(!0);try{e()}finally{An(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=tn();if(r!==void 0){var h=r(n);if(Os){An(!0);try{r(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=gA.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,r=Up.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Tf,useDeferredValue:function(e,n){var r=tn();return Af(r,e,n)},useTransition:function(){var e=_f(!1);return e=Dp.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,h=tn();if(Vt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),Jt===null)throw Error(a(349));(It&127)!==0||rp(o,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,Ep(ap.bind(null,o,f,e),[e]),o.flags|=2048,wa(9,{destroy:void 0},sp.bind(null,o,f,r,n),null),r},useId:function(){var e=tn(),n=Jt.identifierPrefix;if(Vt){var r=yi,o=pi;r=(o&~(1<<32-he(o)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Pu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=lA++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:bf,useFormState:gp,useActionState:gp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=wf.bind(null,At,!0,r),r.dispatch=n,[e,n]},useMemoCache:gf,useCacheRefresh:function(){return tn().memoizedState=mA.bind(null,At)},useEffectEvent:function(e){var n=tn(),r={impl:e};return n.memoizedState=r,function(){if((Bt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Rf={readContext:Be,use:zu,useCallback:Rp,useContext:Be,useEffect:Ef,useImperativeHandle:wp,useInsertionEffect:Ap,useLayoutEffect:Sp,useMemo:Ip,useReducer:Bu,useRef:vp,useState:function(){return Bu(zi)},useDebugValue:Tf,useDeferredValue:function(e,n){var r=me();return Cp(r,Yt.memoizedState,e,n)},useTransition:function(){var e=Bu(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:ip,useId:Vp,useHostTransitionStatus:bf,useFormState:pp,useActionState:pp,useOptimistic:function(e,n){var r=me();return up(r,Yt,e,n)},useMemoCache:gf,useCacheRefresh:Mp};Rf.useEffectEvent=Tp;var kp={readContext:Be,use:zu,useCallback:Rp,useContext:Be,useEffect:Ef,useImperativeHandle:wp,useInsertionEffect:Ap,useLayoutEffect:Sp,useMemo:Ip,useReducer:yf,useRef:vp,useState:function(){return yf(zi)},useDebugValue:Tf,useDeferredValue:function(e,n){var r=me();return Yt===null?Af(r,e,n):Cp(r,Yt.memoizedState,e,n)},useTransition:function(){var e=yf(zi)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Fo(e),n]},useSyncExternalStore:ip,useId:Vp,useHostTransitionStatus:bf,useFormState:_p,useActionState:_p,useOptimistic:function(e,n){var r=me();return Yt!==null?up(r,Yt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:gf,useCacheRefresh:Mp};kp.useEffectEvent=Tp;function If(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cf={enqueueSetState:function(e,n,r){e=e._reactInternals;var o=vn(),h=Tr(o);h.payload=n,r!=null&&(h.callback=r),n=Ar(e,h,o),n!==null&&(ln(n,e,o),qo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=vn(),h=Tr(o);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Ar(e,h,o),n!==null&&(ln(n,e,o),qo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=vn(),o=Tr(r);o.tag=2,n!=null&&(o.callback=n),n=Ar(e,o,r),n!==null&&(ln(n,e,r),qo(n,e,r))}};function zp(e,n,r,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Mo(r,o)||!Mo(h,f):!0}function Bp(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Cf.enqueueReplaceState(n,n.state,null)}function Vs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function qp(e){Tu(e)}function jp(e){console.error(e)}function Hp(e){Tu(e)}function Gu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Gp(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,r){return r=Tr(r),r.tag=3,r.payload={element:null},r.callback=function(){Gu(e,n)},r}function Fp(e){return e=Tr(e),e.tag=3,e}function Qp(e,n,r,o){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Gp(n,r,o)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Gp(n,r,o),typeof h!="function"&&(Cr===null?Cr=new Set([this]):Cr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function pA(e,n,r,o,h){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&ya(n,r,h,!0),r=gn.current,r!==null){switch(r.tag){case 31:case 13:return Vn===null?nc():r.alternate===null&&ue===0&&(ue=3),r.flags&=-257,r.flags|=65536,r.lanes=h,o===Ou?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),td(e,o,h)),!1;case 22:return r.flags|=65536,o===Ou?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),td(e,o,h)),!1}throw Error(a(435,r.tag))}return td(e,o,h),nc(),!1}if(Vt)return n=gn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Kh&&(e=Error(a(422),{cause:o}),xo(Cn(e,r)))):(o!==Kh&&(n=Error(a(423),{cause:o}),xo(Cn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Cn(o,r),h=Df(e.stateNode,o,h),sf(e,h),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=Cn(f,r),el===null?el=[f]:el.push(f),ue!==4&&(ue=2),n===null)return!0;o=Cn(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=Df(r.stateNode,o,e),sf(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cr===null||!Cr.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Fp(h),Qp(h,e,r,o),sf(r,h),!1}r=r.return}while(r!==null);return!1}var Nf=Error(a(461)),Se=!1;function qe(e,n,r,o){n.child=e===null?Zg(n,null,r,o):Ns(n,e.child,r,o)}function Kp(e,n,r,o,h){r=r.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Rs(n),o=hf(e,n,r,g,f,h),E=ff(),e!==null&&!Se?(df(e,n,h),Bi(e,n,h)):(Vt&&E&&Fh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Yp(e,n,r,o,h){if(e===null){var f=r.type;return typeof f=="function"&&!jh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Xp(e,n,f,o,h)):(e=wu(r.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!kf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:Mo,r(g,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=Ui(f,o),e.ref=n.ref,e.return=n,n.child=e}function Xp(e,n,r,o,h){if(e!==null){var f=e.memoizedProps;if(Mo(f,o)&&e.ref===n.ref)if(Se=!1,n.pendingProps=o=f,kf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return Of(e,n,r,o,h)}function Zp(e,n,r,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Jp(e,n,f,r,o)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Wg(n,f):of(),tp(n);else return o=n.lanes=536870912,Jp(e,n,f!==null?f.baseLanes|r:r,r,o)}else f!==null?(Du(n,f.cachePool),Wg(n,f),br(),n.memoizedState=null):(e!==null&&Du(n,null),of(),br());return qe(e,n,h,r),n.child}function Yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Jp(e,n,r,o,h){var f=tf();return f=f===null?null:{parent:Te._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Du(n,null),of(),tp(n),e!==null&&ya(e,n,o,!0),n.childLanes=h,null}function Fu(e,n){return n=Ku({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function $p(e,n,r){return Ns(n,e.child,null,r),e=Fu(n,n.pendingProps),e.flags|=2,pn(n),n.memoizedState=null,e}function yA(e,n,r){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Vt){if(o.mode==="hidden")return e=Fu(n,o),n.lanes=536870912,Yo(null,e);if(uf(n),(e=ee)?(e=c_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=Lg(e),r.return=n,n.child=r,ze=n,ee=null)):e=null,e===null)throw _r(n);return n.lanes=536870912,null}return Fu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=$p(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||ya(e,n,r,!1),h=(r&e.childLanes)!==0,Se||h){if(o=Jt,o!==null&&(g=go(o,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,As(e,g),ln(o,e,g),Nf;nc(),n=$p(e,n,r)}else e=f.treeContext,ee=Mn(g.nextSibling),ze=n,Vt=!0,yr=null,On=!1,e!==null&&kg(n,e),n=Fu(n,o),n.flags|=4096;return n}return e=Ui(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Of(e,n,r,o,h){return Rs(n),r=hf(e,n,r,o,void 0,h),o=ff(),e!==null&&!Se?(df(e,n,h),Bi(e,n,h)):(Vt&&o&&Fh(n),n.flags|=1,qe(e,n,r,h),n.child)}function Wp(e,n,r,o,h,f){return Rs(n),n.updateQueue=null,r=np(n,o,r,h),ep(e),o=ff(),e!==null&&!Se?(df(e,n,f),Bi(e,n,f)):(Vt&&o&&Fh(n),n.flags|=1,qe(e,n,r,f),n.child)}function ty(e,n,r,o,h){if(Rs(n),n.stateNode===null){var f=da,g=r.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},nf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Be(g):da,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(If(n,r,g,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Ho(n,o,f,h),jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Vs(r,E);f.props=R;var k=f.context,j=r.contextType;g=da,typeof j=="object"&&j!==null&&(g=Be(j));var Q=r.getDerivedStateFromProps;j=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||k!==g)&&Bp(n,f,o,g),Er=!1;var z=n.memoizedState;f.state=z,Ho(n,o,f,h),jo(),k=n.memoizedState,E||z!==k||Er?(typeof Q=="function"&&(If(n,r,Q,o),k=n.memoizedState),(R=Er||zp(n,r,R,o,z,k,g))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=k),f.props=o,f.state=k,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),g=n.memoizedProps,j=Vs(r,g),f.props=j,Q=n.pendingProps,z=f.context,k=r.contextType,R=da,typeof k=="object"&&k!==null&&(R=Be(k)),E=r.getDerivedStateFromProps,(k=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Q||z!==R)&&Bp(n,f,o,R),Er=!1,z=n.memoizedState,f.state=z,Ho(n,o,f,h),jo();var q=n.memoizedState;g!==Q||z!==q||Er||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(If(n,r,E,o),q=n.memoizedState),(j=Er||zp(n,r,j,o,z,q,R)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(k||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=R,o=j):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Qu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Ns(n,e.child,null,h),n.child=Ns(n,null,r,h)):qe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function ey(e,n,r,o){return bs(),n.flags|=256,qe(e,n,r,o),n.child}var Vf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:Gg()}}function Uf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=_n),e}function ny(e,n,r){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Vt){if(h?Sr(n):br(),(e=ee)?(e=c_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:pr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},r=Lg(e),r.return=n,n.child=r,ze=n,ee=null)):e=null,e===null)throw _r(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(br(),h=n.mode,E=Ku({mode:"hidden",children:E},h),o=Ss(o,h,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Mf(r),o.childLanes=Uf(e,g,r),n.memoizedState=Vf,Yo(null,o)):(Sr(n),Lf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(Sr(n),n.flags&=-257,n=xf(e,n,r)):n.memoizedState!==null?(br(),n.child=e.child,n.flags|=128,n=null):(br(),E=o.fallback,h=n.mode,o=Ku({mode:"visible",children:o.children},h),E=Ss(E,h,r,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Ns(n,e.child,null,r),o=n.child,o.memoizedState=Mf(r),o.childLanes=Uf(e,g,r),n.memoizedState=Vf,n=Yo(null,o));else if(Sr(n),pd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var k=g.dgst;g=k,o=Error(a(419)),o.stack="",o.digest=g,xo({value:o,source:null,stack:null}),n=xf(e,n,r)}else if(Se||ya(e,n,r,!1),g=(r&e.childLanes)!==0,Se||g){if(g=Jt,g!==null&&(o=go(g,r),o!==0&&o!==R.retryLane))throw R.retryLane=o,As(e,o),ln(g,e,o),Nf;gd(E)||nc(),n=xf(e,n,r)}else gd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ee=Mn(E.nextSibling),ze=n,Vt=!0,yr=null,On=!1,e!==null&&kg(n,e),n=Lf(n,o.children),n.flags|=4096);return n}return h?(br(),E=o.fallback,h=n.mode,R=e.child,k=R.sibling,o=Ui(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,k!==null?E=Ui(k,E):(E=Ss(E,h,r,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,Yo(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Mf(r):(h=E.cachePool,h!==null?(R=Te._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=Gg(),E={baseLanes:E.baseLanes|r,cachePool:h}),o.memoizedState=E,o.childLanes=Uf(e,g,r),n.memoizedState=Vf,Yo(e.child,o)):(Sr(n),r=e.child,e=r.sibling,r=Ui(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Lf(e,n){return n=Ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ku(e,n){return e=mn(22,e,null,n),e.lanes=0,e}function xf(e,n,r){return Ns(n,e.child,null,r),e=Lf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function iy(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Zh(e.return,n,r)}function Pf(e,n,r,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function ry(e,n,r){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,tt(de,g),qe(e,n,o,r),o=Vt?Lo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iy(e,r,n);else if(e.tag===19)iy(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&Lu(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Pf(n,!1,h,r,f,o);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Lu(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Pf(n,!0,r,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Ir|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(ya(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Ui(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Ui(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function kf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function _A(e,n,r){switch(n.tag){case 3:De(n,n.stateNode.containerInfo),vr(n,Te,e.memoizedState.cache),bs();break;case 27:case 5:rs(n);break;case 4:De(n,n.stateNode.containerInfo);break;case 10:vr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Sr(n),n.flags|=128,null):(r&n.child.childLanes)!==0?ny(e,n,r):(Sr(n),e=Bi(e,n,r),e!==null?e.sibling:null);Sr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(ya(e,n,r,!1),o=(r&n.childLanes)!==0),h){if(o)return ry(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(de,de.current),o)break;return null;case 22:return n.lanes=0,Zp(e,n,r,n.pendingProps);case 24:vr(n,Te,e.memoizedState.cache)}return Bi(e,n,r)}function sy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!kf(e,r)&&(n.flags&128)===0)return Se=!1,_A(e,n,r);Se=(e.flags&131072)!==0}else Se=!1,Vt&&(n.flags&1048576)!==0&&Pg(n,Lo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Cs(n.elementType),n.type=e,typeof e=="function")jh(e)?(o=Vs(e,o),n.tag=1,n=ty(null,n,e,o,r)):(n.tag=0,n=Of(null,n,e,o,r));else{if(e!=null){var h=e.$$typeof;if(h===Qt){n.tag=11,n=Kp(null,n,e,o,r);break t}else if(h===C){n.tag=14,n=Yp(null,n,e,o,r);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,h=Vs(o,n.pendingProps),ty(e,n,o,h,r);case 3:t:{if(De(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Ho(n,o,null,r);var g=n.memoizedState;if(o=g.cache,vr(n,Te,o),o!==f.cache&&Jh(n,[Te],r,!0),jo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(e,n,o,r);break t}else if(o!==h){h=Cn(Error(a(424)),n),xo(h),n=ey(e,n,o,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=Mn(e.firstChild),ze=n,Vt=!0,yr=null,On=!0,r=Zg(n,null,o,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(bs(),o===h){n=Bi(e,n,r);break t}qe(e,n,o,r)}n=n.child}return n;case 26:return Qu(e,n),e===null?(r=p_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Vt||(r=n.type,e=n.pendingProps,o=uc(St.current).createElement(r),o[_e]=n,o[Me]=e,je(o,r,e),ve(o),n.stateNode=o):n.memoizedState=p_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return rs(n),e===null&&Vt&&(o=n.stateNode=d_(n.type,n.pendingProps,St.current),ze=n,On=!0,h=ee,Vr(n.type)?(yd=h,ee=Mn(o.firstChild)):ee=h),qe(e,n,n.pendingProps.children,r),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Vt&&((h=o=ee)&&(o=YA(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,ze=n,ee=Mn(o.firstChild),On=!1,h=!0):h=!1),h||_r(n)),rs(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,fd(h,f)?o=null:g!==null&&fd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,uA,null,null,r),ul._currentValue=h),Qu(e,n),qe(e,n,o,r),n.child;case 6:return e===null&&Vt&&((e=r=ee)&&(r=XA(r,n.pendingProps,On),r!==null?(n.stateNode=r,ze=n,ee=null,e=!0):e=!1),e||_r(n)),null;case 13:return ny(e,n,r);case 4:return De(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Ns(n,null,o,r):qe(e,n,o,r),n.child;case 11:return Kp(e,n,n.type,n.pendingProps,r);case 7:return qe(e,n,n.pendingProps,r),n.child;case 8:return qe(e,n,n.pendingProps.children,r),n.child;case 12:return qe(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,vr(n,n.type,o.value),qe(e,n,o.children,r),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Rs(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,r),n.child;case 14:return Yp(e,n,n.type,n.pendingProps,r);case 15:return Xp(e,n,n.type,n.pendingProps,r);case 19:return ry(e,n,r);case 31:return yA(e,n,r);case 22:return Zp(e,n,r,n.pendingProps);case 24:return Rs(n),o=Be(Te),e===null?(h=tf(),h===null&&(h=Jt,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:o,cache:h},nf(n),vr(n,Te,h)):((e.lanes&r)!==0&&(rf(e,n),Ho(n,null,null,r),jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vr(n,Te,o)):(o=f.cache,vr(n,Te,o),o!==h.cache&&Jh(n,[Te],r,!0))),qe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(e){e.flags|=4}function zf(e,n,r,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Vy())e.flags|=8192;else throw Ds=Ou,ef}else e.flags&=-16777217}function ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T_(n))if(Vy())e.flags|=8192;else throw Ds=Ou,ef}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?tu():536870912,e.lanes|=n,Da|=n)}function Xo(e,n){if(!Vt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function vA(e,n,r){var o=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(Te),re(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(pa(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(ne(n),ay(n,f)):(ne(n),zf(n,h,null,o,r))):f?f!==e.memoizedState?(qi(n),ne(n),ay(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),ne(n),zf(n,h,e,o,r)),null;case 27:if(Ys(n),r=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=rt.current,pa(n)?zg(n):(e=d_(h,o,r),n.stateNode=e,qi(n))}return ne(n),null;case 5:if(Ys(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=rt.current,pa(n))zg(n);else{var g=uc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[_e]=n,f[Me]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(je(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(n)}}return ne(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,pa(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,h=ze,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[_e]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||n_(e.nodeValue,r)),e||_r(n,!0)}else e=uc(e).createTextNode(o),e[_e]=n,n.stateNode=e}return ne(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(o=pa(n),r!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[_e]=n}else bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else r=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(pn(n),n):(pn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=pa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[_e]=n}else bs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(pn(n),n):(pn(n),null)}return pn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=o!==null,e=e!==null&&e.memoizedState!==null,r&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Yu(n,n.updateQueue),ne(n),null);case 4:return re(),e===null&&od(n.stateNode.containerInfo),ne(n),null;case 10:return Pi(n.type),ne(n),null;case 19:if(Y(de),o=n.memoizedState,o===null)return ne(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Xo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Lu(e),f!==null){for(n.flags|=128,Xo(o,!1),e=f.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Ug(r,e),r=r.sibling;return tt(de,de.current&1|2),Vt&&Li(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Wu&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304)}else{if(!h)if(e=Lu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Xo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Vt)return ne(n),null}else 2*$e()-o.renderingStartTime>Wu&&r!==536870912&&(n.flags|=128,h=!0,Xo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,r=de.current,tt(de,h?r&1|2:r&1),Vt&&Li(n,o.treeForkCount),e):(ne(n),null);case 22:case 23:return pn(n),lf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&Yu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&Y(Is),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Pi(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function EA(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Te),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ys(n),null;case 31:if(n.memoizedState!==null){if(pn(n),n.alternate===null)throw Error(a(340));bs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(pn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));bs()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(de),null;case 4:return re(),null;case 10:return Pi(n.type),null;case 22:case 23:return pn(n),lf(),e!==null&&Y(Is),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Te),null;case 25:return null;default:return null}}function oy(e,n){switch(Qh(n),n.tag){case 3:Pi(Te),re();break;case 26:case 27:case 5:Ys(n);break;case 4:re();break;case 31:n.memoizedState!==null&&pn(n);break;case 13:pn(n);break;case 19:Y(de);break;case 10:Pi(n.type);break;case 22:case 23:pn(n),lf(),e!==null&&Y(Is);break;case 24:Pi(Te)}}function Zo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var h=o.next;r=h;do{if((r.tag&e)===e){o=void 0;var f=r.create,g=r.inst;o=f(),g.destroy=o}r=r.next}while(r!==h)}}catch(E){Ft(n,n.return,E)}}function wr(e,n,r){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=r,k=E;try{k()}catch(j){Ft(h,R,j)}}}o=o.next}while(o!==f)}}catch(j){Ft(n,n.return,j)}}function ly(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{$g(n,r)}catch(o){Ft(e,e.return,o)}}}function uy(e,n,r){r.props=Vs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Ft(e,n,o)}}function Jo(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof r=="function"?e.refCleanup=r(o):r.current=o}}catch(h){Ft(e,n,h)}}function _i(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(h){Ft(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Ft(e,n,h)}else r.current=null}function cy(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(h){Ft(e,e.return,h)}}function Bf(e,n,r){try{var o=e.stateNode;jA(o,e.type,r,n),o[Me]=n}catch(h){Ft(e,e.return,h)}}function hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vr(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=qn));else if(o!==4&&(o===27&&Vr(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(jf(e,n,r),e=e.sibling;e!==null;)jf(e,n,r),e=e.sibling}function Xu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&(o===27&&Vr(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Xu(e,n,r),e=e.sibling;e!==null;)Xu(e,n,r),e=e.sibling}function fy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);je(n,o,r),n[_e]=e,n[Me]=r}catch(f){Ft(e,e.return,f)}}var ji=!1,be=!1,Hf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function TA(e,n){if(e=e.containerInfo,cd=pc,e=wg(e),Lh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,E=-1,R=-1,k=0,j=0,Q=e,z=null;e:for(;;){for(var q;Q!==r||h!==0&&Q.nodeType!==3||(E=g+h),Q!==f||o!==0&&Q.nodeType!==3||(R=g+o),Q.nodeType===3&&(g+=Q.nodeValue.length),(q=Q.firstChild)!==null;)z=Q,Q=q;for(;;){if(Q===e)break e;if(z===r&&++k===h&&(E=g),z===f&&++j===o&&(R=g),(q=Q.nextSibling)!==null)break;Q=z,z=Q.parentNode}Q=q}r=E===-1||R===-1?null:{start:E,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(hd={focusedElem:e,selectionRange:r},pc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var st=Vs(r.type,h);e=o.getSnapshotBeforeUpdate(st,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ct){Ft(r,r.return,ct)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)md(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function my(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Gi(e,r),o&4&&Zo(5,r);break;case 1:if(Gi(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Ft(r,r.return,g)}else{var h=Vs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Ft(r,r.return,g)}}o&64&&ly(r),o&512&&Jo(r,r.return);break;case 3:if(Gi(e,r),o&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{$g(e,n)}catch(g){Ft(r,r.return,g)}}break;case 27:n===null&&o&4&&fy(r);case 26:case 5:Gi(e,r),n===null&&o&4&&cy(r),o&512&&Jo(r,r.return);break;case 12:Gi(e,r);break;case 31:Gi(e,r),o&4&&yy(e,r);break;case 13:Gi(e,r),o&4&&_y(e,r),o&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=NA.bind(null,r),ZA(e,r))));break;case 22:if(o=r.memoizedState!==null||ji,!o){n=n!==null&&n.memoizedState!==null||be,h=ji;var f=be;ji=o,(be=n)&&!f?Fi(e,r,(r.subtreeFlags&8772)!==0):Gi(e,r),ji=h,be=f}break;case 30:break;default:Gi(e,r)}}function gy(e){var n=e.alternate;n!==null&&(e.alternate=null,gy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ws(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function Hi(e,n,r){for(r=r.child;r!==null;)py(e,n,r),r=r.sibling}function py(e,n,r){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Pn,r)}catch{}switch(r.tag){case 26:be||_i(r,n),Hi(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:be||_i(r,n);var o=ae,h=rn;Vr(r.type)&&(ae=r.stateNode,rn=!1),Hi(e,n,r),al(r.stateNode),ae=o,rn=h;break;case 5:be||_i(r,n);case 6:if(o=ae,h=rn,ae=null,Hi(e,n,r),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(r.stateNode)}catch(f){Ft(r,n,f)}else try{ae.removeChild(r.stateNode)}catch(f){Ft(r,n,f)}break;case 18:ae!==null&&(rn?(e=ae,l_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Pa(e)):l_(ae,r.stateNode));break;case 4:o=ae,h=rn,ae=r.stateNode.containerInfo,rn=!0,Hi(e,n,r),ae=o,rn=h;break;case 0:case 11:case 14:case 15:wr(2,r,n),be||wr(4,r,n),Hi(e,n,r);break;case 1:be||(_i(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&uy(r,n,o)),Hi(e,n,r);break;case 21:Hi(e,n,r);break;case 22:be=(o=be)||r.memoizedState!==null,Hi(e,n,r),be=o;break;default:Hi(e,n,r)}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(r){Ft(n,n.return,r)}}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(r){Ft(n,n.return,r)}}function AA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new dy),n;default:throw Error(a(435,e.tag))}}function Zu(e,n){var r=AA(e);n.forEach(function(o){if(!r.has(o)){r.add(o);var h=OA.bind(null,e,o);o.then(h,h)}})}function sn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var h=r[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Vr(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));py(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vy(n,e),n=n.sibling}var Kn=null;function vy(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:sn(n,e),an(e),o&4&&(wr(3,e,e.return),Zo(3,e),wr(5,e,e.return));break;case 1:sn(n,e),an(e),o&512&&(be||r===null||_i(r,r.return)),o&64&&ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var h=Kn;if(sn(n,e),an(e),o&512&&(be||r===null||_i(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),je(f,o,r),f[_e]=e,ve(f),o=f;break t;case"link":var g=v_("link","href",h).get(o+(r.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),je(f,o,r),h.head.appendChild(f);break;case"meta":if(g=v_("meta","content",h).get(o+(r.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(E,1);break e}}f=h.createElement(o),je(f,o,r),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[_e]=e,ve(f),o=f}e.stateNode=o}else E_(h,e.type,e.stateNode);else e.stateNode=__(h,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?E_(h,e.type,e.stateNode):__(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,r.memoizedProps)}break;case 27:sn(n,e),an(e),o&512&&(be||r===null||_i(r,r.return)),r!==null&&o&4&&Bf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(sn(n,e),an(e),o&512&&(be||r===null||_i(r,r.return)),e.flags&32){h=e.stateNode;try{nn(h,"")}catch(st){Ft(e,e.return,st)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,r!==null?r.memoizedProps:h)),o&1024&&(Hf=!0);break;case 6:if(sn(n,e),an(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(st){Ft(e,e.return,st)}}break;case 3:if(fc=null,h=Kn,Kn=cc(n.containerInfo),sn(n,e),Kn=h,an(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(st){Ft(e,e.return,st)}Hf&&(Hf=!1,Ey(e));break;case 4:o=Kn,Kn=cc(e.stateNode.containerInfo),sn(n,e),an(e),Kn=o;break;case 12:sn(n,e),an(e);break;case 31:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 13:sn(n,e),an(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&($u=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,k=ji,j=be;if(ji=k||h,be=j||R,sn(n,e),be=j,ji=k,an(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||ji||be||Ms(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var Q=R.memoizedProps.style,z=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(st){Ft(R,R.return,st)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(st){Ft(R,R.return,st)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?u_(q,!0):u_(R.stateNode,!1)}catch(st){Ft(R,R.return,st)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Zu(e,r))));break;case 19:sn(n,e),an(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Zu(e,o)));break;case 30:break;case 21:break;default:sn(n,e),an(e)}}function an(e){var n=e.flags;if(n&2){try{for(var r,o=e.return;o!==null;){if(hy(o)){r=o;break}o=o.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=qf(e);Xu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(nn(g,""),r.flags&=-33);var E=qf(e);Xu(e,E,g);break;case 3:case 4:var R=r.stateNode.containerInfo,k=qf(e);jf(e,k,R);break;default:throw Error(a(161))}}catch(j){Ft(e,e.return,j)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(e,n.alternate,n),n=n.sibling}function Ms(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:wr(4,n,n.return),Ms(n);break;case 1:_i(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&uy(n,n.return,r),Ms(n);break;case 27:al(n.stateNode);case 26:case 5:_i(n,n.return),Ms(n);break;case 22:n.memoizedState===null&&Ms(n);break;case 30:Ms(n);break;default:Ms(n)}e=e.sibling}}function Fi(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,r),Zo(4,f);break;case 1:if(Fi(h,f,r),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Ft(o,o.return,k)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Jg(R[h],E)}catch(k){Ft(o,o.return,k)}}r&&g&64&&ly(f),Jo(f,f.return);break;case 27:fy(f);case 26:case 5:Fi(h,f,r),r&&o===null&&g&4&&cy(f),Jo(f,f.return);break;case 12:Fi(h,f,r);break;case 31:Fi(h,f,r),r&&g&4&&yy(h,f);break;case 13:Fi(h,f,r),r&&g&4&&_y(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,r),Jo(f,f.return);break;case 30:break;default:Fi(h,f,r)}n=n.sibling}}function Gf(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Po(r))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e))}function Yn(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ty(e,n,r,o),n=n.sibling}function Ty(e,n,r,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,r,o),h&2048&&Zo(9,n);break;case 1:Yn(e,n,r,o);break;case 3:Yn(e,n,r,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Po(e)));break;case 12:if(h&2048){Yn(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Ft(n,n.return,R)}}else Yn(e,n,r,o);break;case 31:Yn(e,n,r,o);break;case 13:Yn(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,r,o):$o(e,n):f._visibility&2?Yn(e,n,r,o):(f._visibility|=2,Ra(e,n,r,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(g,n);break;case 24:Yn(e,n,r,o),h&2048&&Ff(n.alternate,n);break;default:Yn(e,n,r,o)}}function Ra(e,n,r,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=r,R=o,k=g.flags;switch(g.tag){case 0:case 11:case 15:Ra(f,g,E,R,h),Zo(8,g);break;case 23:break;case 22:var j=g.stateNode;g.memoizedState!==null?j._visibility&2?Ra(f,g,E,R,h):$o(f,g):(j._visibility|=2,Ra(f,g,E,R,h)),h&&k&2048&&Gf(g.alternate,g);break;case 24:Ra(f,g,E,R,h),h&&k&2048&&Ff(g.alternate,g);break;default:Ra(f,g,E,R,h)}n=n.sibling}}function $o(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,h=o.flags;switch(o.tag){case 22:$o(r,o),h&2048&&Gf(o.alternate,o);break;case 24:$o(r,o),h&2048&&Ff(o.alternate,o);break;default:$o(r,o)}n=n.sibling}}var Wo=8192;function Ia(e,n,r){if(e.subtreeFlags&Wo)for(e=e.child;e!==null;)Ay(e,n,r),e=e.sibling}function Ay(e,n,r){switch(e.tag){case 26:Ia(e,n,r),e.flags&Wo&&e.memoizedState!==null&&lS(r,Kn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,r);break;case 3:case 4:var o=Kn;Kn=cc(e.stateNode.containerInfo),Ia(e,n,r),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=Wo,Wo=16777216,Ia(e,n,r),Wo=o):Ia(e,n,r));break;default:Ia(e,n,r)}}function Sy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function tl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,wy(o,e)}Sy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)by(e),e=e.sibling}function by(e){switch(e.tag){case 0:case 11:case 15:tl(e),e.flags&2048&&wr(9,e,e.return);break;case 3:tl(e);break;case 12:tl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ju(e)):tl(e);break;default:tl(e)}}function Ju(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Le=o,wy(o,e)}Sy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:wr(8,n,n.return),Ju(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Ju(n));break;default:Ju(n)}e=e.sibling}}function wy(e,n){for(;Le!==null;){var r=Le;switch(r.tag){case 0:case 11:case 15:wr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Po(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Le=o;else t:for(r=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(gy(o),o===r){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var SA={getCacheForType:function(e){var n=Be(Te),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Be(Te).controller.signal}},bA=typeof WeakMap=="function"?WeakMap:Map,Bt=0,Jt=null,wt=null,It=0,Gt=0,yn=null,Rr=!1,Ca=!1,Qf=!1,Qi=0,ue=0,Ir=0,Us=0,Kf=0,_n=0,Da=0,el=null,on=null,Yf=!1,$u=0,Ry=0,Wu=1/0,tc=null,Cr=null,Oe=0,Dr=null,Na=null,Ki=0,Xf=0,Zf=null,Iy=null,nl=0,Jf=null;function vn(){return(Bt&2)!==0&&It!==0?It&-It:H.T!==null?id():eu()}function Cy(){if(_n===0)if((It&536870912)===0||Vt){var e=os;os<<=1,(os&3932160)===0&&(os=262144),_n=e}else _n=536870912;return e=gn.current,e!==null&&(e.flags|=32),_n}function ln(e,n,r){(e===Jt&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Nr(e,It,_n,!1)),ls(e,r),((Bt&2)===0||e!==Jt)&&(e===Jt&&((Bt&2)===0&&(Us|=r),ue===4&&Nr(e,It,_n,!1)),vi(e))}function Dy(e,n,r){if((Bt&6)!==0)throw Error(a(327));var o=!r&&(n&127)===0&&(n&e.expiredLanes)===0||kn(e,n),h=o?IA(e,n):Wf(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Nr(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!wA(r)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=el;var R=E.current.memoizedState.isDehydrated;if(R&&(Oa(E,g).flags|=256),g=Wf(E,g,!1),g!==2){if(Qf&&!R){E.errorRecoveryDisabledLanes|=f,Us|=f,h=4;break t}f=on,on=h,f!==null&&(on===null?on=f:on.push.apply(on,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Nr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Nr(o,n,_n,!Rr);break t;case 2:on=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=$u+300-$e(),10<h)){if(Nr(o,n,_n,!Rr),ei(o,0,!0)!==0)break t;Ki=n,o.timeoutHandle=a_(Ny.bind(null,o,r,on,tc,Yf,n,_n,Us,Da,Rr,f,"Throttled",-0,0),h);break t}Ny(o,r,on,tc,Yf,n,_n,Us,Da,Rr,f,null,-0,0)}}break}while(!0);vi(e)}function Ny(e,n,r,o,h,f,g,E,R,k,j,Q,z,q){if(e.timeoutHandle=-1,Q=n.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Ay(n,f,Q);var st=(f&62914560)===f?$u-$e():(f&4194048)===f?Ry-$e():0;if(st=uS(Q,st),st!==null){Ki=f,e.cancelPendingCommit=st(ky.bind(null,e,n,f,r,o,h,g,E,R,j,Q,null,z,q)),Nr(e,f,g,!k);return}}ky(e,n,f,r,o,h,g,E,R)}function wA(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var h=r[o],f=h.getSnapshot;h=h.value;try{if(!dn(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Nr(e,n,r,o){n&=~Kf,n&=~Us,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;o[f]=-1,h&=~g}r!==0&&us(e,r,n)}function ec(){return(Bt&6)===0?(il(0),!1):!0}function $f(){if(wt!==null){if(Gt===0)var e=wt.return;else e=wt,xi=ws=null,mf(e),Ta=null,zo=0,e=wt;for(;e!==null;)oy(e.alternate,e),e=e.return;wt=null}}function Oa(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,FA(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Ki=0,$f(),Jt=e,wt=r=Ui(e.current,null),It=n,Gt=0,yn=null,Rr=!1,Ca=kn(e,n),Qf=!1,Da=_n=Kf=Us=Ir=ue=0,on=el=null,Yf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Qi=n,Au(),r}function Oy(e,n){At=null,H.H=Ko,n===Ea||n===Nu?(n=Kg(),Gt=3):n===ef?(n=Kg(),Gt=4):Gt=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,yn=n,wt===null&&(ue=1,Gu(e,Cn(n,e.current)))}function Vy(){var e=gn.current;return e===null?!0:(It&4194048)===It?Vn===null:(It&62914560)===It||(It&536870912)!==0?e===Vn:!1}function My(){var e=H.H;return H.H=Ko,e===null?Ko:e}function Uy(){var e=H.A;return H.A=SA,e}function nc(){ue=4,Rr||(It&4194048)!==It&&gn.current!==null||(Ca=!0),(Ir&134217727)===0&&(Us&134217727)===0||Jt===null||Nr(Jt,It,_n,!1)}function Wf(e,n,r){var o=Bt;Bt|=2;var h=My(),f=Uy();(Jt!==e||It!==n)&&(tc=null,Oa(e,n)),n=!1;var g=ue;t:do try{if(Gt!==0&&wt!==null){var E=wt,R=yn;switch(Gt){case 8:$f(),g=6;break t;case 3:case 2:case 9:case 6:gn.current===null&&(n=!0);var k=Gt;if(Gt=0,yn=null,Va(e,E,R,k),r&&Ca){g=0;break t}break;default:k=Gt,Gt=0,yn=null,Va(e,E,R,k)}}RA(),g=ue;break}catch(j){Oy(e,j)}while(!0);return n&&e.shellSuspendCounter++,xi=ws=null,Bt=o,H.H=h,H.A=f,wt===null&&(Jt=null,It=0,Au()),g}function RA(){for(;wt!==null;)Ly(wt)}function IA(e,n){var r=Bt;Bt|=2;var o=My(),h=Uy();Jt!==e||It!==n?(tc=null,Wu=$e()+500,Oa(e,n)):Ca=kn(e,n);t:do try{if(Gt!==0&&wt!==null){n=wt;var f=yn;e:switch(Gt){case 1:Gt=0,yn=null,Va(e,n,f,1);break;case 2:case 9:if(Fg(f)){Gt=0,yn=null,xy(n);break}n=function(){Gt!==2&&Gt!==9||Jt!==e||(Gt=7),vi(e)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Fg(f)?(Gt=0,yn=null,xy(n)):(Gt=0,yn=null,Va(e,n,f,7));break;case 5:var g=null;switch(wt.tag){case 26:g=wt.memoizedState;case 5:case 27:var E=wt;if(g?T_(g):E.stateNode.complete){Gt=0,yn=null;var R=E.sibling;if(R!==null)wt=R;else{var k=E.return;k!==null?(wt=k,ic(k)):wt=null}break e}}Gt=0,yn=null,Va(e,n,f,5);break;case 6:Gt=0,yn=null,Va(e,n,f,6);break;case 8:$f(),ue=6;break t;default:throw Error(a(462))}}CA();break}catch(j){Oy(e,j)}while(!0);return xi=ws=null,H.H=o,H.A=h,Bt=r,wt!==null?0:(Jt=null,It=0,Au(),ue)}function CA(){for(;wt!==null&&!Ch();)Ly(wt)}function Ly(e){var n=sy(e.alternate,e,Qi);e.memoizedProps=e.pendingProps,n===null?ic(e):wt=n}function xy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Wp(r,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Wp(r,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:mf(n);default:oy(r,n),n=wt=Ug(n,Qi),n=sy(r,n,Qi)}e.memoizedProps=e.pendingProps,n===null?ic(e):wt=n}function Va(e,n,r,o){xi=ws=null,mf(n),Ta=null,zo=0;var h=n.return;try{if(pA(e,h,n,r,It)){ue=1,Gu(e,Cn(r,e.current)),wt=null;return}}catch(f){if(h!==null)throw wt=h,f;ue=1,Gu(e,Cn(r,e.current)),wt=null;return}n.flags&32768?(Vt||o===1?e=!0:Ca||(It&536870912)!==0?e=!1:(Rr=e=!0,(o===2||o===9||o===3||o===6)&&(o=gn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Py(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){Py(n,Rr);return}e=n.return;var r=vA(n.alternate,n,Qi);if(r!==null){wt=r;return}if(n=n.sibling,n!==null){wt=n;return}wt=n=e}while(n!==null);ue===0&&(ue=5)}function Py(e,n){do{var r=EA(e.alternate,e);if(r!==null){r.flags&=32767,wt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){wt=e;return}wt=e=r}while(e!==null);ue=6,wt=null}function ky(e,n,r,o,h,f,g,E,R){e.cancelPendingCommit=null;do rc();while(Oe!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(e,r,f,g,E,R),e===Jt&&(wt=Jt=null,It=0),Na=n,Dr=e,Ki=r,Xf=f,Zf=h,Iy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,VA(ar,function(){return Hy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=W.p,W.p=2,g=Bt,Bt|=4;try{TA(e,n,r)}finally{Bt=g,W.p=h,H.T=o}}Oe=1,zy(),By(),qy()}}function zy(){if(Oe===1){Oe=0;var e=Dr,n=Na,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var o=W.p;W.p=2;var h=Bt;Bt|=4;try{vy(n,e);var f=hd,g=wg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&bg(E.ownerDocument.documentElement,E)){if(R!==null&&Lh(E)){var k=R.start,j=R.end;if(j===void 0&&(j=k),"selectionStart"in E)E.selectionStart=k,E.selectionEnd=Math.min(j,E.value.length);else{var Q=E.ownerDocument||document,z=Q&&Q.defaultView||window;if(z.getSelection){var q=z.getSelection(),st=E.textContent.length,ct=Math.min(R.start,st),Zt=R.end===void 0?ct:Math.min(R.end,st);!q.extend&&ct>Zt&&(g=Zt,Zt=ct,ct=g);var U=Sg(E,ct),N=Sg(E,Zt);if(U&&N&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var P=Q.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),ct>Zt?(q.addRange(P),q.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),q.addRange(P))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var F=Q[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}pc=!!cd,hd=cd=null}finally{Bt=h,W.p=o,H.T=r}}e.current=n,Oe=2}}function By(){if(Oe===2){Oe=0;var e=Dr,n=Na,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var o=W.p;W.p=2;var h=Bt;Bt|=4;try{my(e,n.alternate,n)}finally{Bt=h,W.p=o,H.T=r}}Oe=3}}function qy(){if(Oe===4||Oe===3){Oe=0,Yl();var e=Dr,n=Na,r=Ki,o=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Na=Dr=null,jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cr=null),Ni(r),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=W.p,W.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,W.p=h}}(Ki&3)!==0&&rc(),vi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Jf?nl++:(nl=0,Jf=e):nl=0,il(0)}}function jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Po(n)))}function rc(){return zy(),By(),qy(),Hy()}function Hy(){if(Oe!==5)return!1;var e=Dr,n=Xf;Xf=0;var r=Ni(Ki),o=H.T,h=W.p;try{W.p=32>r?32:r,H.T=null,r=Zf,Zf=null;var f=Dr,g=Ki;if(Oe=0,Na=Dr=null,Ki=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,by(f.current),Ty(f,f.current,g,r),Bt=E,il(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{W.p=h,H.T=o,jy(e,n)}}function Gy(e,n,r){n=Cn(r,n),n=Df(e.stateNode,n,2),e=Ar(e,n,2),e!==null&&(ls(e,2),vi(e))}function Ft(e,n,r){if(e.tag===3)Gy(e,e,r);else for(;n!==null;){if(n.tag===3){Gy(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cr===null||!Cr.has(o))){e=Cn(r,e),r=Fp(2),o=Ar(n,r,2),o!==null&&(Qp(r,o,n,e),ls(o,2),vi(o));break}}n=n.return}}function td(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new bA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(r)||(Qf=!0,h.add(r),e=DA.bind(null,e,n,r),n.then(e,e))}function DA(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Jt===e&&(It&r)===r&&(ue===4||ue===3&&(It&62914560)===It&&300>$e()-$u?(Bt&2)===0&&Oa(e,0):Kf|=r,Da===It&&(Da=0)),vi(e)}function Fy(e,n){n===0&&(n=tu()),e=As(e,n),e!==null&&(ls(e,n),vi(e))}function NA(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Fy(e,r)}function OA(e,n){var r=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Fy(e,r)}function VA(e,n){return Ne(e,n)}var sc=null,Ma=null,ed=!1,ac=!1,nd=!1,Or=0;function vi(e){e!==Ma&&e.next===null&&(Ma===null?sc=Ma=e:Ma=Ma.next=e),ac=!0,ed||(ed=!0,UA())}function il(e,n){if(!nd&&ac){nd=!0;do for(var r=!1,o=sc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Xy(o,f))}else f=It,f=ei(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||kn(o,f)||(r=!0,Xy(o,f));o=o.next}while(r);nd=!1}}function MA(){Qy()}function Qy(){ac=ed=!1;var e=0;Or!==0&&GA()&&(e=Or);for(var n=$e(),r=null,o=sc;o!==null;){var h=o.next,f=Ky(o,n);f===0?(o.next=null,r===null?sc=h:r.next=h,h===null&&(Ma=r)):(r=o,(e!==0||(f&3)!==0)&&(ac=!0)),o=h}Oe!==0&&Oe!==5||il(e),Or!==0&&(Or=0)}function Ky(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,R=h[g];R===-1?((E&r)===0||(E&o)!==0)&&(h[g]=Nh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=Jt,r=It,r=ei(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,r===0||e===n&&(Gt===2||Gt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&sr(o),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||kn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&sr(o),Ni(r)){case 2:case 8:r=fo;break;case 32:r=ar;break;case 268435456:r=Xl;break;default:r=ar}return o=Yy.bind(null,e),r=Ne(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&sr(o),e.callbackPriority=2,e.callbackNode=null,2}function Yy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(rc()&&e.callbackNode!==r)return null;var o=It;return o=ei(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Dy(e,o,n),Ky(e,$e()),e.callbackNode!=null&&e.callbackNode===r?Yy.bind(null,e):null)}function Xy(e,n){if(rc())return null;Dy(e,n,!0)}function UA(){QA(function(){(Bt&6)!==0?Ne(ho,MA):Qy()})}function id(){if(Or===0){var e=_a;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Or=e}return Or}function Zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ia(""+e)}function Jy(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function LA(e,n,r,o,h){if(n==="submit"&&r&&r.stateNode===h){var f=Zy((h[Me]||null).action),g=o.submitter;g&&(n=(n=g[Me]||null)?Zy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Or!==0){var R=g?Jy(h,g):new FormData(h);Sf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?Jy(h,g):new FormData(h),Sf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var rd=0;rd<zh.length;rd++){var sd=zh[rd],xA=sd.toLowerCase(),PA=sd[0].toUpperCase()+sd.slice(1);Qn(xA,"on"+PA)}Qn(Cg,"onAnimationEnd"),Qn(Dg,"onAnimationIteration"),Qn(Ng,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(W0,"onTransitionRun"),Qn(tA,"onTransitionStart"),Qn(eA,"onTransitionCancel"),Qn(Og,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(rl));function $y(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,k=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(j){Tu(j)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,k=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=k;try{f(h)}catch(j){Tu(j)}h.currentTarget=null,f=R}}}}function Rt(e,n){var r=n[$s];r===void 0&&(r=n[$s]=new Set);var o=e+"__bubble";r.has(o)||(Wy(n,e,2,!1),r.add(o))}function ad(e,n,r){var o=0;n&&(o|=4),Wy(r,e,o,n)}var oc="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[oc]){e[oc]=!0,po.forEach(function(r){r!=="selectionchange"&&(kA.has(r)||ad(r,!1,e),ad(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[oc]||(n[oc]=!0,ad("selectionchange",!1,n))}}function Wy(e,n,r,o){switch(C_(n)){case 2:var h=fS;break;case 8:h=dS;break;default:h=Ad}r=h.bind(null,n,r,e),h=void 0,!ms||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ld(e,n,r,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=si(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}fr(function(){var k=f,j=bn(r),Q=[];t:{var z=Vg.get(e);if(z!==void 0){var q=fi,st=e;switch(e){case"keypress":if(ps(r)===0)break t;case"keydown":case"keyup":q=_u;break;case"focusin":st="focus",q=_s;break;case"focusout":st="blur",q=_s;break;case"beforeblur":case"afterblur":q=_s;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Do;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Cg:case Dg:case Ng:q=hu;break;case Og:q=T;break;case"scroll":case"scrollend":q=Co;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Mi;break;case"toggle":case"beforetoggle":q=Tt}var ct=(n&4)!==0,Zt=!ct&&(e==="scroll"||e==="scrollend"),U=ct?z!==null?z+"Capture":null:z;ct=[];for(var N=k,P;N!==null;){var F=N;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||U===null||(F=jn(N,U),F!=null&&ct.push(sl(N,F,P))),Zt)break;N=N.return}0<ct.length&&(z=new q(z,st,null,r,j),Q.push({event:z,listeners:ct}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==wo&&(st=r.relatedTarget||r.fromElement)&&(si(st)||st[ii]))break t;if((q||z)&&(z=j.window===j?j:(z=j.ownerDocument)?z.defaultView||z.parentWindow:window,q?(st=r.relatedTarget||r.toElement,q=k,st=st?si(st):null,st!==null&&(Zt=c(st),ct=st.tag,st!==Zt||ct!==5&&ct!==27&&ct!==6)&&(st=null)):(q=null,st=k),q!==st)){if(ct=Do,F="onMouseLeave",U="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ct=Mi,F="onPointerLeave",U="onPointerEnter",N="pointer"),Zt=q==null?z:hn(q),P=st==null?z:hn(st),z=new ct(F,N+"leave",q,r,j),z.target=Zt,z.relatedTarget=P,F=null,si(j)===k&&(ct=new ct(U,N+"enter",st,r,j),ct.target=P,ct.relatedTarget=Zt,F=ct),Zt=F,q&&st)e:{for(ct=zA,U=q,N=st,P=0,F=U;F;F=ct(F))P++;F=0;for(var ot=N;ot;ot=ct(ot))F++;for(;0<P-F;)U=ct(U),P--;for(;0<F-P;)N=ct(N),F--;for(;P--;){if(U===N||N!==null&&U===N.alternate){ct=U;break e}U=ct(U),N=ct(N)}ct=null}else ct=null;q!==null&&t_(Q,z,q,ct,!1),st!==null&&Zt!==null&&t_(Q,Zt,st,ct,!0)}}t:{if(z=k?hn(k):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var Pt=yg;else if(gg(z))if(_g)Pt=Z0;else{Pt=Y0;var at=K0}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?k&&na(k.elementType)&&(Pt=yg):Pt=X0;if(Pt&&(Pt=Pt(e,k))){pg(Q,Pt,r,j);break t}at&&at(e,z,k),e==="focusout"&&k&&z.type==="number"&&k.memoizedProps.value!=null&&Ao(z,"number",z.value)}switch(at=k?hn(k):window,e){case"focusin":(gg(at)||at.contentEditable==="true")&&(ca=at,xh=k,Uo=null);break;case"focusout":Uo=xh=ca=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Rg(Q,r,j);break;case"selectionchange":if($0)break;case"keydown":case"keyup":Rg(Q,r,j)}var bt;if(zt)t:{switch(e){case"compositionstart":var Ct="onCompositionStart";break t;case"compositionend":Ct="onCompositionEnd";break t;case"compositionupdate":Ct="onCompositionUpdate";break t}Ct=void 0}else ua?vs(e,r)&&(Ct="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Ct="onCompositionStart");Ct&&(gi&&r.locale!=="ko"&&(ua||Ct!=="onCompositionStart"?Ct==="onCompositionEnd"&&ua&&(bt=Io()):(hi=j,Ro="value"in hi?hi.value:hi.textContent,ua=!0)),at=lc(k,Ct),0<at.length&&(Ct=new mi(Ct,e,null,r,j),Q.push({event:Ct,listeners:at}),bt?Ct.data=bt:(bt=la(r),bt!==null&&(Ct.data=bt)))),(bt=Rn?H0(e,r):G0(e,r))&&(Ct=lc(k,"onBeforeInput"),0<Ct.length&&(at=new mi("onBeforeInput","beforeinput",null,r,j),Q.push({event:at,listeners:Ct}),at.data=bt)),LA(Q,e,k,r,j)}$y(Q,n)})}function sl(e,n,r){return{instance:e,listener:n,currentTarget:r}}function lc(e,n){for(var r=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=jn(e,r),h!=null&&o.unshift(sl(e,h,f)),h=jn(e,n),h!=null&&o.push(sl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function zA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function t_(e,n,r,o,h){for(var f=n._reactName,g=[];r!==null&&r!==o;){var E=r,R=E.alternate,k=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||k===null||(R=k,h?(k=jn(r,f),k!=null&&g.unshift(sl(r,k,R))):h||(k=jn(r,f),k!=null&&g.push(sl(r,k,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var BA=/\r\n?/g,qA=/\u0000|\uFFFD/g;function e_(e){return(typeof e=="string"?e:""+e).replace(BA,`
`).replace(qA,"")}function n_(e,n){return n=e_(n),e_(e)===n}function Xt(e,n,r,o,h,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||nn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&nn(e,""+o);break;case"className":fn(e,"class",o);break;case"tabIndex":fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":fn(e,r,o);break;case"style":bo(e,o,f);break;case"data":if(n!=="object"){fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ia(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=ia(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=qn);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=ia(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":Rt("beforetoggle",e),Rt("toggle",e),ta(e,"popover",o);break;case"xlinkActuate":Ee(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ee(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ee(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ee(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ee(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ee(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ee(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ta(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=lu.get(r)||r,ta(e,r,o))}}function ud(e,n,r,o,h,f){switch(r){case"style":bo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(r=o.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof o=="string"?nn(e,o):(typeof o=="number"||typeof o=="bigint")&&nn(e,""+o);break;case"onScroll":o!=null&&Rt("scroll",e);break;case"onScrollEnd":o!=null&&Rt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yo.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Me]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,h);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):ta(e,r,o)}}}function je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Rt("error",e),Rt("load",e);var o=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,g,r,null)}}h&&Xt(e,n,"srcSet",r.srcSet,r,null),o&&Xt(e,n,"src",r.src,r,null);return;case"input":Rt("invalid",e);var E=f=g=h=null,R=null,k=null;for(o in r)if(r.hasOwnProperty(o)){var j=r[o];if(j!=null)switch(o){case"name":h=j;break;case"type":g=j;break;case"checked":R=j;break;case"defaultChecked":k=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Xt(e,n,o,j,r,null)}}su(e,f,E,R,k,g,h,!1);return;case"select":Rt("invalid",e),o=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(E=r[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Xt(e,n,h,E,r,null)}n=f,r=g,e.multiple=!!o,n!=null?lr(e,!!o,n,!1):r!=null&&lr(e,!!o,r,!0);return;case"textarea":Rt("invalid",e),f=h=o=null;for(g in r)if(r.hasOwnProperty(g)&&(E=r[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,g,E,r,null)}ur(e,o,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(o=r[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Xt(e,n,R,o,r,null));return;case"dialog":Rt("beforetoggle",e),Rt("toggle",e),Rt("cancel",e),Rt("close",e);break;case"iframe":case"object":Rt("load",e);break;case"video":case"audio":for(o=0;o<rl.length;o++)Rt(rl[o],e);break;case"image":Rt("error",e),Rt("load",e);break;case"details":Rt("toggle",e);break;case"embed":case"source":case"link":Rt("error",e),Rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in r)if(r.hasOwnProperty(k)&&(o=r[k],o!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,k,o,r,null)}return;default:if(na(n)){for(j in r)r.hasOwnProperty(j)&&(o=r[j],o!==void 0&&ud(e,n,j,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Xt(e,n,E,o,r,null))}function jA(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,k=null,j=null;for(q in r){var Q=r[q];if(r.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Q;default:o.hasOwnProperty(q)||Xt(e,n,q,null,o,Q)}}for(var z in o){var q=o[z];if(Q=r[z],o.hasOwnProperty(z)&&(q!=null||Q!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":k=q;break;case"defaultChecked":j=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Q&&Xt(e,n,z,q,o,Q)}}ea(e,g,E,R,k,j,f,h);return;case"select":q=g=E=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:o.hasOwnProperty(f)||Xt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=r[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Xt(e,n,h,f,o,R)}n=E,r=g,o=q,z!=null?lr(e,!!r,z,!1):!!o!=!!r&&(n!=null?lr(e,!!r,n,!0):lr(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(E in r)if(h=r[E],r.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=r[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xt(e,n,g,h,o,f)}au(e,z,q);return;case"option":for(var st in r)z=r[st],r.hasOwnProperty(st)&&z!=null&&!o.hasOwnProperty(st)&&(st==="selected"?e.selected=!1:Xt(e,n,st,null,o,z));for(R in o)z=o[R],q=r[R],o.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Xt(e,n,R,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)z=r[ct],r.hasOwnProperty(ct)&&z!=null&&!o.hasOwnProperty(ct)&&Xt(e,n,ct,null,o,z);for(k in o)if(z=o[k],q=r[k],o.hasOwnProperty(k)&&z!==q&&(z!=null||q!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Xt(e,n,k,z,o,q)}return;default:if(na(n)){for(var Zt in r)z=r[Zt],r.hasOwnProperty(Zt)&&z!==void 0&&!o.hasOwnProperty(Zt)&&ud(e,n,Zt,void 0,o,z);for(j in o)z=o[j],q=r[j],!o.hasOwnProperty(j)||z===q||z===void 0&&q===void 0||ud(e,n,j,z,o,q);return}}for(var U in r)z=r[U],r.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Xt(e,n,U,null,o,z);for(Q in o)z=o[Q],q=r[Q],!o.hasOwnProperty(Q)||z===q||z==null&&q==null||Xt(e,n,Q,z,o,q)}function i_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function HA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),o=0;o<r.length;o++){var h=r[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&i_(g)){for(g=0,E=h.responseEnd,o+=1;o<r.length;o++){var R=r[o],k=R.startTime;if(k>E)break;var j=R.transferSize,Q=R.initiatorType;j&&i_(Q)&&(R=R.responseEnd,g+=j*(R<E?1:(E-k)/(R-k)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function r_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function GA(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,FA=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,QA=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(e){return o_.resolve(null).then(e).catch(KA)}:a_;function KA(e){setTimeout(function(){throw e})}function Vr(e){return e==="head"}function l_(e,n){var r=n,o=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(o===0){e.removeChild(h),Pa(n);return}o--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")o++;else if(r==="html")al(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,al(r);for(var f=r.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&al(e.ownerDocument.body);r=h}while(r);Pa(n)}function u_(e,n){var r=e;e=0;do{var o=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=o}while(r)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":md(r),Ws(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function YA(e,n,r,o){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Mn(e.nextSibling),e===null)break}return null}function XA(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Mn(e.nextSibling),e===null))return null;return e}function c_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Mn(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function ZA(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var o=function(){n(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Mn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function h_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Mn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function f_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function d_(e,n,r){switch(n=uc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function al(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ws(e)}var Un=new Map,m_=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yi=W.d;W.d={f:JA,r:$A,D:WA,C:tS,L:eS,m:nS,X:rS,S:iS,M:sS};function JA(){var e=Yi.f(),n=ec();return e||n}function $A(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Op(n):Yi.r(e)}var Ua=typeof document>"u"?null:document;function g_(e,n,r){var o=Ua;if(o&&typeof n=="string"&&n){var h=en(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),m_.has(h)||(m_.add(h),e={rel:e,crossOrigin:r,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),je(n,"link",e),ve(n),o.head.appendChild(n)))}}function WA(e){Yi.D(e),g_("dns-prefetch",e,null)}function tS(e,n){Yi.C(e,n),g_("preconnect",e,n)}function eS(e,n,r){Yi.L(e,n,r);var o=Ua;if(o&&e&&n){var h='link[rel="preload"][as="'+en(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+en(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+en(r.imageSizes)+'"]')):h+='[href="'+en(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=xa(e)}Un.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Un.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(ol(f))||n==="script"&&o.querySelector(ll(f))||(n=o.createElement("link"),je(n,"link",e),ve(n),o.head.appendChild(n)))}}function nS(e,n){Yi.m(e,n);var r=Ua;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+en(o)+'"][href="'+en(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=xa(e)}if(!Un.has(f)&&(e=S({rel:"modulepreload",href:e},n),Un.set(f,e),r.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(ll(f)))return}o=r.createElement("link"),je(o,"link",e),ve(o),r.head.appendChild(o)}}}function iS(e,n,r){Yi.S(e,n,r);var o=Ua;if(o&&e){var h=ai(o).hoistableStyles,f=La(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(ol(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Un.get(f))&&_d(e,r);var R=g=o.createElement("link");ve(R),je(R,"link",e),R._p=new Promise(function(k,j){R.onload=k,R.onerror=j}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,hc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function rS(e,n){Yi.X(e,n);var r=Ua;if(r&&e){var o=ai(r).hoistableScripts,h=xa(e),f=o.get(h);f||(f=r.querySelector(ll(h)),f||(e=S({src:e,async:!0},n),(n=Un.get(h))&&vd(e,n),f=r.createElement("script"),ve(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function sS(e,n){Yi.M(e,n);var r=Ua;if(r&&e){var o=ai(r).hoistableScripts,h=xa(e),f=o.get(h);f||(f=r.querySelector(ll(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&vd(e,n),f=r.createElement("script"),ve(f),je(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function p_(e,n,r,o){var h=(h=St.current)?cc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=La(r.href),r=ai(h).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=La(r.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(ol(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Un.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Un.set(e,r),f||aS(h,e,r,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=xa(r),r=ai(h).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+en(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function aS(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),je(n,"link",r),ve(n),e.head.appendChild(n))}function xa(e){return'[src="'+en(e)+'"]'}function ll(e){return"script[async]"+e}function __(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+en(r.href)+'"]');if(o)return n.instance=o,ve(o),o;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ve(o),je(o,"style",h),hc(o,r.precedence,e),n.instance=o;case"stylesheet":h=La(r.href);var f=e.querySelector(ol(h));if(f)return n.state.loading|=4,n.instance=f,ve(f),f;o=y_(r),(h=Un.get(h))&&_d(o,h),f=(e.ownerDocument||e).createElement("link"),ve(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),je(f,"link",o),n.state.loading|=4,hc(f,r.precedence,e),n.instance=f;case"script":return f=xa(r.src),(h=e.querySelector(ll(f)))?(n.instance=h,ve(h),h):(o=r,(h=Un.get(f))&&(o=S({},r),vd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ve(h),je(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,hc(o,r.precedence,e));return n.instance}function hc(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var fc=null;function v_(e,n,r){if(fc===null){var o=new Map,h=fc=new Map;h.set(r,o)}else h=fc,o=h.get(r),o||(o=new Map,h.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[ri]||f[_e]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function E_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function oS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lS(e,n,r,o){if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=La(o.href),f=n.querySelector(ol(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=dc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,ve(f);return}f=n.ownerDocument||n,o=y_(o),(h=Un.get(h))&&_d(o,h),f=f.createElement("link"),ve(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),je(f,"link",o),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=dc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Ed=0;function uS(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var o=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*HA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,n.forEach(cS,e),mc=null,dc.call(e))}function cS(e,n){if(!(n.state.loading&4)){var r=mc.get(e);if(r)var o=r.get(null);else{r=new Map,mc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),o=g)}o&&r.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||o,f===o&&r.set(null,h),r.set(g,h),this.count++,o=dc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ul={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function hS(e,n,r,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function A_(e,n,r,o,h,f,g,E,R,k,j,Q){return e=new hS(e,n,r,g,R,k,j,Q,E),n=1,f===!0&&(n|=24),f=mn(3,null,null,n),e.current=f,f.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},nf(f),e}function S_(e){return e?(e=da,e):da}function b_(e,n,r,o,h,f){h=S_(h),o.context===null?o.context=h:o.pendingContext=h,o=Tr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=Ar(e,o,n),r!==null&&(ln(r,e,n),qo(r,e,n))}function w_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Td(e,n){w_(e,n),(e=e.alternate)&&w_(e,n)}function R_(e){if(e.tag===13||e.tag===31){var n=As(e,67108864);n!==null&&ln(n,e,67108864),Td(e,67108864)}}function I_(e){if(e.tag===13||e.tag===31){var n=vn();n=cs(n);var r=As(e,n);r!==null&&ln(r,e,n),Td(e,n)}}var pc=!0;function fS(e,n,r,o){var h=H.T;H.T=null;var f=W.p;try{W.p=2,Ad(e,n,r,o)}finally{W.p=f,H.T=h}}function dS(e,n,r,o){var h=H.T;H.T=null;var f=W.p;try{W.p=8,Ad(e,n,r,o)}finally{W.p=f,H.T=h}}function Ad(e,n,r,o){if(pc){var h=Sd(o);if(h===null)ld(e,n,o,yc,r),D_(e,o);else if(gS(h,e,n,r,o))o.stopPropagation();else if(D_(e,o),n&4&&-1<mS.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-he(g);E.entanglements[1]|=R,g&=~R}vi(f),(Bt&6)===0&&(Wu=$e()+500,il(0))}}break;case 31:case 13:E=As(f,2),E!==null&&ln(E,f,2),ec(),Td(f,2)}if(f=Sd(o),f===null&&ld(e,n,o,yc,r),f===h)break;h=f}h!==null&&o.stopPropagation()}else ld(e,n,o,null,r)}}function Sd(e){return e=bn(e),bd(e)}var yc=null;function bd(e){if(yc=null,e=si(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yc=e,null}function C_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(as()){case ho:return 2;case fo:return 8;case ar:case Dh:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var wd=!1,Mr=null,Ur=null,Lr=null,cl=new Map,hl=new Map,xr=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,n){switch(e){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":cl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":hl.delete(n.pointerId)}}function fl(e,n,r,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&R_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function gS(e,n,r,o,h){switch(n){case"focusin":return Mr=fl(Mr,e,n,r,o,h),!0;case"dragenter":return Ur=fl(Ur,e,n,r,o,h),!0;case"mouseover":return Lr=fl(Lr,e,n,r,o,h),!0;case"pointerover":var f=h.pointerId;return cl.set(f,fl(cl.get(f)||null,e,n,r,o,h)),!0;case"gotpointercapture":return f=h.pointerId,hl.set(f,fl(hl.get(f)||null,e,n,r,o,h)),!0}return!1}function N_(e){var n=si(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,zn(e.priority,function(){I_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,zn(e.priority,function(){I_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Sd(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);wo=o,r.target.dispatchEvent(o),wo=null}else return n=Sn(r),n!==null&&R_(n),e.blockedOn=r,!1;n.shift()}return!0}function O_(e,n,r){_c(e)&&r.delete(n)}function pS(){wd=!1,Mr!==null&&_c(Mr)&&(Mr=null),Ur!==null&&_c(Ur)&&(Ur=null),Lr!==null&&_c(Lr)&&(Lr=null),cl.forEach(O_),hl.forEach(O_)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,pS)))}var Ec=null;function V_(e){Ec!==e&&(Ec=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(bd(o||r)===null)continue;break}var f=Sn(r);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:r.method,action:o},o,h))}}))}function Pa(e){function n(R){return vc(R,e)}Mr!==null&&vc(Mr,e),Ur!==null&&vc(Ur,e),Lr!==null&&vc(Lr,e),cl.forEach(n),hl.forEach(n);for(var r=0;r<xr.length;r++){var o=xr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<xr.length&&(r=xr[0],r.blockedOn===null);)N_(r),r.blockedOn===null&&xr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var h=r[o],f=r[o+1],g=h[Me]||null;if(typeof f=="function")g||V_(r);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Me]||null)E=g.formAction;else if(bd(h)!==null)continue}else E=g.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),V_(r)}}}function M_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(r,20)}function r(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}Tc.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,o=vn();b_(r,o,e,n,null,null)},Tc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;b_(e.current,2,null,e,null,null),ec(),n[ii]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=eu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<xr.length&&n!==0&&n<xr[r].priority;r++);xr.splice(r,0,e),r===0&&N_(e)}};var U_=t.version;if(U_!=="19.2.3")throw Error(a(527,U_,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var yS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Pn=Ac.inject(yS),Pe=Ac}catch{}}return ml.createRoot=function(e,n){if(!l(e))throw Error(a(299));var r=!1,o="",h=qp,f=jp,g=Hp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=A_(e,1,!1,null,null,r,o,null,h,f,g,M_),e[ii]=n.current,od(e),new Rd(n)},ml.hydrateRoot=function(e,n,r){if(!l(e))throw Error(a(299));var o=!1,h="",f=qp,g=jp,E=Hp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=A_(e,1,!0,n,r??null,o,h,R,f,g,E,M_),n.context=S_(null),r=n.current,o=vn(),o=cs(o),h=Tr(o),h.callback=null,Ar(r,h,o),r=o,n.current.lanes=r,ls(n,r),vi(n),e[ii]=n.current,od(e),new Tc(n)},ml.version="19.2.3",ml}var G_;function CS(){if(G_)return Dd.exports;G_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Dd.exports=IS(),Dd.exports}var DS=CS();const NS=TE(DS),OS=()=>{};var F_={};const AE=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let l=s.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},VS=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const l=s[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=s[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=s[i++],d=s[i++],p=s[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},SE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<s.length;l+=3){const c=s[l],d=l+1<s.length,p=d?s[l+1]:0,y=l+2<s.length,_=y?s[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let D=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(D=64)),a.push(i[A],i[S],i[D],i[G])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(AE(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):VS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<s.length;){const c=i[s.charAt(l++)],p=l<s.length?i[s.charAt(l)]:0;++l;const _=l<s.length?i[s.charAt(l)]:64;++l;const S=l<s.length?i[s.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new MS;const D=c<<2|p>>4;if(a.push(D),_!==64){const G=p<<4&240|_>>2;if(a.push(G),S!==64){const Z=_<<6&192|S;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class MS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(s){const t=AE(s);return SE.encodeByteArray(t,!0)},zc=function(s){return US(s).replace(/\./g,"")},bE=function(s){try{return SE.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function LS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const xS=()=>LS().__FIREBASE_DEFAULTS__,PS=()=>{if(typeof process>"u"||typeof F_>"u")return;const s=F_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},kS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&bE(s[1]);return t&&JSON.parse(t)},sh=()=>{try{return OS()||xS()||PS()||kS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},wE=s=>sh()?.emulatorHosts?.[s],zS=s=>{const t=wE(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},RE=()=>sh()?.config,IE=s=>sh()?.[`_${s}`];class BS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function eo(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function CE(s){return(await fetch(s,{credentials:"include"})).ok}function qS(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[zc(JSON.stringify(i)),zc(JSON.stringify(d)),""].join(".")}const vl={};function jS(){const s={prod:[],emulator:[]};for(const t of Object.keys(vl))vl[t]?s.emulator.push(t):s.prod.push(t);return s}function HS(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let Q_=!1;function DE(s,t){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||vl[s]===t||vl[s]||Q_)return;vl[s]=t;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=jS().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function p(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,G){D.setAttribute("width","24"),D.setAttribute("id",G),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{Q_=!0,d()},D}function A(D,G){D.setAttribute("id",G),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=HS(a),G=i("text"),Z=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),J=document.getElementById(et)||document.createElement("a"),ht=i("preprendIcon"),Et=document.getElementById(ht)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const mt=D.element;p(mt),A(J,et);const Qt=_();y(Et,ht),mt.append(Et,Z,J,Qt),document.body.appendChild(mt)}c?(Z.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Ze(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ze())}function FS(){const s=sh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function QS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function YS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XS(){const s=Ze();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function ZS(){return!FS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function JS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const WS="FirebaseError";class ir extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=WS,Object.setPrototypeOf(this,ir.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?t1(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ir(l,p,a)}}function t1(s,t){return s.replace(e1,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const e1=/\{\$([^}]+)}/g;function n1(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Bs(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=s[l],d=t[l];if(K_(c)&&K_(d)){if(!Bs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function K_(s){return s!==null&&typeof s=="object"}function Ll(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function i1(s,t){const i=new r1(s,t);return i.subscribe.bind(i)}class r1{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");s1(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Md),l.error===void 0&&(l.error=Md),l.complete===void 0&&(l.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s1(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Md(){}function Je(s){return s&&s._delegate?s._delegate:s}class qs{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ls="[DEFAULT]";class a1{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new BS;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(l1(t))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Ls){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ls){return this.instances.has(t)}getOptions(t=Ls){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:o1(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Ls){return this.component?this.component.multipleInstances?t:Ls:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o1(s){return s===Ls?void 0:s}function l1(s){return s.instantiationMode==="EAGER"}class u1{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new a1(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Dt||(Dt={}));const c1={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},h1=Dt.INFO,f1={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},d1=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),l=f1[t];if(l)console[l](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class _m{constructor(t){this.name=t,this._logLevel=h1,this._logHandler=d1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?c1[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const m1=(s,t)=>t.some(i=>s instanceof i);let Y_,X_;function g1(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function p1(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const NE=new WeakMap,Fd=new WeakMap,OE=new WeakMap,Ud=new WeakMap,vm=new WeakMap;function y1(s){const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Gr(s.result)),l()},d=()=>{a(s.error),l()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&NE.set(i,s)}).catch(()=>{}),vm.set(t,s),t}function _1(s){if(Fd.has(s))return;const t=new Promise((i,a)=>{const l=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Fd.set(s,t)}let Qd={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Fd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||OE.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gr(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function v1(s){Qd=s(Qd)}function E1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Ld(this),t,...i);return OE.set(a,t.sort?t.sort():[t]),Gr(a)}:p1().includes(s)?function(...t){return s.apply(Ld(this),t),Gr(NE.get(this))}:function(...t){return Gr(s.apply(Ld(this),t))}}function T1(s){return typeof s=="function"?E1(s):(s instanceof IDBTransaction&&_1(s),m1(s,g1())?new Proxy(s,Qd):s)}function Gr(s){if(s instanceof IDBRequest)return y1(s);if(Ud.has(s))return Ud.get(s);const t=T1(s);return t!==s&&(Ud.set(s,t),vm.set(t,s)),t}const Ld=s=>vm.get(s);function A1(s,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(s,t),p=Gr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(Gr(d.result),y.oldVersion,y.newVersion,Gr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const S1=["get","getKey","getAll","getAllKeys","count"],b1=["put","add","delete","clear"],xd=new Map;function Z_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(xd.get(t))return xd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=b1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||S1.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return xd.set(t,c),c}v1(s=>({...s,get:(t,i,a)=>Z_(t,i)||s.get(t,i,a),has:(t,i)=>!!Z_(t,i)||s.has(t,i)}));class w1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(R1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function R1(s){return s.getComponent()?.type==="VERSION"}const Kd="@firebase/app",J_="0.14.6";const $i=new _m("@firebase/app"),I1="@firebase/app-compat",C1="@firebase/analytics-compat",D1="@firebase/analytics",N1="@firebase/app-check-compat",O1="@firebase/app-check",V1="@firebase/auth",M1="@firebase/auth-compat",U1="@firebase/database",L1="@firebase/data-connect",x1="@firebase/database-compat",P1="@firebase/functions",k1="@firebase/functions-compat",z1="@firebase/installations",B1="@firebase/installations-compat",q1="@firebase/messaging",j1="@firebase/messaging-compat",H1="@firebase/performance",G1="@firebase/performance-compat",F1="@firebase/remote-config",Q1="@firebase/remote-config-compat",K1="@firebase/storage",Y1="@firebase/storage-compat",X1="@firebase/firestore",Z1="@firebase/ai",J1="@firebase/firestore-compat",$1="firebase",W1="12.6.0";const Yd="[DEFAULT]",tb={[Kd]:"fire-core",[I1]:"fire-core-compat",[D1]:"fire-analytics",[C1]:"fire-analytics-compat",[O1]:"fire-app-check",[N1]:"fire-app-check-compat",[V1]:"fire-auth",[M1]:"fire-auth-compat",[U1]:"fire-rtdb",[L1]:"fire-data-connect",[x1]:"fire-rtdb-compat",[P1]:"fire-fn",[k1]:"fire-fn-compat",[z1]:"fire-iid",[B1]:"fire-iid-compat",[q1]:"fire-fcm",[j1]:"fire-fcm-compat",[H1]:"fire-perf",[G1]:"fire-perf-compat",[F1]:"fire-rc",[Q1]:"fire-rc-compat",[K1]:"fire-gcs",[Y1]:"fire-gcs-compat",[X1]:"fire-fst",[J1]:"fire-fst-compat",[Z1]:"fire-vertex","fire-js":"fire-js",[$1]:"fire-js-all"};const Bc=new Map,eb=new Map,Xd=new Map;function $_(s,t){try{s.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Ka(s){const t=s.name;if(Xd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;Xd.set(t,s);for(const i of Bc.values())$_(i,s);for(const i of eb.values())$_(i,s);return!0}function Em(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Ti(s){return s==null?!1:s.settings!==void 0}const nb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new Ul("app","Firebase",nb);class ib{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}const no=W1;function VE(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Yd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Fr.create("bad-app-name",{appName:String(l)});if(i||(i=RE()),!i)throw Fr.create("no-options");const c=Bc.get(l);if(c){if(Bs(i,c.options)&&Bs(a,c.config))return c;throw Fr.create("duplicate-app",{appName:l})}const d=new u1(l);for(const y of Xd.values())d.addComponent(y);const p=new ib(i,a,d);return Bc.set(l,p),p}function ME(s=Yd){const t=Bc.get(s);if(!t&&s===Yd&&RE())return VE();if(!t)throw Fr.create("no-app",{appName:s});return t}function Qr(s,t,i){let a=tb[s]??s;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Ka(new qs(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rb="firebase-heartbeat-database",sb=1,wl="firebase-heartbeat-store";let Pd=null;function UE(){return Pd||(Pd=A1(rb,sb,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(wl)}catch(i){console.warn(i)}}}}).catch(s=>{throw Fr.create("idb-open",{originalErrorMessage:s.message})})),Pd}async function ab(s){try{const i=(await UE()).transaction(wl),a=await i.objectStore(wl).get(LE(s));return await i.done,a}catch(t){if(t instanceof ir)$i.warn(t.message);else{const i=Fr.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function W_(s,t){try{const a=(await UE()).transaction(wl,"readwrite");await a.objectStore(wl).put(t,LE(s)),await a.done}catch(i){if(i instanceof ir)$i.warn(i.message);else{const a=Fr.create("idb-set",{originalErrorMessage:i?.message});$i.warn(a.message)}}}function LE(s){return`${s.name}!${s.options.appId}`}const ob=1024,lb=30;class ub{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new hb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>lb){const l=fb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tv(),{heartbeatsToSend:i,unsentEntries:a}=cb(this._heartbeatsCache.heartbeats),l=zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function tv(){return new Date().toISOString().substring(0,10)}function cb(s,t=ob){const i=[];let a=s.slice();for(const l of s){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),ev(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),ev(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class hb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return JS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ab(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function ev(s){return zc(JSON.stringify({version:2,heartbeats:s})).length}function fb(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function db(s){Ka(new qs("platform-logger",t=>new w1(t),"PRIVATE")),Ka(new qs("heartbeat",t=>new ub(t),"PRIVATE")),Qr(Kd,J_,s),Qr(Kd,J_,"esm2020"),Qr("fire-js","")}db("");var mb="firebase",gb="12.7.0";Qr(mb,gb,"app");function xE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pb=xE,PE=new Ul("auth","Firebase",xE());const qc=new _m("@firebase/auth");function yb(s,...t){qc.logLevel<=Dt.WARN&&qc.warn(`Auth (${no}): ${s}`,...t)}function Dc(s,...t){qc.logLevel<=Dt.ERROR&&qc.error(`Auth (${no}): ${s}`,...t)}function Wi(s,...t){throw Tm(s,...t)}function Ai(s,...t){return Tm(s,...t)}function kE(s,t,i){const a={...pb(),[t]:i};return new Ul("auth","Firebase",a).create(t,{appName:s.name})}function Ps(s){return kE(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return PE.create(s,...t)}function gt(s,t,...i){if(!s)throw Tm(t,...i)}function Xi(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Dc(t),new Error(t)}function tr(s,t){s||Xi(t)}function Zd(){return typeof self<"u"&&self.location?.href||""}function _b(){return nv()==="http:"||nv()==="https:"}function nv(){return typeof self<"u"&&self.location?.protocol||null}function vb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_b()||KS()||"connection"in navigator)?navigator.onLine:!0}function Eb(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,tr(i>t,"Short delay should be less than long delay!"),this.isMobile=GS()||YS()}get(){return vb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Am(s,t){tr(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class zE{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tb={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Ab=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sb=new xl(3e4,6e4);function Sm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function io(s,t,i,a,l={}){return BE(s,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Ll({key:s.config.apiKey,...d}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:y,...c};return QS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&eo(s.emulatorConfig.host)&&(_.credentials="include"),zE.fetch()(await qE(s,s.config.apiHost,i,p),_)})}async function BE(s,t,i){s._canInitEmulator=!1;const a={...Tb,...t};try{const l=new wb(s),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(s,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Sc(s,"email-already-in-use",d);if(y==="USER_DISABLED")throw Sc(s,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw kE(s,A,_);Wi(s,A)}}catch(l){if(l instanceof ir)throw l;Wi(s,"network-request-failed",{message:String(l)})}}async function bb(s,t,i,a,l={}){const c=await io(s,t,i,a,l);return"mfaPendingCredential"in c&&Wi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function qE(s,t,i,a){const l=`${t}${i}?${a}`,c=s,d=c.config.emulator?Am(s.config,l):`${s.config.apiScheme}://${l}`;return Ab.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class wb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ai(this.auth,"network-request-failed")),Sb.get())})}}function Sc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ai(s,t,a);return l.customData._tokenResponse=i,l}async function Rb(s,t){return io(s,"POST","/v1/accounts:delete",t)}async function jc(s,t){return io(s,"POST","/v1/accounts:lookup",t)}function El(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ib(s,t=!1){const i=Je(s),a=await i.getIdToken(t),l=bm(a);gt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:El(kd(l.auth_time)),issuedAtTime:El(kd(l.iat)),expirationTime:El(kd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function kd(s){return Number(s)*1e3}function bm(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return Dc("JWT malformed, contained fewer than 3 sections"),null;try{const l=bE(i);return l?JSON.parse(l):(Dc("Failed to decode base64 JWT payload"),null)}catch(l){return Dc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function iv(s){const t=bm(s);return gt(t,"internal-error"),gt(typeof t.exp<"u","internal-error"),gt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Rl(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ir&&Cb(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Cb({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Db{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Jd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Hc(s){const t=s.auth,i=await s.getIdToken(),a=await Rl(s,jc(t,{idToken:i}));gt(a?.users.length,t,"internal-error");const l=a.users[0];s._notifyReloadListener(l);const c=l.providerUserInfo?.length?jE(l.providerUserInfo):[],d=Ob(s.providerData,c),p=s.isAnonymous,y=!(s.email&&l.passwordHash)&&!d?.length,_=p?y:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(s,A)}async function Nb(s){const t=Je(s);await Hc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Ob(s,t){return[...s.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function jE(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Vb(s,t){const i=await BE(s,{},async()=>{const a=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=s.config,d=await qE(s,l,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return s.emulatorConfig&&eo(s.emulatorConfig.host)&&(y.credentials="include"),zE.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function Mb(s,t){return io(s,"POST","/v2/accounts:revokeToken",Sm(s,t))}class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){gt(t.idToken,"internal-error"),gt(typeof t.idToken<"u","internal-error"),gt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):iv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){gt(t.length!==0,"internal-error");const i=iv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(gt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await Vb(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ha;return a&&(gt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(gt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(gt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Xi("not implemented")}}function kr(s,t){gt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class Xn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new Db(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Jd(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Rl(this,this.stsTokenManager.getToken(this.auth,t));return gt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Ib(this,t)}reload(){return Nb(this)}_assign(t){this!==t&&(gt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Xn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){gt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Hc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ti(this.auth.app))return Promise.reject(Ps(this.auth));const t=await this.getIdToken();return await Rl(this,Rb(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:G,providerData:Z,stsTokenManager:et}=i;gt(S&&et,t,"internal-error");const J=Ha.fromJSON(this.name,et);gt(typeof S=="string",t,"internal-error"),kr(a,t.name),kr(l,t.name),gt(typeof D=="boolean",t,"internal-error"),gt(typeof G=="boolean",t,"internal-error"),kr(c,t.name),kr(d,t.name),kr(p,t.name),kr(y,t.name),kr(_,t.name),kr(A,t.name);const ht=new Xn({uid:S,auth:t,email:l,emailVerified:D,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:A});return Z&&Array.isArray(Z)&&(ht.providerData=Z.map(Et=>({...Et}))),y&&(ht._redirectEventId=y),ht}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ha;l.updateFromServerResponse(i);const c=new Xn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await Hc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];gt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?jE(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ha;p.updateFromIdToken(a);const y=new Xn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Jd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const rv=new Map;function Zi(s){tr(s instanceof Function,"Expected a class definition");let t=rv.get(s);return t?(tr(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,rv.set(s,t),t)}class HE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}HE.type="NONE";const sv=HE;function Nc(s,t,i){return`firebase:${s}:${t}:${i}`}class Ga{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Nc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Nc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await jc(this.auth,{idToken:t}).catch(()=>{});return i?Xn._fromGetAccountInfoResponse(this.auth,i,t):null}return Xn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ga(Zi(sv),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||Zi(sv);const d=Nc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const D=await jc(t,{idToken:A}).catch(()=>{});if(!D)break;S=await Xn._fromGetAccountInfoResponse(t,D,A)}else S=Xn._fromJSON(t,A);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new Ga(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new Ga(c,t,a))}}function av(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(KE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(GE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(XE(t))return"Blackberry";if(ZE(t))return"Webos";if(FE(t))return"Safari";if((t.includes("chrome/")||QE(t))&&!t.includes("edge/"))return"Chrome";if(YE(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function GE(s=Ze()){return/firefox\//i.test(s)}function FE(s=Ze()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function QE(s=Ze()){return/crios\//i.test(s)}function KE(s=Ze()){return/iemobile/i.test(s)}function YE(s=Ze()){return/android/i.test(s)}function XE(s=Ze()){return/blackberry/i.test(s)}function ZE(s=Ze()){return/webos/i.test(s)}function wm(s=Ze()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Ub(s=Ze()){return wm(s)&&!!window.navigator?.standalone}function Lb(){return XS()&&document.documentMode===10}function JE(s=Ze()){return wm(s)||YE(s)||ZE(s)||XE(s)||/windows phone/i.test(s)||KE(s)}function $E(s,t=[]){let i;switch(s){case"Browser":i=av(Ze());break;case"Worker":i=`${av(Ze())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${no}/${a}`}class xb{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function Pb(s,t={}){return io(s,"GET","/v2/passwordPolicy",Sm(s,t))}const kb=6;class zb{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??kb,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Bb{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ov(this),this.idTokenSubscription=new ov(this),this.beforeStateQueue=new xb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Zi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await jc(this,{idToken:t}),a=await Xn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return gt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Hc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Eb()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ti(this.app))return Promise.reject(Ps(this));const i=t?Je(t):null;return i&&gt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&gt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ti(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ti(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Pb(this),i=new zb(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await Mb(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Zi(t)||this._popupRedirectResolver;gt(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Zi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(gt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return gt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=$E(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&yb(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Rm(s){return Je(s)}class ov{constructor(t){this.auth=t,this.observer=null,this.addObserver=i1(i=>this.observer=i)}get next(){return gt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Im={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qb(s){Im=s}function jb(s){return Im.loadJS(s)}function Hb(){return Im.gapiScript}function Gb(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function Fb(s,t){const i=Em(s,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Bs(c,t??{}))return l;Wi(l,"already-initialized")}return i.initialize({options:t})}function Qb(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Zi);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function Kb(s,t,i){const a=Rm(s);gt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=WE(t),{host:d,port:p}=Yb(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){gt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),gt(Bs(_,a.config.emulator)&&Bs(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,eo(d)?(CE(`${c}//${d}${y}`),DE("Auth",!0)):Xb()}function WE(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function Yb(s){const t=WE(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:lv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:lv(d)}}}function lv(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function Xb(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class tT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Xi("not implemented")}_getIdTokenResponse(t){return Xi("not implemented")}_linkToIdToken(t,i){return Xi("not implemented")}_getReauthenticationResolver(t){return Xi("not implemented")}}async function Fa(s,t){return bb(s,"POST","/v1/accounts:signInWithIdp",Sm(s,t))}const Zb="http://localhost";class js extends tT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Wi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new js(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Fa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Fa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Fa(t,i)}buildRequest(){const t={requestUri:Zb,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}class eT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Pl extends eT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class zr extends Pl{constructor(){super("facebook.com")}static credential(t){return js._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zr.credentialFromTaggedObject(t)}static credentialFromError(t){return zr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zr.credential(t.oauthAccessToken)}catch{return null}}}zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";zr.PROVIDER_ID="facebook.com";class Br extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return js._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Br.credentialFromTaggedObject(t)}static credentialFromError(t){return Br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Br.credential(i,a)}catch{return null}}}Br.GOOGLE_SIGN_IN_METHOD="google.com";Br.PROVIDER_ID="google.com";class qr extends Pl{constructor(){super("github.com")}static credential(t){return js._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qr.credential(t.oauthAccessToken)}catch{return null}}}qr.GITHUB_SIGN_IN_METHOD="github.com";qr.PROVIDER_ID="github.com";class jr extends Pl{constructor(){super("twitter.com")}static credential(t,i){return js._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return jr.credentialFromTaggedObject(t)}static credentialFromError(t){return jr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return jr.credential(i,a)}catch{return null}}}jr.TWITTER_SIGN_IN_METHOD="twitter.com";jr.PROVIDER_ID="twitter.com";class Ya{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Xn._fromIdTokenResponse(t,a,l),d=uv(a);return new Ya({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=uv(a);return new Ya({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function uv(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}class Gc extends ir{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,Gc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new Gc(t,i,a,l)}}function nT(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Gc._fromErrorAndOperation(s,c,t,a):c})}async function Jb(s,t,i=!1){const a=await Rl(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return Ya._forOperation(s,"link",a)}async function $b(s,t,i=!1){const{auth:a}=s;if(Ti(a.app))return Promise.reject(Ps(a));const l="reauthenticate";try{const c=await Rl(s,nT(a,l,t,s),i);gt(c.idToken,a,"internal-error");const d=bm(c.idToken);gt(d,a,"internal-error");const{sub:p}=d;return gt(s.uid===p,a,"user-mismatch"),Ya._forOperation(s,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Wi(a,"user-mismatch"),c}}async function Wb(s,t,i=!1){if(Ti(s.app))return Promise.reject(Ps(s));const a="signIn",l=await nT(s,a,t),c=await Ya._fromIdTokenResponse(s,a,l);return i||await s._updateCurrentUser(c.user),c}function tw(s,t,i,a){return Je(s).onIdTokenChanged(t,i,a)}function ew(s,t,i){return Je(s).beforeAuthStateChanged(t,i)}const Fc="__sak";class iT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Fc,"1"),this.storage.removeItem(Fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const nw=1e3,iw=10;class rT extends iT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JE(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Lb()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,iw):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},nw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}rT.type="LOCAL";const rw=rT;class sT extends iT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}sT.type="SESSION";const aT=sT;function sw(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class ah{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new ah(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await sw(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ah.receivers=[];function Cm(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class aw{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Cm("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(D.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Si(){return window}function ow(s){Si().location.href=s}function oT(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function lw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uw(){return navigator?.serviceWorker?.controller||null}function cw(){return oT()?self:null}const lT="firebaseLocalStorageDb",hw=1,Qc="firebaseLocalStorage",uT="fbase_key";class kl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function oh(s,t){return s.transaction([Qc],t?"readwrite":"readonly").objectStore(Qc)}function fw(){const s=indexedDB.deleteDatabase(lT);return new kl(s).toPromise()}function $d(){const s=indexedDB.open(lT,hw);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Qc,{keyPath:uT})}catch(l){i(l)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Qc)?t(a):(a.close(),await fw(),t(await $d()))})})}async function cv(s,t,i){const a=oh(s,!0).put({[uT]:t,value:i});return new kl(a).toPromise()}async function dw(s,t){const i=oh(s,!1).get(t),a=await new kl(i).toPromise();return a===void 0?null:a.value}function hv(s,t){const i=oh(s,!0).delete(t);return new kl(i).toPromise()}const mw=800,gw=3;class cT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $d(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>gw)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ah._getInstance(cw()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lw(),!this.activeServiceWorker)return;this.sender=new aw(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||uw()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await $d();return await cv(t,Fc,"1"),await hv(t,Fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>cv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>dw(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>hv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=oh(l,!1).getAll();return new kl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mw)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cT.type="LOCAL";const pw=cT;new xl(3e4,6e4);function yw(s,t){return t?Zi(t):(gt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class Dm extends tT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Fa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Fa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Fa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function _w(s){return Wb(s.auth,new Dm(s),s.bypassAuthState)}function vw(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),$b(i,new Dm(s),s.bypassAuthState)}async function Ew(s){const{auth:t,user:i}=s;return gt(i,t,"internal-error"),Jb(i,new Dm(s),s.bypassAuthState)}class hT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _w;case"linkViaPopup":case"linkViaRedirect":return Ew;case"reauthViaPopup":case"reauthViaRedirect":return vw;default:Wi(this.auth,"internal-error")}}resolve(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Tw=new xl(2e3,1e4);class ja extends hT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,ja.currentPopupAction&&ja.currentPopupAction.cancel(),ja.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return gt(t,this.auth,"internal-error"),t}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const t=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ja.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Tw.get())};t()}}ja.currentPopupAction=null;const Aw="pendingRedirect",Oc=new Map;class Sw extends hT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Oc.get(this.auth._key());if(!t){try{const a=await bw(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Oc.set(this.auth._key(),t)}return this.bypassAuthState||Oc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bw(s,t){const i=Iw(t),a=Rw(s);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function ww(s,t){Oc.set(s._key(),t)}function Rw(s){return Zi(s._redirectPersistence)}function Iw(s){return Nc(Aw,s.config.apiKey,s.name)}async function Cw(s,t,i=!1){if(Ti(s.app))return Promise.reject(Ps(s));const a=Rm(s),l=yw(a,t),d=await new Sw(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const Dw=600*1e3;class Nw{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ow(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!fT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ai(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Dw&&this.cachedEventUids.clear(),this.cachedEventUids.has(fv(t))}saveEventToCache(t){this.cachedEventUids.add(fv(t)),this.lastProcessedEventTime=Date.now()}}function fv(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function fT({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function Ow(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fT(s);default:return!1}}async function Vw(s,t={}){return io(s,"GET","/v1/projects",t)}const Mw=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Uw=/^https?/;async function Lw(s){if(s.config.emulator)return;const{authorizedDomains:t}=await Vw(s);for(const i of t)try{if(xw(i))return}catch{}Wi(s,"unauthorized-domain")}function xw(s){const t=Zd(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!Uw.test(i))return!1;if(Mw.test(s))return a===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const Pw=new xl(3e4,6e4);function dv(){const s=Si().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function kw(s){return new Promise((t,i)=>{function a(){dv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{dv(),i(Ai(s,"network-request-failed"))},timeout:Pw.get()})}if(Si().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Si().gapi?.load)a();else{const l=Gb("iframefcb");return Si()[l]=()=>{gapi.load?a():i(Ai(s,"network-request-failed"))},jb(`${Hb()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Vc=null,t})}let Vc=null;function zw(s){return Vc=Vc||kw(s),Vc}const Bw=new xl(5e3,15e3),qw="__/auth/iframe",jw="emulator/auth/iframe",Hw={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gw=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fw(s){const t=s.config;gt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?Am(t,jw):`https://${s.config.authDomain}/${qw}`,a={apiKey:t.apiKey,appName:s.name,v:no},l=Gw.get(s.config.apiHost);l&&(a.eid=l);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Ll(a).slice(1)}`}async function Qw(s){const t=await zw(s),i=Si().gapi;return gt(i,s,"internal-error"),t.open({where:document.body,url:Fw(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hw,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ai(s,"network-request-failed"),p=Si().setTimeout(()=>{c(d)},Bw.get());function y(){Si().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const Kw={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Yw=500,Xw=600,Zw="_blank",Jw="http://localhost";class mv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $w(s,t,i,a=Yw,l=Xw){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...Kw,width:a.toString(),height:l.toString(),top:c,left:d},_=Ze().toLowerCase();i&&(p=QE(_)?Zw:i),GE(_)&&(t=t||Jw,y.scrollbars="yes");const A=Object.entries(y).reduce((D,[G,Z])=>`${D}${G}=${Z},`,"");if(Ub(_)&&p!=="_self")return Ww(t||"",p),new mv(null);const S=window.open(t||"",p,A);gt(S,s,"popup-blocked");try{S.focus()}catch{}return new mv(S)}function Ww(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const tR="__/auth/handler",eR="emulator/auth/handler",nR=encodeURIComponent("fac");async function gv(s,t,i,a,l,c){gt(s.config.authDomain,s,"auth-domain-config-required"),gt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:no,eventId:l};if(t instanceof eT){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",n1(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Pl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await s._getAppCheckToken(),_=y?`#${nR}=${encodeURIComponent(y)}`:"";return`${iR(s)}?${Ll(p).slice(1)}${_}`}function iR({config:s}){return s.emulator?Am(s,eR):`https://${s.authDomain}/${tR}`}const zd="webStorageSupport";class rR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aT,this._completeRedirectFn=Cw,this._overrideRedirectResult=ww}async _openPopup(t,i,a,l){tr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await gv(t,i,a,Zd(),l);return $w(t,c,Cm())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await gv(t,i,a,Zd(),l);return ow(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(tr(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Qw(t),a=new Nw(t);return i.register("authEvent",l=>(gt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},l=>{const c=l?.[0]?.[zd];c!==void 0&&i(!!c),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Lw(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return JE()||FE()||wm()}}const sR=rR;var pv="@firebase/auth",yv="1.12.0";class aR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){gt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oR(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function lR(s){Ka(new qs("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;gt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$E(s)},_=new Bb(a,l,c,y);return Qb(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Ka(new qs("auth-internal",t=>{const i=Rm(t.getProvider("auth").getImmediate());return(a=>new aR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qr(pv,yv,oR(s)),Qr(pv,yv,"esm2020")}const uR=300,cR=IE("authIdTokenMaxAge")||uR;let _v=null;const hR=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>cR)return;const l=i?.token;_v!==l&&(_v=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function fR(s=ME()){const t=Em(s,"auth");if(t.isInitialized())return t.getImmediate();const i=Fb(s,{popupRedirectResolver:sR,persistence:[pw,rw,aT]}),a=IE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=hR(c.toString());ew(i,d,()=>d(i.currentUser)),tw(i,p=>d(p))}}const l=wE("auth");return l&&Kb(i,`http://${l}`),i}function dR(){return document.getElementsByTagName("head")?.[0]??document}qb({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=l=>{const c=Ai("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",dR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});lR("Browser");var vv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Kr,dT;(function(){var s;function t(C,b){function I(){}I.prototype=b.prototype,C.F=b.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(M,O,L){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return b.prototype[O].apply(M,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,b,I){I||(I=0);const M=Array(16);if(typeof b=="string")for(var O=0;O<16;++O)M[O]=b.charCodeAt(I++)|b.charCodeAt(I++)<<8|b.charCodeAt(I++)<<16|b.charCodeAt(I++)<<24;else for(O=0;O<16;++O)M[O]=b[I++]|b[I++]<<8|b[I++]<<16|b[I++]<<24;b=C.g[0],I=C.g[1],O=C.g[2];let L=C.g[3],w;w=b+(L^I&(O^L))+M[0]+3614090360&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(O^b&(I^O))+M[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(I^L&(b^I))+M[2]+606105819&4294967295,O=L+(w<<17&4294967295|w>>>15),w=I+(b^O&(L^b))+M[3]+3250441966&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(L^I&(O^L))+M[4]+4118548399&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(O^b&(I^O))+M[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(I^L&(b^I))+M[6]+2821735955&4294967295,O=L+(w<<17&4294967295|w>>>15),w=I+(b^O&(L^b))+M[7]+4249261313&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(L^I&(O^L))+M[8]+1770035416&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(O^b&(I^O))+M[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(I^L&(b^I))+M[10]+4294925233&4294967295,O=L+(w<<17&4294967295|w>>>15),w=I+(b^O&(L^b))+M[11]+2304563134&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(L^I&(O^L))+M[12]+1804603682&4294967295,b=I+(w<<7&4294967295|w>>>25),w=L+(O^b&(I^O))+M[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(I^L&(b^I))+M[14]+2792965006&4294967295,O=L+(w<<17&4294967295|w>>>15),w=I+(b^O&(L^b))+M[15]+1236535329&4294967295,I=O+(w<<22&4294967295|w>>>10),w=b+(O^L&(I^O))+M[1]+4129170786&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^O&(b^I))+M[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(L^b))+M[11]+643717713&4294967295,O=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(O^L))+M[0]+3921069994&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^L&(I^O))+M[5]+3593408605&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^O&(b^I))+M[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(L^b))+M[15]+3634488961&4294967295,O=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(O^L))+M[4]+3889429448&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^L&(I^O))+M[9]+568446438&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^O&(b^I))+M[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(L^b))+M[3]+4107603335&4294967295,O=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(O^L))+M[8]+1163531501&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(O^L&(I^O))+M[13]+2850285829&4294967295,b=I+(w<<5&4294967295|w>>>27),w=L+(I^O&(b^I))+M[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^I&(L^b))+M[7]+1735328473&4294967295,O=L+(w<<14&4294967295|w>>>18),w=I+(L^b&(O^L))+M[12]+2368359562&4294967295,I=O+(w<<20&4294967295|w>>>12),w=b+(I^O^L)+M[5]+4294588738&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^O)+M[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^I)+M[11]+1839030562&4294967295,O=L+(w<<16&4294967295|w>>>16),w=I+(O^L^b)+M[14]+4259657740&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^L)+M[1]+2763975236&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^O)+M[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^I)+M[7]+4139469664&4294967295,O=L+(w<<16&4294967295|w>>>16),w=I+(O^L^b)+M[10]+3200236656&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^L)+M[13]+681279174&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^O)+M[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^I)+M[3]+3572445317&4294967295,O=L+(w<<16&4294967295|w>>>16),w=I+(O^L^b)+M[6]+76029189&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(I^O^L)+M[9]+3654602809&4294967295,b=I+(w<<4&4294967295|w>>>28),w=L+(b^I^O)+M[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^I)+M[15]+530742520&4294967295,O=L+(w<<16&4294967295|w>>>16),w=I+(O^L^b)+M[2]+3299628645&4294967295,I=O+(w<<23&4294967295|w>>>9),w=b+(O^(I|~L))+M[0]+4096336452&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~O))+M[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~I))+M[14]+2878612391&4294967295,O=L+(w<<15&4294967295|w>>>17),w=I+(L^(O|~b))+M[5]+4237533241&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~L))+M[12]+1700485571&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~O))+M[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~I))+M[10]+4293915773&4294967295,O=L+(w<<15&4294967295|w>>>17),w=I+(L^(O|~b))+M[1]+2240044497&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~L))+M[8]+1873313359&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~O))+M[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~I))+M[6]+2734768916&4294967295,O=L+(w<<15&4294967295|w>>>17),w=I+(L^(O|~b))+M[13]+1309151649&4294967295,I=O+(w<<21&4294967295|w>>>11),w=b+(O^(I|~L))+M[4]+4149444226&4294967295,b=I+(w<<6&4294967295|w>>>26),w=L+(I^(b|~O))+M[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~I))+M[2]+718787259&4294967295,O=L+(w<<15&4294967295|w>>>17),w=I+(L^(O|~b))+M[9]+3951481745&4294967295,C.g[0]=C.g[0]+b&4294967295,C.g[1]=C.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+L&4294967295}a.prototype.v=function(C,b){b===void 0&&(b=C.length);const I=b-this.blockSize,M=this.C;let O=this.h,L=0;for(;L<b;){if(O==0)for(;L<=I;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<b;)if(M[O++]=C.charCodeAt(L++),O==this.blockSize){l(this,M),O=0;break}}else for(;L<b;)if(M[O++]=C[L++],O==this.blockSize){l(this,M),O=0;break}}this.h=O,this.o+=b},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var b=1;b<C.length-8;++b)C[b]=0;b=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=b&255,b/=256;for(this.v(C),C=Array(16),b=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)C[b++]=this.g[I]>>>M&255;return C};function c(C,b){var I=p;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=b(C)}function d(C,b){this.h=b;const I=[];let M=!0;for(let O=C.length-1;O>=0;O--){const L=C[O]|0;M&&L==b||(I[O]=L,M=!1)}this.g=I}var p={};function y(C){return-128<=C&&C<128?c(C,function(b){return new d([b|0],b<0?-1:0)}):new d([C|0],C<0?-1:0)}function _(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return J(_(-C));const b=[];let I=1;for(let M=0;C>=I;M++)b[M]=C/I|0,I*=4294967296;return new d(b,0)}function A(C,b){if(C.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(C.charAt(0)=="-")return J(A(C.substring(1),b));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(b,8));let M=S;for(let L=0;L<C.length;L+=8){var O=Math.min(8,C.length-L);const w=parseInt(C.substring(L,L+O),b);O<8?(O=_(Math.pow(b,O)),M=M.j(O).add(_(w))):(M=M.j(I),M=M.add(_(w)))}return M}var S=y(0),D=y(1),G=y(16777216);s=d.prototype,s.m=function(){if(et(this))return-J(this).m();let C=0,b=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);C+=(M>=0?M:4294967296+M)*b,b*=4294967296}return C},s.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(Z(this))return"0";if(et(this))return"-"+J(this).toString(C);const b=_(Math.pow(C,6));var I=this;let M="";for(;;){const O=Qt(I,b).g;I=ht(I,O.j(b));let L=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,Z(I))return L+M;for(;L.length<6;)L="0"+L;M=L+M}},s.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function Z(C){if(C.h!=0)return!1;for(let b=0;b<C.g.length;b++)if(C.g[b]!=0)return!1;return!0}function et(C){return C.h==-1}s.l=function(C){return C=ht(this,C),et(C)?-1:Z(C)?0:1};function J(C){const b=C.g.length,I=[];for(let M=0;M<b;M++)I[M]=~C.g[M];return new d(I,~C.h).add(D)}s.abs=function(){return et(this)?J(this):this},s.add=function(C){const b=Math.max(this.g.length,C.g.length),I=[];let M=0;for(let O=0;O<=b;O++){let L=M+(this.i(O)&65535)+(C.i(O)&65535),w=(L>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);M=w>>>16,L&=65535,w&=65535,I[O]=w<<16|L}return new d(I,I[I.length-1]&-2147483648?-1:0)};function ht(C,b){return C.add(J(b))}s.j=function(C){if(Z(this)||Z(C))return S;if(et(this))return et(C)?J(this).j(J(C)):J(J(this).j(C));if(et(C))return J(this.j(J(C)));if(this.l(G)<0&&C.l(G)<0)return _(this.m()*C.m());const b=this.g.length+C.g.length,I=[];for(var M=0;M<2*b;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<C.g.length;O++){const L=this.i(M)>>>16,w=this.i(M)&65535,ie=C.i(O)>>>16,Ce=C.i(O)&65535;I[2*M+2*O]+=w*Ce,Et(I,2*M+2*O),I[2*M+2*O+1]+=L*Ce,Et(I,2*M+2*O+1),I[2*M+2*O+1]+=w*ie,Et(I,2*M+2*O+1),I[2*M+2*O+2]+=L*ie,Et(I,2*M+2*O+2)}for(C=0;C<b;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=b;C<2*b;C++)I[C]=0;return new d(I,0)};function Et(C,b){for(;(C[b]&65535)!=C[b];)C[b+1]+=C[b]>>>16,C[b]&=65535,b++}function mt(C,b){this.g=C,this.h=b}function Qt(C,b){if(Z(b))throw Error("division by zero");if(Z(C))return new mt(S,S);if(et(C))return b=Qt(J(C),b),new mt(J(b.g),J(b.h));if(et(b))return b=Qt(C,J(b)),new mt(J(b.g),b.h);if(C.g.length>30){if(et(C)||et(b))throw Error("slowDivide_ only works with positive integers.");for(var I=D,M=b;M.l(C)<=0;)I=te(I),M=te(M);var O=Lt(I,1),L=Lt(M,1);for(M=Lt(M,2),I=Lt(I,2);!Z(M);){var w=L.add(M);w.l(C)<=0&&(O=O.add(I),L=w),M=Lt(M,1),I=Lt(I,1)}return b=ht(C,O.j(b)),new mt(O,b)}for(O=S;C.l(b)>=0;){for(I=Math.max(1,Math.floor(C.m()/b.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),L=_(I),w=L.j(b);et(w)||w.l(C)>0;)I-=M,L=_(I),w=L.j(b);Z(L)&&(L=D),O=O.add(L),C=ht(C,w)}return new mt(O,C)}s.B=function(C){return Qt(this,C).h},s.and=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)&C.i(M);return new d(I,this.h&C.h)},s.or=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)|C.i(M);return new d(I,this.h|C.h)},s.xor=function(C){const b=Math.max(this.g.length,C.g.length),I=[];for(let M=0;M<b;M++)I[M]=this.i(M)^C.i(M);return new d(I,this.h^C.h)};function te(C){const b=C.g.length+1,I=[];for(let M=0;M<b;M++)I[M]=C.i(M)<<1|C.i(M-1)>>>31;return new d(I,C.h)}function Lt(C,b){const I=b>>5;b%=32;const M=C.g.length-I,O=[];for(let L=0;L<M;L++)O[L]=b>0?C.i(L+I)>>>b|C.i(L+I+1)<<32-b:C.i(L+I);return new d(O,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,dT=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,Kr=d}).apply(typeof vv<"u"?vv:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var mT,gl,gT,Mc,Wd,pT,yT,_T;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var x=u[T];if(!(x in v))break t;v=v[x]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,x,B){for(var $=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)$[Tt-2]=arguments[Tt];return m.prototype[x].apply(T,$)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const x=arguments[T];var v=typeof x;if(v=v!="object"?v:x?Array.isArray(x)?"array":v:"null",v=="array"||v=="object"&&typeof x.length=="number"){v=u.length||0;const B=x.length||0;u.length=v+B;for(let $=0;$<B;$++)u[v+$]=x[$]}else u.push(x)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ht(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=mt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new et(()=>new Qt,u=>u.reset());class Qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,Lt=!1,C=new Et,b=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(I)}};function I(){for(var u;u=ht();){try{u.h.call(u.g)}catch(v){J(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Lt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){O.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,O),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),H=0;function W(u,m,v,T,x){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=x,this.key=++H,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function xt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function jt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let v,T;for(let x=1;x<arguments.length;x++){T=arguments[x];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,x){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const $=St(u,m,T,x);return $>-1?(m=u[$],v||(m.fa=!1)):(m=new W(m,this.src,B,!!T,x),m.fa=v,u.push(m)),m};function pt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],x=Array.prototype.indexOf.call(T,m,void 0),B;(B=x>=0)&&Array.prototype.splice.call(T,x,1),B&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let x=0;x<u.length;++x){const B=u[x];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return x}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),De={};function re(u,m,v,T,x){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],v,T,x);return null}return v=co(v),u&&u[Ce]?u.J(m,v,p(T)?!!T.capture:!1,x):rs(u,m,v,!1,T,x)}function rs(u,m,v,T,x,B){if(!m)throw Error("Invalid event type");const $=p(x)?!!x.capture:!!x;let Tt=ss(u);if(Tt||(u[Mt]=Tt=new rt(u)),v=Tt.add(m,v,T,$,B),v.proxy)return v;if(T=Ys(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(x=$),x===void 0&&(x=!1),u.addEventListener(m.toString(),T,x);else if(u.attachEvent)u.attachEvent($n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ys(){function u(v){return m.call(u.src,u.listener,v)}const m=lo;return u}function Xs(u,m,v,T,x){if(Array.isArray(m))for(var B=0;B<m.length;B++)Xs(u,m[B],v,T,x);else T=p(T)?!!T.capture:!!T,v=co(v),u&&u[Ce]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,T,x),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=ss(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,x)),(v=u>-1?m[u]:null)&&Zs(v))}function Zs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])pt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent($n(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=ss(m))?(pt(v,u),v.h==0&&(v.src=null,m[Mt]=null)):ut(u)}}}function $n(u){return u in De?De[u]:De[u]="on"+u}function lo(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Zs(u),u=v.call(T,m)}return u}function ss(u){return u=u[Mt],u instanceof rt?u:null}var uo="__closure_events_fn_"+(Math.random()*1e9>>>0);function co(u){return typeof u=="function"?u:(u[uo]||(u[uo]=function(m){return u.handleEvent(m)}),u[uo])}function pe(){M.call(this),this.i=new rt(this),this.M=this,this.G=null}S(pe,M),pe.prototype[Ce]=!0,pe.prototype.removeEventListener=function(u,m,v,T){Xs(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new O(m,u);else if(m instanceof O)m.target=m.target||u;else{var x=m;m=new O(T,u),tt(m,x)}x=!0;let B,$;if(v)for($=v.length-1;$>=0;$--)B=m.g=v[$],x=sr(B,T,!0,m)&&x;if(B=m.g=u,x=sr(B,T,!0,m)&&x,x=sr(B,T,!1,m)&&x,v)for($=0;$<v.length;$++)B=m.g=v[$],x=sr(B,T,!1,m)&&x}pe.prototype.N=function(){if(pe.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},pe.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},pe.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function sr(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let x=!0;for(let B=0;B<m.length;++B){const $=m[B];if($&&!$.da&&$.capture==v){const Tt=$.listener,fe=$.ha||$.src;$.fa&&pt(u.i,$),x=Tt.call(fe,T)!==!1&&x}}return x&&!T.defaultPrevented}function Ch(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Yl(u){u.g=Ch(()=>{u.g=null,u.i&&(u.i=!1,Yl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(u){M.call(this),this.h=u,this.g={}}S(as,M);var ho=[];function fo(u){xt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Zs(m)},u),u.g={}}as.prototype.N=function(){as.Z.N.call(this),fo(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=d.JSON.stringify,Dh=d.JSON.parse,Xl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Zl(){}function Jl(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){O.call(this,"d")}S(Pe,O);function An(){O.call(this,"c")}S(An,O);var he={},$l=null;function Js(){return $l=$l||new pe}he.Ia="serverreachability";function Wl(u){O.call(this,he.Ia,u)}S(Wl,O);function Wn(u){const m=Js();Ne(m,new Wl(m))}he.STAT_EVENT="statevent";function os(u,m){O.call(this,he.STAT_EVENT,u),this.stat=m}S(os,O);function ye(u){const m=Js();Ne(m,new os(m,u))}he.Ja="timingevent";function ti(u,m){O.call(this,he.Ja,u),this.size=m}S(ti,O);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function kn(){this.g=!0}kn.prototype.ua=function(){this.g=!1};function Nh(u,m,v,T,x,B){u.info(function(){if(u.g)if(B){var $="",Tt=B.split("&");for(let zt=0;zt<Tt.length;zt++){var fe=Tt[zt].split("=");if(fe.length>1){const se=fe[0];fe=fe[1];const Rn=se.split("_");$=Rn.length>=2&&Rn[1]=="type"?$+(se+"="+fe+"&"):$+(se+"=redacted&")}}}else $=null;else $=B;return"XMLHTTP REQ ("+T+") [attempt "+x+"]: "+m+`
`+v+`
`+$})}function tu(u,m,v,T,x,B,$){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+x+"]: "+m+`
`+v+`
`+B+" "+$})}function ni(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(T?" "+T:"")})}function ls(u,m){u.info(function(){return"TIMEOUT: "+m})}kn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var x=T[0];if(x!="noop"&&x!="stop"&&x!="close")for(let $=1;$<T.length;$++)T[$]=""}}}}return ar(B)}catch{return m}}var us={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},mo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},go;function cs(){}S(cs,Zl),cs.prototype.g=function(){return new XMLHttpRequest},go=new cs;function Ni(u){return encodeURIComponent(String(u))}function eu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new as(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var _e={},Me={};function ii(u,m,v){u.M=1,u.A=hs(Ee(m)),u.u=v,u.R=!0,$s(u,null)}function $s(u,m){u.F=Date.now(),ri(u),u.B=Ee(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),na(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Bn,u.g=pu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var x="readystatechange";Array.isArray(x)||(x&&(ho[0]=x.toString()),x=ho);for(let B=0;B<x.length;B++){const $=re(v,x[B],T||m.handleEvent,!1,m.h||m);if(!$)break;m.g[$.key]=$}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Hn(this.g),fe=this.g.ya(),zt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ke(this.g)))){this.K||Tt!=4||fe==7||(fe==8||zt<=0?Wn(3):Wn(2)),si(this);var m=this.g.ca();this.X=m;var v=Vh(this);if(this.o=m==200,tu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,x=this.g;if((T=x.g?x.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var B=T;break e}}B=null}if(u=B)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,ye(12),hn(this),Sn(this);break t}}if(this.R){u=!0;let se;for(;!this.K&&this.C<v.length;)if(se=iu(this,v),se==Me){Tt==4&&(this.m=4,ye(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(se==_e){this.m=4,ye(15),ni(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,se,null),ai(this,se);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,ye(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,v,"[Invalid Chunked Response]"),hn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),No($),$.P=!0,ye(11))}}else ni(this.i,this.l,v,null),ai(this,v);Tt==4&&hn(this),this.o&&!this.K&&(Tt==4?fu(this.j,this):(this.o=!1,ri(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ye(12)):(this.m=0,ye(13)),hn(this),Sn(this)}}}catch{}};function Vh(u){if(!nu(u))return u.g.la();const m=ke(u.g);if(m==="")return"";let v="";const T=m.length,x=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return hn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(x&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function nu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function iu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Me:(v=Number(m.substring(v,T)),isNaN(v)?_e:(T+=1,T+v>m.length?Me:(m=m.slice(T,T+v),u.C=T+v,m)))}zn.prototype.cancel=function(){this.K=!0,hn(this)};function ri(u){u.T=Date.now()+u.H,Ws(u,u.H)}function Ws(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(_(u.aa,u),m)}function si(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(ls(this.i,this.B),this.M!=2&&(Wn(),ye(17)),hn(this),this.m=2,Sn(this)):Ws(this,this.T-u)};function Sn(u){u.j.I==0||u.K||fu(u.j,u)}function hn(u){si(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,fo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||li(v.h,u))){if(!u.L&&li(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var x=T;if(x[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),mr(v);else break t;_s(v),ye(18)}}else v.xa=x[1],0<v.xa-v.K&&x[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ei(_(v.Va,v),6e3));oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else mi(v,11)}else if((u.L||v.g==u)&&oa(v),!w(m))for(x=v.Ba.g.parse(m),m=0;m<x.length;m++){let zt=x[m];const se=zt[0];if(!(se<=v.K))if(v.K=se,zt=zt[1],v.I==2)if(zt[0]=="c"){v.M=zt[1],v.ba=zt[2];const Rn=zt[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const gi=zt[4];gi!=null&&(v.za=gi,v.j.info("SVER="+v.za));const Gn=zt[5];Gn!=null&&typeof Gn=="number"&&Gn>0&&(T=1.5*Gn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Fn=u.g;if(Fn){const vs=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vs){var B=T.h;B.g||vs.indexOf("spdy")==-1&&vs.indexOf("quic")==-1&&vs.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(_o(B,B.h),B.h=null))}if(T.G){const la=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;la&&(T.wa=la,Ht(T.J,T.G,la))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var $=u;if(T.na=gu(T,T.L?T.ba:null,T.W),$.L){vo(T.h,$);var Tt=$,fe=T.O;fe&&(Tt.H=fe),Tt.D&&(si(Tt),ri(Tt)),T.g=$}else cu(T);v.i.length>0&&di(v)}else zt[0]!="stop"&&zt[0]!="close"||mi(v,7);else v.I==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?mi(v,7):Co(v):zt[0]!="noop"&&v.l&&v.l.qa(zt),v.A=0)}}Wn(4)}catch{}}var ve=class{constructor(u,m){this.g=u,this.map=m}};function po(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function _o(u,m){u.g?u.g.add(m):u.h=m}function vo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}po.prototype.cancel=function(){if(this.i=Eo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Eo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ta(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let x,B=null;T>=0?(x=u[v].substring(0,T),B=u[v].substring(T+1)):x=u[v],m(x,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function fn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof fn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,or(this,u.u),this.h=u.h,To(this,lu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),or(this,m[4]),this.h=ui(m[5]||"",!0),To(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new ur(null,this.l))}fn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fs(m,ea,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fs(m,ea,!0),"@"),u.push(Ni(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(fs(v,v.charAt(0)=="/"?Ao:su,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",fs(v,au)),u.join("")},fn.prototype.resolve=function(u){const m=Ee(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)or(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var x=m.h.lastIndexOf("/");x!=-1&&(T=m.h.slice(0,x+1)+T)}if(x=T,x==".."||x==".")T="";else if(x.indexOf("./")!=-1||x.indexOf("/.")!=-1){T=x.lastIndexOf("/",0)==0,x=x.split("/");const B=[];for(let $=0;$<x.length;){const Tt=x[$++];Tt=="."?T&&$==x.length&&B.push(""):Tt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&$==x.length&&B.push("")):(B.push(Tt),T=!0)}T=B.join("/")}else T=x}return v?m.h=T:v=u.i.toString()!=="",v?To(m,lu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ee(u){return new fn(u)}function Ue(u,m,v){u.j=v?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function or(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function To(u,m,v){m instanceof ur?(u.i=m,ia(u.i,u.l)):(v||(m=fs(m,lr)),u.i=new ur(m,u.l))}function Ht(u,m,v){u.i.set(m,v)}function hs(u){return Ht(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fs(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,en),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function en(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ea=/[#\/\?@]/g,su=/[#\?:]/g,Ao=/[#\?]/g,lr=/[#\?@]/g,au=/#/g;function ur(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&ta(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ur.prototype,s.add=function(u,m){nn(this),this.i=null,u=cr(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ou(u,m){nn(u),m=cr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function So(u,m){return nn(u),m=cr(u,m),u.g.has(m)}s.forEach=function(u,m){nn(this),this.g.forEach(function(v,T){v.forEach(function(x){u.call(m,x,T,this)},this)},this)};function bo(u,m){nn(u);let v=[];if(typeof m=="string")So(u,m)&&(v=v.concat(u.g.get(cr(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return nn(this),this.i=null,u=cr(this,u),So(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=bo(this,u),u.length>0?String(u[0]):m):m};function na(u,m,v){ou(u,m),v.length>0&&(u.i=null,u.g.set(cr(u,m),G(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const x=Ni(v);v=bo(this,v);for(let B=0;B<v.length;B++){let $=x;v[B]!==""&&($+="="+Ni(v[B])),u.push($)}}return this.i=u.join("&")};function lu(u){const m=new ur;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ia(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(v,T){const x=T.toLowerCase();T!=x&&(ou(this,T),na(this,x,v))},u)),u.j=m}function qn(u,m){const v=new kn;if(d.Image){const T=new Image;T.onload=A(bn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(bn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(bn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(bn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function wo(u,m){const v=new kn,T=new AbortController,x=setTimeout(()=>{T.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(x),B.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(x),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,T,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),T(v)}catch{}}function hr(){this.g=new Xl}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ci,Zl),ci.prototype.g=function(){return new ds(this.i,this.h)};function ds(u,m){pe.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(ds,pe),s=ds.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,jn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fr(this):jn(this),this.readyState==3&&ra(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,fr(this))},s.Na=function(u){this.g&&(this.response=u,fr(this))},s.ga=function(){this.g&&fr(this)};function fr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,jn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function jn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return xt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function ms(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=wn(v),typeof u=="string"?v!=null&&Ni(v):Ht(u,m,v))}function Kt(u){pe.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,pe);var hi=/^https?$/i,Ro=["POST","PUT"];s=Kt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():go.g(),this.g.onreadystatechange=D(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){gs(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var x in T)v.set(x,T[x]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),x=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Ro,m,void 0)>=0)||T||x||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,$]of v)this.g.setRequestHeader(B,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){gs(this,B)}};function gs(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Io(u),Oi(u)}function Io(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Oi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Kt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?ps(this):this.Xa())},s.Xa=function(){ps(this)};function ps(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let $=String(u.D).match(ru)[1]||null;!$&&d.self&&d.self.location&&($=d.self.location.protocol.slice(0,-1)),T=!hi.test($?$.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var x=Hn(u)>2?u.g.statusText:""}catch{x=""}u.l=x+" ["+u.ca()+"]",Io(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=eu(u[T]);const x=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[x]||[];m[x]=B,B.push(v)}jt(m,function(T){return T.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function dr(u){this.za=0,this.i=[],this.j=new kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new po(u&&u.concurrentRequestLimit),this.Ba=new hr,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=dr.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,T){ye(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=gu(this,null,this.W),di(this)};function Co(u){if(sa(u),u.I==3){var m=u.V++,v=Ee(u.J);if(Ht(v,"SID",u.M),Ht(v,"RID",m),Ht(v,"TYPE","terminate"),ys(u,v),m=new zn(u,u.j,m),m.M=2,m.A=hs(Ee(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=pu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}mu(u)}function mr(u){u.g&&(No(u),u.g.cancel(),u.g=null)}function sa(u){mr(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!yo(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||b(),Lt||(te(),Lt=!0),C.add(m,u),u.D=0}}function aa(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(_(u.Ea,u,m),du(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const x=new zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=V(B),tt(B,this.U)):B=this.U),this.u!==null||this.R||(x.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=uu(this,x,m),v=Ee(this.J),Ht(v,"RID",u),Ht(v,"CVER",22),this.G&&Ht(v,"X-HTTP-Session-Id",this.G),ys(this,v),B&&(this.R?m="headers="+Ni(wn(B))+"&"+m:this.u&&ms(v,this.u,B)),_o(this.h,x),this.Ra&&Ht(v,"TYPE","init"),this.S?(Ht(v,"$req",m),Ht(v,"SID","null"),x.U=!0,ii(x,v,null)):ii(x,v,m),this.I=2}}else this.I==3&&(u?Do(this,u):this.i.length==0||yo(this.h)||Do(this))};function Do(u,m){var v;m?v=m.l:v=u.V++;const T=Ee(u.J);Ht(T,"SID",u.M),Ht(T,"RID",v),Ht(T,"AID",u.K),ys(u,T),u.u&&u.o&&ms(T,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=uu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),_o(u.h,v),ii(v,T,m)}function ys(u,m){u.H&&xt(u.H,function(v,T){Ht(m,T,v)}),u.l&&xt({},function(v,T){Ht(m,T,v)})}function uu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var x=u.i;let Tt=-1;for(;;){const fe=["count="+v];Tt==-1?v>0?(Tt=x[0].g,fe.push("ofs="+Tt)):Tt=0:fe.push("ofs="+Tt);let zt=!0;for(let se=0;se<v;se++){var B=x[se].g;const Rn=x[se].map;if(B-=Tt,B<0)Tt=Math.max(0,x[se].g-100),zt=!1;else try{B="req"+B+"_"||"";try{var $=Rn instanceof Map?Rn:Object.entries(Rn);for(const[gi,Gn]of $){let Fn=Gn;p(Gn)&&(Fn=ar(Gn)),fe.push(B+gi+"="+encodeURIComponent(Fn))}}catch(gi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Rn)}}if(zt){$=fe.join("&");break t}}$=void 0}return u=u.i.splice(0,v),m.G=u,$}function cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||b(),Lt||(te(),Lt=!0),C.add(m,u),u.A=0}}function _s(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(_(u.Da,u),du(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ye(10),mr(this),hu(this))};function No(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function hu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ee(u.na);Ht(m,"RID","rpc"),Ht(m,"SID",u.M),Ht(m,"AID",u.K),Ht(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Ht(m,"TO",u.ia),Ht(m,"TYPE","xmlhttp"),ys(u,m),u.u&&u.o&&ms(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=hs(Ee(m)),v.u=null,v.R=!0,$s(v,u)}s.Va=function(){this.C!=null&&(this.C=null,mr(this),_s(this),ye(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function fu(u,m){var v=null;if(u.g==m){oa(u),No(u),u.g=null;var T=2}else if(li(u.h,m))v=m.G,vo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var x=u.D;T=Js(),Ne(T,new ti(T,v)),di(u)}else cu(u);else if(x=m.m,x==3||x==0&&m.X>0||!(T==1&&aa(u,m)||T==2&&_s(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),x){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const x=!T;T=new fn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),hs(T),x?qn(T.toString(),v):wo(T.toString(),v)}else ye(2);u.I=0,u.l&&u.l.pa(m),mu(u),sa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ye(2)):(this.j.info("Failed to ping google.com"),ye(1))};function mu(u){if(u.I=0,u.ja=[],u.l){const m=Eo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,v){var T=v instanceof fn?Ee(v):new fn(v);if(T.g!="")m&&(T.g=m+"."+T.g),or(T,T.u);else{var x=d.location;T=x.protocol,m=m?m+"."+x.hostname:x.hostname,x=+x.port;const B=new fn(null);T&&Ue(B,T),m&&(B.g=m),x&&or(B,x),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Ht(T,v,m),Ht(T,"VER",u.ka),ys(u,T),T}function pu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new ci({ab:v})):new Kt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}s=yu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function gr(){}gr.prototype.g=function(u,m){return new We(u,m)};function We(u,m){pe.call(this),this.g=new dr(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}S(We,pe),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Co(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ar(u),u=v);m.i.push(new ve(m.Ya++,u)),m.I==3&&di(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Co(this.g),delete this.g,We.Z.N.call(this)};function _u(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(_u,Pe);function vu(){An.call(this),this.status=1}S(vu,An);function Mi(u){this.g=u}S(Mi,yu),Mi.prototype.ra=function(){Ne(this.g,"a")},Mi.prototype.qa=function(u){Ne(this.g,new _u(u))},Mi.prototype.pa=function(u){Ne(this.g,new vu)},Mi.prototype.oa=function(){Ne(this.g,"b")},gr.prototype.createWebChannel=gr.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,_T=function(){return new gr},yT=function(){return Js()},pT=he,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},us.NO_ERROR=0,us.TIMEOUT=8,us.HTTP_ERROR=6,Mc=us,mo.COMPLETE="complete",gT=mo,Jl.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",pe.prototype.listen=pe.prototype.J,gl=Jl,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,mT=Kt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const Ev="@firebase/firestore",Tv="4.9.3";class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");let ro="12.7.0";const Hs=new _m("@firebase/firestore");function ka(){return Hs.logLevel}function it(s,...t){if(Hs.logLevel<=Dt.DEBUG){const i=t.map(Nm);Hs.debug(`Firestore (${ro}): ${s}`,...i)}}function er(s,...t){if(Hs.logLevel<=Dt.ERROR){const i=t.map(Nm);Hs.error(`Firestore (${ro}): ${s}`,...i)}}function Xa(s,...t){if(Hs.logLevel<=Dt.WARN){const i=t.map(Nm);Hs.warn(`Firestore (${ro}): ${s}`,...i)}}function Nm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function ft(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,vT(s,a,i)}function vT(s,t,i){let a=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw er(a),new Error(a)}function qt(s,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,s||vT(t,l,a)}function vt(s,t){return s}const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nt extends ir{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ji{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class ET{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class mR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class gR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class pR{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ji,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ji)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string",31837,{l:a}),new ET(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class yR{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _R{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new yR(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Av{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vR{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const a=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Av(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Av(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function ER(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class Om{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=ER(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Nt(s,t){return s<t?-1:s>t?1:0}function tm(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const l=s.charAt(a),c=t.charAt(a);if(l!==c)return Bd(l)===Bd(c)?Nt(l,c):Bd(l)?1:-1}return Nt(s.length,t.length)}const TR=55296,AR=57343;function Bd(s){const t=s.charCodeAt(0);return t>=TR&&t<=AR}function Za(s,t,i){return s.length===t.length&&s.every(((a,l)=>i(a,t[l])))}const Sv="__name__";class Ei{constructor(t,i,a){i===void 0?i=0:i>t.length&&ft(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&ft(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const a=Ei.isNumericId(t),l=Ei.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Kr.fromString(t.substring(4,t.length-2))}}class $t extends Ei{construct(t,i,a){return new $t(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new nt(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new $t(i)}static emptyPath(){return new $t([])}}const SR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ei{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return SR.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sv}static keyField(){return new Ge([Sv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new nt(K.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new nt(K.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new nt(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new nt(K.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class lt{constructor(t){this.path=t}static fromPath(t){return new lt($t.fromString(t))}static fromName(t){return new lt($t.fromString(t).popFirst(5))}static empty(){return new lt($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&$t.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return $t.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new lt(new $t(t.slice()))}}function TT(s,t,i){if(!i)throw new nt(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function bR(s,t,i,a){if(t===!0&&a===!0)throw new nt(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function bv(s){if(!lt.isDocumentKey(s))throw new nt(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function wv(s){if(lt.isDocumentKey(s))throw new nt(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function AT(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function lh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":ft(12329,{type:typeof s})}function Tn(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new nt(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=lh(s);throw new nt(K.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Ie(s,t){const i={typeString:s};return t&&(i.value=t),i}function zl(s,t){if(!AT(s))throw new nt(K.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new nt(K.INVALID_ARGUMENT,i);return!0}const Rv=-62135596800,Iv=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(t){return Wt.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Iv);return new Wt(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new nt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new nt(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Rv)throw new nt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nt(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Iv}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Wt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(zl(t,Wt._jsonSchema))return new Wt(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Wt._jsonSchemaVersion="firestore/timestamp/1.0",Wt._jsonSchema={type:Ie("string",Wt._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class yt{static fromTimestamp(t){return new yt(t)}static min(){return new yt(new Wt(0,0))}static max(){return new yt(new Wt(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Il=-1;function wR(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,l=yt.fromTimestamp(a===1e9?new Wt(i+1,0):new Wt(i,a));return new Xr(l,lt.empty(),t)}function RR(s){return new Xr(s.readTime,s.key,Il)}class Xr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Xr(yt.min(),lt.empty(),Il)}static max(){return new Xr(yt.max(),lt.empty(),Il)}}function IR(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=lt.comparator(s.documentKey,t.documentKey),i!==0?i:Nt(s.largestBatchId,t.largestBatchId))}const CR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class DR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function so(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==CR)throw s;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&ft(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function NR(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ao(s){return s.name==="IndexedDbTransactionError"}class uh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}uh.ce=-1;const Vm=-1;function ch(s){return s==null}function Kc(s){return s===0&&1/s==-1/0}function OR(s){return typeof s=="number"&&Number.isInteger(s)&&!Kc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const ST="";function VR(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=Cv(t)),t=MR(s.get(i),t);return Cv(t)}function MR(s,t){let i=t;const a=s.length;for(let l=0;l<a;l++){const c=s.charAt(l);switch(c){case"\0":i+="";break;case ST:i+="";break;default:i+=c}}return i}function Cv(s){return s+ST+""}function Dv(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function ns(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function bT(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||He.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,He.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,He.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class He{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??He.RED,this.left=l??He.EMPTY,this.right=c??He.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new He(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return He.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return He.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,He.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,He.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ft(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ft(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw ft(27949);return t+(this.isRed()?0:1)}}He.EMPTY=null,He.RED=!0,He.BLACK=!1;He.EMPTY=new class{constructor(){this.size=0}get key(){throw ft(57766)}get value(){throw ft(16141)}get color(){throw ft(16727)}get left(){throw ft(29726)}get right(){throw ft(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new He(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Nv(this.data.getIterator())}getIteratorFrom(t){return new Nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class Nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class En{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new En([])}unionWith(t){let i=new Ve(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new En(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Za(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class wT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new wT("Invalid base64 string: "+c):c}})(t);return new Fe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Fe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const UR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(s){if(qt(!!s,39018),typeof s=="string"){let t=0;const i=UR.exec(s);if(qt(!!i,46558,{timestamp:s}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(s.seconds),nanos:ge(s.nanos)}}function ge(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function Jr(s){return typeof s=="string"?Fe.fromBase64String(s):Fe.fromUint8Array(s)}const RT="server_timestamp",IT="__type__",CT="__previous_value__",DT="__local_write_time__";function Mm(s){return(s?.mapValue?.fields||{})[IT]?.stringValue===RT}function hh(s){const t=s.mapValue.fields[CT];return Mm(t)?hh(t):t}function Cl(s){const t=Zr(s.mapValue.fields[DT].timestampValue);return new Wt(t.seconds,t.nanos)}class LR{constructor(t,i,a,l,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const Yc="(default)";class Dl{constructor(t,i){this.projectId=t,this.database=i||Yc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Yc}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}const NT="__type__",xR="__max__",Rc={mapValue:{}},OT="__vector__",Xc="value";function $r(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Mm(s)?4:kR(s)?9007199254740991:PR(s)?10:11:ft(28295,{value:s})}function Ci(s,t){if(s===t)return!0;const i=$r(s);if(i!==$r(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Cl(s).isEqual(Cl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Zr(l.timestampValue),p=Zr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(l,c){return Jr(l.bytesValue).isEqual(Jr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(s,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?Kc(d)===Kc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Za(s.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Dv(d)!==Dv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Ci(d[y],p[y])))return!1;return!0})(s,t);default:return ft(52216,{left:s})}}function Nl(s,t){return(s.values||[]).find((i=>Ci(i,t)))!==void 0}function Ja(s,t){if(s===t)return 0;const i=$r(s),a=$r(t);if(i!==a)return Nt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),y=ge(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(s,t);case 3:return Ov(s.timestampValue,t.timestampValue);case 4:return Ov(Cl(s),Cl(t));case 5:return tm(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=Jr(c),y=Jr(d);return p.compareTo(y)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Nt(p[_],y[_]);if(A!==0)return A}return Nt(p.length,y.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Nt(ge(c.latitude),ge(d.latitude));return p!==0?p:Nt(ge(c.longitude),ge(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return Vv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Xc]?.arrayValue,A=y[Xc]?.arrayValue,S=Nt(_?.values?.length||0,A?.values?.length||0);return S!==0?S:Vv(_,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const D=tm(y[S],A[S]);if(D!==0)return D;const G=Ja(p[y[S]],_[A[S]]);if(G!==0)return G}return Nt(y.length,A.length)})(s.mapValue,t.mapValue);default:throw ft(23264,{he:i})}}function Ov(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return Nt(s,t);const i=Zr(s),a=Zr(t),l=Nt(i.seconds,a.seconds);return l!==0?l:Nt(i.nanos,a.nanos)}function Vv(s,t){const i=s.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Ja(i[l],a[l]);if(c)return c}return Nt(i.length,a.length)}function $a(s){return em(s)}function em(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=Zr(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return Jr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return lt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=em(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${em(i.fields[d])}`;return l+"}"})(s.mapValue):ft(61005,{value:s})}function Uc(s){switch($r(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=hh(s);return t?16+Uc(t):16;case 5:return 2*s.stringValue.length;case 6:return Jr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let l=0;return ns(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(s.mapValue);default:throw ft(13486,{value:s})}}function Mv(s,t){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${t.path.canonicalString()}`}}function nm(s){return!!s&&"integerValue"in s}function Um(s){return!!s&&"arrayValue"in s}function Uv(s){return!!s&&"nullValue"in s}function Lv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Lc(s){return!!s&&"mapValue"in s}function PR(s){return(s?.mapValue?.fields||{})[NT]?.stringValue===OT}function Tl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return ns(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Tl(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Tl(s.arrayValue.values[i]);return t}return{...s}}function kR(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===xR}class cn{constructor(t){this.value=t}static empty(){return new cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Tl(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Tl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ns(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new cn(Tl(this.value))}}function VT(s){const t=[];return ns(s.fields,((i,a)=>{const l=new Ge([i]);if(Lc(a)){const c=VT(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new En(t)}class Xe{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Xe(t,0,yt.min(),yt.min(),yt.min(),cn.empty(),0)}static newFoundDocument(t,i,a,l){return new Xe(t,1,i,yt.min(),a,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,yt.min(),yt.min(),cn.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,yt.min(),yt.min(),cn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zc{constructor(t,i){this.position=t,this.inclusive=i}}function xv(s,t,i){let a=0;for(let l=0;l<s.position.length;l++){const c=t[l],d=s.position[l];if(c.field.isKeyField()?a=lt.comparator(lt.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Pv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ci(s.position[i],t.position[i]))return!1;return!0}class Jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function zR(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class MT{}class Re extends MT{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new qR(t,i,a):i==="array-contains"?new GR(t,a):i==="in"?new FR(t,a):i==="not-in"?new QR(t,a):i==="array-contains-any"?new KR(t,a):new Re(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new jR(t,a):new HR(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&$r(this.value)===$r(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return ft(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends MT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Jn(t,i)}matches(t){return UT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function UT(s){return s.op==="and"}function LT(s){return BR(s)&&UT(s)}function BR(s){for(const t of s.filters)if(t instanceof Jn)return!1;return!0}function im(s){if(s instanceof Re)return s.field.canonicalString()+s.op.toString()+$a(s.value);if(LT(s))return s.filters.map((t=>im(t))).join(",");{const t=s.filters.map((i=>im(i))).join(",");return`${s.op}(${t})`}}function xT(s,t){return s instanceof Re?(function(a,l){return l instanceof Re&&a.op===l.op&&a.field.isEqual(l.field)&&Ci(a.value,l.value)})(s,t):s instanceof Jn?(function(a,l){return l instanceof Jn&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&xT(d,l.filters[p])),!0):!1})(s,t):void ft(19439)}function PT(s){return s instanceof Re?(function(i){return`${i.field.canonicalString()} ${i.op} ${$a(i.value)}`})(s):s instanceof Jn?(function(i){return i.op.toString()+" {"+i.getFilters().map(PT).join(" ,")+"}"})(s):"Filter"}class qR extends Re{constructor(t,i,a){super(t,i,a),this.key=lt.fromName(a.referenceValue)}matches(t){const i=lt.comparator(t.key,this.key);return this.matchesComparison(i)}}class jR extends Re{constructor(t,i){super(t,"in",i),this.keys=kT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class HR extends Re{constructor(t,i){super(t,"not-in",i),this.keys=kT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function kT(s,t){return(t.arrayValue?.values||[]).map((i=>lt.fromName(i.referenceValue)))}class GR extends Re{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Um(i)&&Nl(i.arrayValue,this.value)}}class FR extends Re{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Nl(this.value.arrayValue,i)}}class QR extends Re{constructor(t,i){super(t,"not-in",i)}matches(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Nl(this.value.arrayValue,i)}}class KR extends Re{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Um(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Nl(this.value.arrayValue,a)))}}class YR{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function kv(s,t=null,i=[],a=[],l=null,c=null,d=null){return new YR(s,t,i,a,l,c,d)}function Lm(s){const t=vt(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>im(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ch(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>$a(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>$a(a))).join(",")),t.Te=i}return t.Te}function xm(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!zR(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!xT(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!Pv(s.startAt,t.startAt)&&Pv(s.endAt,t.endAt)}function rm(s){return lt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class Bl{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function XR(s,t,i,a,l,c,d,p){return new Bl(s,t,i,a,l,c,d,p)}function fh(s){return new Bl(s)}function zv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function zT(s){return s.collectionGroup!==null}function Al(s){const t=vt(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ge.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jc(c,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Jc(Ge.keyField(),a))}return t.Ie}function bi(s){const t=vt(s);return t.Ee||(t.Ee=ZR(t,Al(s))),t.Ee}function ZR(s,t){if(s.limitType==="F")return kv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jc(l.field,c)}));const i=s.endAt?new Zc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Zc(s.startAt.position,s.startAt.inclusive):null;return kv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function sm(s,t){const i=s.filters.concat([t]);return new Bl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function am(s,t,i){return new Bl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function dh(s,t){return xm(bi(s),bi(t))&&s.limitType===t.limitType}function BT(s){return`${Lm(bi(s))}|lt:${s.limitType}`}function za(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>PT(l))).join(", ")}]`),ch(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>$a(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>$a(l))).join(",")),`Target(${a})`})(bi(s))}; limitType=${s.limitType})`}function mh(s,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):lt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,l){for(const c of Al(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(s,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=xv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Al(a),l)||a.endAt&&!(function(d,p,y){const _=xv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Al(a),l))})(s,t)}function JR(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function qT(s){return(t,i)=>{let a=!1;for(const l of Al(s)){const c=$R(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function $R(s,t,i){const a=s.field.isKeyField()?lt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?Ja(y,_):ft(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return ft(19790,{direction:s.dir})}}class Fs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ns(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return bT(this.inner)}size(){return this.innerSize}}const WR=new oe(lt.comparator);function nr(){return WR}const jT=new oe(lt.comparator);function pl(...s){let t=jT;for(const i of s)t=t.insert(i.key,i);return t}function HT(s){let t=jT;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function xs(){return Sl()}function GT(){return Sl()}function Sl(){return new Fs((s=>s.toString()),((s,t)=>s.isEqual(t)))}const tI=new oe(lt.comparator),eI=new Ve(lt.comparator);function Ot(...s){let t=eI;for(const i of s)t=t.add(i);return t}const nI=new Ve(Nt);function iI(){return nI}function Pm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kc(t)?"-0":t}}function FT(s){return{integerValue:""+s}}function rI(s,t){return OR(t)?FT(t):Pm(s,t)}class gh{constructor(){this._=void 0}}function sI(s,t,i){return s instanceof Ol?(function(l,c){const d={fields:{[IT]:{stringValue:RT},[DT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Mm(c)&&(c=hh(c)),c&&(d.fields[CT]=c),{mapValue:d}})(i,t):s instanceof Vl?KT(s,t):s instanceof Ml?YT(s,t):(function(l,c){const d=QT(l,c),p=Bv(d)+Bv(l.Ae);return nm(d)&&nm(l.Ae)?FT(p):Pm(l.serializer,p)})(s,t)}function aI(s,t,i){return s instanceof Vl?KT(s,t):s instanceof Ml?YT(s,t):i}function QT(s,t){return s instanceof $c?(function(a){return nm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Ol extends gh{}class Vl extends gh{constructor(t){super(),this.elements=t}}function KT(s,t){const i=XT(t);for(const a of s.elements)i.some((l=>Ci(l,a)))||i.push(a);return{arrayValue:{values:i}}}class Ml extends gh{constructor(t){super(),this.elements=t}}function YT(s,t){let i=XT(t);for(const a of s.elements)i=i.filter((l=>!Ci(l,a)));return{arrayValue:{values:i}}}class $c extends gh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Bv(s){return ge(s.integerValue||s.doubleValue)}function XT(s){return Um(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class oI{constructor(t,i){this.field=t,this.transform=i}}function lI(s,t){return s.field.isEqual(t.field)&&(function(a,l){return a instanceof Vl&&l instanceof Vl||a instanceof Ml&&l instanceof Ml?Za(a.elements,l.elements,Ci):a instanceof $c&&l instanceof $c?Ci(a.Ae,l.Ae):a instanceof Ol&&l instanceof Ol})(s.transform,t.transform)}class uI{constructor(t,i){this.version=t,this.transformResults=i}}class Zn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Zn}static exists(t){return new Zn(void 0,t)}static updateTime(t){return new Zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function xc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class ph{}function ZT(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new km(s.key,Zn.none()):new ql(s.key,s.data,Zn.none());{const i=s.data,a=cn.empty();let l=new Ve(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new is(s.key,a,new En(l.toArray()),Zn.none())}}function cI(s,t,i){s instanceof ql?(function(l,c,d){const p=l.value.clone(),y=jv(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof is?(function(l,c,d){if(!xc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=jv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(JT(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(s,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function bl(s,t,i,a){return s instanceof ql?(function(c,d,p,y){if(!xc(c.precondition,d))return p;const _=c.value.clone(),A=Hv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(s,t,i,a):s instanceof is?(function(c,d,p,y){if(!xc(c.precondition,d))return p;const _=Hv(c.fieldTransforms,y,d),A=d.data;return A.setAll(JT(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,p){return xc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function hI(s,t){let i=null;for(const a of s.fieldTransforms){const l=t.data.field(a.field),c=QT(a.transform,l||null);c!=null&&(i===null&&(i=cn.empty()),i.set(a.field,c))}return i||null}function qv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Za(a,l,((c,d)=>lI(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class ql extends ph{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class is extends ph{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function JT(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function jv(s,t,i){const a=new Map;qt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let l=0;l<i.length;l++){const c=s[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,aI(d,p,i[l]))}return a}function Hv(s,t,i){const a=new Map;for(const l of s){const c=l.transform,d=i.data.field(l.field);a.set(l.field,sI(c,d,t))}return a}class km extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fI extends ph{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dI{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&cI(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=bl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=GT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=ZT(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(yt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Za(this.mutations,t.mutations,((i,a)=>qv(i,a)))&&Za(this.baseMutations,t.baseMutations,((i,a)=>qv(i,a)))}}class zm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return tI})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new zm(t,i,a,l)}}class mI{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class gI{constructor(t,i){this.count=t,this.unchangedNames=i}}var we,Ut;function pI(s){switch(s){case K.OK:return ft(64938);case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return ft(15467,{code:s})}}function $T(s){if(s===void 0)return er("GRPC error has no .code"),K.UNKNOWN;switch(s){case we.OK:return K.OK;case we.CANCELLED:return K.CANCELLED;case we.UNKNOWN:return K.UNKNOWN;case we.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case we.INTERNAL:return K.INTERNAL;case we.UNAVAILABLE:return K.UNAVAILABLE;case we.UNAUTHENTICATED:return K.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case we.NOT_FOUND:return K.NOT_FOUND;case we.ALREADY_EXISTS:return K.ALREADY_EXISTS;case we.PERMISSION_DENIED:return K.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case we.ABORTED:return K.ABORTED;case we.OUT_OF_RANGE:return K.OUT_OF_RANGE;case we.UNIMPLEMENTED:return K.UNIMPLEMENTED;case we.DATA_LOSS:return K.DATA_LOSS;default:return ft(39323,{code:s})}}(Ut=we||(we={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";function yI(){return new TextEncoder}const _I=new Kr([4294967295,4294967295],0);function Gv(s){const t=yI().encode(s),i=new dT;return i.update(t),new Uint8Array(i.digest())}function Fv(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Kr([i,a],0),new Kr([l,c],0)]}class Bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new yl(`Invalid padding: ${i}`);if(a<0)throw new yl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new yl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new yl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Kr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Kr.fromNumber(a)));return l.compare(_I)===1&&(l=new Kr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Gv(t),[a,l]=Fv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Bm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Gv(t),[a,l]=Fv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class yh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new yh(yt.min(),l,new oe(Nt),nr(),Ot())}}class jl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new jl(a,i,Ot(),Ot(),Ot())}}class Pc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class WT{constructor(t,i){this.targetId=t,this.Ce=i}}class t0{constructor(t,i,a=Fe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Qv{constructor(){this.ve=0,this.Fe=Kv(),this.Me=Fe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),a=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:ft(38017,{changeType:c})}})),new jl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Kv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class vI{constructor(t){this.Ge=t,this.ze=new Map,this.je=nr(),this.Je=Ic(),this.He=Ic(),this.Ye=new oe(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:ft(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(rm(c))if(a===0){const d=new lt(c.path);this.et(i,d,Xe.newNoDocument(d,yt.min()))}else qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Jr(a).toUint8Array()}catch(y){if(y instanceof wT)return Xa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Bm(d,l,c)}catch(y){return Xa(y instanceof yl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&rm(p.target)){const y=new lt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Xe.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ot();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new yh(t,i,this.Ye,this.je,a);return this.je=nr(),this.Je=Ic(),this.He=Ic(),this.Ye=new oe(Nt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Qv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Qv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new oe(lt.comparator)}function Kv(){return new oe(lt.comparator)}const EI={asc:"ASCENDING",desc:"DESCENDING"},TI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AI={and:"AND",or:"OR"};class SI{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function om(s,t){return s.useProto3Json||ch(t)?t:{value:t}}function Wc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function e0(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function bI(s,t){return Wc(s,t.toTimestamp())}function wi(s){return qt(!!s,49232),yt.fromTimestamp((function(i){const a=Zr(i);return new Wt(a.seconds,a.nanos)})(s))}function qm(s,t){return lm(s,t).canonicalString()}function lm(s,t){const i=(function(l){return new $t(["projects",l.projectId,"databases",l.database])})(s).child("documents");return t===void 0?i:i.child(t)}function n0(s){const t=$t.fromString(s);return qt(o0(t),10190,{key:t.toString()}),t}function um(s,t){return qm(s.databaseId,t.path)}function qd(s,t){const i=n0(t);if(i.get(1)!==s.databaseId.projectId)throw new nt(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new nt(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new lt(r0(i))}function i0(s,t){return qm(s.databaseId,t)}function wI(s){const t=n0(s);return t.length===4?$t.emptyPath():r0(t)}function cm(s){return new $t(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function r0(s){return qt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function Yv(s,t,i){return{name:um(s,t),fields:i.value.mapValue.fields}}function RI(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:ft(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string",58123),Fe.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Fe.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?K.UNKNOWN:$T(_.code);return new nt(A,_.message||"")})(d);i=new t0(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=qd(s,a.document.name),c=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):yt.min(),p=new cn({mapValue:{fields:a.document.fields}}),y=Xe.newFoundDocument(l,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Pc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=qd(s,a.document),c=a.readTime?wi(a.readTime):yt.min(),d=Xe.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Pc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=qd(s,a.document),c=a.removedTargetIds||[];i=new Pc([],c,l,null)}else{if(!("filter"in t))return ft(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new gI(l,c),p=a.targetId;i=new WT(p,d)}}return i}function II(s,t){let i;if(t instanceof ql)i={update:Yv(s,t.key,t.value)};else if(t instanceof km)i={delete:um(s,t.key)};else if(t instanceof is)i={update:Yv(s,t.key,t.data),updateMask:xI(t.fieldMask)};else{if(!(t instanceof fI))return ft(16599,{Vt:t.type});i={verify:um(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Ol)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Ml)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof $c)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw ft(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:bI(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:ft(27497)})(s,t.precondition)),i}function CI(s,t){return s&&s.length>0?(qt(t!==void 0,14353),s.map((i=>(function(l,c){let d=l.updateTime?wi(l.updateTime):wi(c);return d.isEqual(yt.min())&&(d=wi(c)),new uI(d,l.transformResults||[])})(i,t)))):[]}function DI(s,t){return{documents:[i0(s,t.path)]}}function NI(s,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=i0(s,l);const c=(function(_){if(_.length!==0)return a0(Jn.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(D){return{field:Ba(D.field),direction:MI(D.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=om(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function OI(s){let t=wI(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){qt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const D=s0(S);return D instanceof Jn&&LT(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(Z){return new Jc(qa(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let D;return D=typeof S=="object"?S.value:S,ch(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(S){const D=!!S.before,G=S.values||[];return new Zc(G,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const D=!S.before,G=S.values||[];return new Zc(G,D)})(i.endAt)),XR(t,l,d,c,p,"F",y,_)}function VI(s,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ft(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function s0(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qa(i.unaryFilter.field);return Re.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=qa(i.unaryFilter.field);return Re.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return Re.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return Re.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ft(61313);default:return ft(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Re.create(qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ft(58110);default:return ft(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return Jn.create(i.compositeFilter.filters.map((a=>s0(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return ft(1026)}})(i.compositeFilter.op))})(s):ft(30097,{filter:s})}function MI(s){return EI[s]}function UI(s){return TI[s]}function LI(s){return AI[s]}function Ba(s){return{fieldPath:s.canonicalString()}}function qa(s){return Ge.fromServerFormat(s.fieldPath)}function a0(s){return s instanceof Re?(function(i){if(i.op==="=="){if(Lv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(Uv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Lv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(Uv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:UI(i.op),value:i.value}}})(s):s instanceof Jn?(function(i){const a=i.getFilters().map((l=>a0(l)));return a.length===1?a[0]:{compositeFilter:{op:LI(i.op),filters:a}}})(s):ft(54877,{filter:s})}function xI(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function o0(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Hr{constructor(t,i,a,l,c=yt.min(),d=yt.min(),p=Fe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new Hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class PI{constructor(t){this.yt=t}}function kI(s){const t=OI({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?am(t,t.limit,"L"):t}class zI{constructor(){this.Cn=new BI}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Xr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Xr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class BI{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve($t.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve($t.comparator)).toArray()}}const Xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l0=41943040;class un{static withCacheSize(t){return new un(t,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(l0,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);class Wa{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Wa(0)}static cr(){return new Wa(-1)}}const Zv="LruGarbageCollector",qI=1048576;function Jv([s,t],[i,a]){const l=Nt(s,i);return l===0?Nt(t,a):l}class jI{constructor(t){this.Ir=t,this.buffer=new Ve(Jv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Jv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class HI{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(Zv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ao(i)?it(Zv,"Ignoring IndexedDB error during garbage collection: ",i):await so(i)}await this.Vr(3e5)}))}}class GI{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(uh.ce);const a=new jI(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Xv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),ka()<=Dt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function FI(s,t){return new GI(s,t)}class QI{constructor(){this.changes=new Fs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class KI{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class YI{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&bl(a.mutation,l,En.empty(),Wt.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ot()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ot()){const l=xs();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=pl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=xs();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ot())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=nr();const d=Sl(),p=(function(){return Sl()})();return i.forEach(((y,_)=>{const A=a.get(_.key);l.has(_.key)&&(A===void 0||A.mutation instanceof is)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),bl(A.mutation,_,A.mutation.getFieldMask(),Wt.now())):d.set(_.key,En.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new KI(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Sl();let l=new oe(((d,p)=>d-p)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||En.empty();A=p.applyToLocalView(_,A),a.set(y,A);const S=(l.get(p.batchId)||Ot()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,S=GT();A.forEach((D=>{if(!c.has(D)){const G=ZT(i.get(D),a.get(D));G!==null&&S.set(D,G),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return lt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):zT(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(xs());let p=Il,y=c;return d.next((_=>X.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((D=>{y=y.insert(A,D)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ot()))).next((A=>({batchId:p,changes:HT(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new lt(i)).next((a=>{let l=pl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=pl();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(y=>{const _=(function(S,D){return new Bl(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((A=>{A.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Xe.newInvalidDocument(A)))}));let p=pl();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&bl(A.mutation,_,En.empty(),Wt.now()),mh(i,_)&&(p=p.insert(y,_))})),p}))}}class XI{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:wi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:kI(l.bundledQuery),readTime:wi(l.readTime)}})(i)),X.resolve()}}class ZI{constructor(){this.overlays=new oe(lt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=xs();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=xs(),c=i.length+1,d=new lt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new oe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=xs(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=xs(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new mI(i,a));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class JI{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class jm{constructor(){this.Qr=new Ve(xe.$r),this.Ur=new Ve(xe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new xe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new xe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new lt(new $t([])),a=new xe(i,t),l=new xe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new lt(new $t([])),a=new xe(i,t),l=new xe(i,t+1);let c=Ot();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new xe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class xe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return lt.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||lt.comparator(t.key,i.key)}}class $I{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(xe.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new dI(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new xe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Vm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new xe(i,0),l=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Nt);return i.forEach((l=>{const c=new xe(l,0),d=new xe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;lt.isDocumentKey(c)||(c=c.child(""));const d=new xe(new lt(c),0);let p=new Ve(Nt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new xe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new xe(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class WI{constructor(t){this.ri=t,this.docs=(function(){return new oe(lt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let a=nr();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=nr();const d=i.path,p=new lt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||IR(RR(A),a)<=0||(l.has(A.key)||mh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){ft(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new tC(this)}getSize(t){return X.resolve(this.size)}}class tC extends QI{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class eC{constructor(t){this.persistence=t,this.si=new Fs((i=>Lm(i)),xm),this.lastRemoteSnapshotVersion=yt.min(),this.highestTargetId=0,this.oi=0,this._i=new jm,this.targetCount=0,this.ai=Wa.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Wa(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class u0{constructor(t,i){this.ui={},this.overlays={},this.ci=new uh(0),this.li=!1,this.li=!0,this.hi=new JI,this.referenceDelegate=t(this),this.Pi=new eC(this),this.indexManager=new zI,this.remoteDocumentCache=(function(l){return new WI(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new PI(i),this.Ii=new XI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new ZI,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new $I(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){it("MemoryPersistence","Starting transaction:",t);const l=new nC(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class nC extends DR{constructor(t){super(),this.currentSequenceNumber=t}}class Hm{constructor(t){this.persistence=t,this.Ri=new jm,this.Vi=null}static mi(t){return new Hm(t)}get fi(){if(this.Vi)return this.Vi;throw ft(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=lt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,yt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class th{constructor(t,i){this.persistence=t,this.pi=new Fs((a=>VR(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=FI(this,i)}static mi(t,i){return new th(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,yt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Gm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Gm(t,i.fromCache,a,l)}}class iC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class rC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ZS()?8:NR(Ze())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new iC;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(ka()<=Dt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ka()<=Dt.DEBUG&&it("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(ka()<=Dt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,bi(i))):X.resolve())}ys(t,i){if(zv(i))return X.resolve(null);let a=bi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=am(i,null,"F"),a=bi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,am(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return zv(i)||l.isEqual(yt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(ka()<=Dt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),za(i)),this.vs(t,d,i,wR(l,Il)).next((p=>p)))}))}Ds(t,i){let a=new Ve(qT(t));return i.forEach(((l,c)=>{mh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return ka()<=Dt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(t,i,Xr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Fm="LocalStore",sC=3e8;class aC{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Nt),this.xs=new Fs((c=>Lm(c)),xm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function oC(s,t,i,a){return new aC(s,t,i,a)}async function c0(s,t){const i=vt(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Ot();for(const _ of l){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function lC(s,t){const i=vt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const S=_.batch,D=S.keys();let G=X.resolve();return D.forEach((Z=>{G=G.next((()=>A.getEntry(y,Z))).next((et=>{const J=_.docVersions.get(Z);qt(J!==null,48541),et.version.compareTo(J)<0&&(S.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Ot();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function h0(s){const t=vt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function uC(s,t){const i=vt(s),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const D=l.get(S);if(!D)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let G=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(Fe.EMPTY_BYTE_STRING,yt.min()).withLastLimboFreeSnapshotVersion(yt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(S,G),(function(et,J,ht){return et.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=sC?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0})(D,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let y=nr(),_=Ot();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(cC(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(yt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function cC(s,t,i){let a=Ot(),l=Ot();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=nr();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(yt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):it(Fm,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function hC(s,t){const i=vt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Vm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function fC(s,t){const i=vt(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Hr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function hm(s,t,i){const a=vt(s),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ao(d))throw d;it(Fm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function $v(s,t,i){const a=vt(s);let l=yt.min(),c=Ot();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=vt(y),D=S.xs.get(A);return D!==void 0?X.resolve(S.Ms.get(D)):S.Pi.getTargetData(_,A)})(a,d,bi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:yt.min(),i?c:Ot()))).next((p=>(dC(a,JR(t),p),{documents:p,Qs:c})))))}function dC(s,t,i){let a=s.Os.get(t)||yt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class Wv{constructor(){this.activeTargetIds=iI()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class mC{constructor(){this.Mo=new Wv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Wv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class gC{Oo(t){}shutdown(){}}const tE="ConnectivityMonitor";class eE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(tE,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(tE,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Cc=null;function fm(){return Cc===null?Cc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Cc++,"0x"+Cc.toString(16)}const jd="RestConnection",pC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Yc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=fm(),p=this.zo(t,i.toUriEncodedString());it(jd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),A=eo(_);return this.Jo(t,p,y,a,A).then((S=>(it(jd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Xa(jd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=pC[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class _C{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ke="WebChannelConnection";class vC extends yC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=fm();return new Promise(((p,y)=>{const _=new mT;_.setWithCredentials(!0),_.listenOnce(gT.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Mc.NO_ERROR:const S=_.getResponseJson();it(Ke,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Mc.TIMEOUT:it(Ke,`RPC '${t}' ${d} timed out`),y(new nt(K.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const D=_.getStatus();if(it(Ke,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const Z=G?.error;if(Z&&Z.status&&Z.message){const et=(function(ht){const Et=ht.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(Et)>=0?Et:K.UNKNOWN})(Z.status);y(new nt(et,Z.message))}else y(new nt(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new nt(K.UNAVAILABLE,"Connection failed."));break;default:ft(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{it(Ke,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ke,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=fm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=_T(),p=yT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");it(Ke,`Creating RPC '${t}' stream ${l}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let D=!1,G=!1;const Z=new _C({Yo:J=>{G?it(Ke,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(D||(it(Ke,`Opening RPC '${t}' stream ${l} transport.`),S.open(),D=!0),it(Ke,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),et=(J,ht,Et)=>{J.listen(ht,(mt=>{try{Et(mt)}catch(Qt){setTimeout((()=>{throw Qt}),0)}}))};return et(S,gl.EventType.OPEN,(()=>{G||(it(Ke,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),et(S,gl.EventType.CLOSE,(()=>{G||(G=!0,it(Ke,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),et(S,gl.EventType.ERROR,(J=>{G||(G=!0,Xa(Ke,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new nt(K.UNAVAILABLE,"The operation could not be completed")))})),et(S,gl.EventType.MESSAGE,(J=>{if(!G){const ht=J.data[0];qt(!!ht,16349);const Et=ht,mt=Et?.error||Et[0]?.error;if(mt){it(Ke,`RPC '${t}' stream ${l} received error:`,mt);const Qt=mt.status;let te=(function(b){const I=we[b];if(I!==void 0)return $T(I)})(Qt),Lt=mt.message;te===void 0&&(te=K.INTERNAL,Lt="Unknown error status: "+Qt+" with message "+mt.message),G=!0,Z.a_(new nt(te,Lt)),S.close()}else it(Ke,`RPC '${t}' stream ${l} received:`,ht),Z.u_(ht)}})),et(p,pT.STAT_EVENT,(J=>{J.stat===Wd.PROXY?it(Ke,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Wd.NOPROXY&&it(Ke,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Hd(){return typeof document<"u"?document:null}function _h(s){return new SI(s,!0)}class f0{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const nE="PersistentStream";class d0{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new f0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(er(i.toString()),er("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new nt(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(nE,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class EC extends d0{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=RI(this.serializer,t),a=(function(c){if(!("targetChange"in c))return yt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?yt.min():d.readTime?wi(d.readTime):yt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=rm(y)?{documents:DI(c,y)}:{query:NI(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=e0(c,d.resumeToken);const _=om(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(yt.min())>0){p.readTime=Wc(c,d.snapshotVersion.toTimestamp());const _=om(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=VI(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.q_(i)}}class TC extends d0{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=CI(t.writeResults,t.commitTime),a=wi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=cm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>II(this.serializer,a)))};this.q_(i)}}class AC{}class SC extends AC{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new nt(K.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,lm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new nt(K.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,lm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new nt(K.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class bC{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(er(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gs="RemoteStore";class wC{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Qs(this)&&(it(Gs,"Restarting streams for network reachability change."),await(async function(y){const _=vt(y);_.Ea.add(4),await Hl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await vh(_)})(this))}))})),this.Ra=new bC(a,l)}}async function vh(s){if(Qs(s))for(const t of s.da)await t(!0)}async function Hl(s){for(const t of s.da)await t(!1)}function m0(s,t){const i=vt(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Xm(i)?Ym(i):oo(i).O_()&&Km(i,t))}function Qm(s,t){const i=vt(s),a=oo(i);i.Ia.delete(t),a.O_()&&g0(i,t),i.Ia.size===0&&(a.O_()?a.L_():Qs(i)&&i.Ra.set("Unknown"))}function Km(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(yt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}oo(s).Y_(t)}function g0(s,t){s.Va.Ue(t),oo(s).Z_(t)}function Ym(s){s.Va=new vI({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),oo(s).start(),s.Ra.ua()}function Xm(s){return Qs(s)&&!oo(s).x_()&&s.Ia.size>0}function Qs(s){return vt(s).Ea.size===0}function p0(s){s.Va=void 0}async function RC(s){s.Ra.set("Online")}async function IC(s){s.Ia.forEach(((t,i)=>{Km(s,t)}))}async function CC(s,t){p0(s),Xm(s)?(s.Ra.ha(t),Ym(s)):s.Ra.set("Unknown")}async function DC(s,t,i){if(s.Ra.set("Online"),t instanceof t0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(s,t)}catch(a){it(Gs,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await eh(s,a)}else if(t instanceof Pc?s.Va.Ze(t):t instanceof WT?s.Va.st(t):s.Va.tt(t),!i.isEqual(yt.min()))try{const a=await h0(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(Fe.EMPTY_BYTE_STRING,A.snapshotVersion)),g0(c,y);const S=new Hr(A.target,y,_,A.sequenceNumber);Km(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){it(Gs,"Failed to raise snapshot:",a),await eh(s,a)}}async function eh(s,t,i){if(!ao(t))throw t;s.Ea.add(1),await Hl(s),s.Ra.set("Offline"),i||(i=()=>h0(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{it(Gs,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await vh(s)}))}function y0(s,t){return t().catch((i=>eh(s,i,t)))}async function Eh(s){const t=vt(s),i=Wr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Vm;for(;NC(t);)try{const l=await hC(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,OC(t,l)}catch(l){await eh(t,l)}_0(t)&&v0(t)}function NC(s){return Qs(s)&&s.Ta.length<10}function OC(s,t){s.Ta.push(t);const i=Wr(s);i.O_()&&i.X_&&i.ea(t.mutations)}function _0(s){return Qs(s)&&!Wr(s).x_()&&s.Ta.length>0}function v0(s){Wr(s).start()}async function VC(s){Wr(s).ra()}async function MC(s){const t=Wr(s);for(const i of s.Ta)t.ea(i.mutations)}async function UC(s,t,i){const a=s.Ta.shift(),l=zm.from(a,t,i);await y0(s,(()=>s.remoteSyncer.applySuccessfulWrite(l))),await Eh(s)}async function LC(s,t){t&&Wr(s).X_&&await(async function(a,l){if((function(d){return pI(d)&&d!==K.ABORTED})(l.code)){const c=a.Ta.shift();Wr(a).B_(),await y0(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Eh(a)}})(s,t),_0(s)&&v0(s)}async function iE(s,t){const i=vt(s);i.asyncQueue.verifyOperationInProgress(),it(Gs,"RemoteStore received new credentials");const a=Qs(i);i.Ea.add(3),await Hl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await vh(i)}async function xC(s,t){const i=vt(s);t?(i.Ea.delete(2),await vh(i)):t||(i.Ea.add(2),await Hl(i),i.Ra.set("Unknown"))}function oo(s){return s.ma||(s.ma=(function(i,a,l){const c=vt(i);return c.sa(),new EC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:RC.bind(null,s),t_:IC.bind(null,s),r_:CC.bind(null,s),H_:DC.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Xm(s)?Ym(s):s.Ra.set("Unknown")):(await s.ma.stop(),p0(s))}))),s.ma}function Wr(s){return s.fa||(s.fa=(function(i,a,l){const c=vt(i);return c.sa(),new TC(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:VC.bind(null,s),r_:LC.bind(null,s),ta:MC.bind(null,s),na:UC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Eh(s)):(await s.fa.stop(),s.Ta.length>0&&(it(Gs,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Zm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Zm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new nt(K.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(s,t){if(er("AsyncQueue",`${t}: ${s}`),ao(s))return new nt(K.UNAVAILABLE,`${t}: ${s}`);throw s}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||lt.comparator(i.key,a.key):(i,a)=>lt.comparator(i.key,a.key),this.keyedMap=pl(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class rE{constructor(){this.ga=new oe(lt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):ft(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class to{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new to(t,i,Qa.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&dh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class PC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class kC{constructor(){this.queries=sE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=vt(i),c=l.queries;l.queries=sE(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new nt(K.ABORTED,"Firestore shutting down"))}}function sE(){return new Fs((s=>BT(s)),dh)}async function $m(s,t){const i=vt(s);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new PC,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Jm(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&tg(i)}async function Wm(s,t){const i=vt(s),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function zC(s,t){const i=vt(s);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&tg(i)}function BC(s,t,i){const a=vt(s),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function tg(s){s.Ca.forEach((t=>{t.next()}))}var dm,aE;(aE=dm||(dm={})).Ma="default",aE.Cache="cache";class eg{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new to(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=to.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class E0{constructor(t){this.key=t}}class T0{constructor(t){this.key=t}}class qC{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=qT(t),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new rE,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const D=l.get(A),G=mh(this.query,S)?S:null,Z=!!D&&this.mutatedKeys.has(D.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;D&&G?D.data.isEqual(G.data)?Z!==et&&(a.track({type:3,doc:G}),J=!0):this.su(D,G)||(a.track({type:2,doc:G}),J=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!D&&G?(a.track({type:0,doc:G}),J=!0):D&&!G&&(a.track({type:1,doc:D}),J=!0,(y||_)&&(p=!0)),J&&(G?(d=d.add(G),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(G,Z){const et=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft(20277,{Rt:J})}};return et(G)-et(Z)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new to(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new T0(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new E0(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return to.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ng="SyncEngine";class jC{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class HC{constructor(t){this.key=t,this.hu=!1}}class GC{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Fs((p=>BT(p)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(lt.comparator),this.Au=new Map,this.Ru=new jm,this.Vu={},this.mu=new Map,this.fu=Wa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function FC(s,t,i=!0){const a=I0(s);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await A0(a,t,i,!0),l}async function QC(s,t){const i=I0(s);await A0(i,t,!0,!1)}async function A0(s,t,i,a){const l=await fC(s.localStore,bi(t)),c=l.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await KC(s,t,c,d==="current",l.resumeToken)),s.isPrimaryClient&&i&&m0(s.remoteStore,l),p}async function KC(s,t,i,a,l){s.pu=(S,D,G)=>(async function(et,J,ht,Et){let mt=J.view.ru(ht);mt.Cs&&(mt=await $v(et.localStore,J.query,!1).then((({documents:C})=>J.view.ru(C,mt))));const Qt=Et&&Et.targetChanges.get(J.targetId),te=Et&&Et.targetMismatches.get(J.targetId)!=null,Lt=J.view.applyChanges(mt,et.isPrimaryClient,Qt,te);return lE(et,J.targetId,Lt.au),Lt.snapshot})(s,S,D,G);const c=await $v(s.localStore,t,!0),d=new qC(t,c.Qs),p=d.ru(c.documents),y=jl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",l),_=d.applyChanges(p,s.isPrimaryClient,y);lE(s,i,_.au);const A=new jC(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),_.snapshot}async function YC(s,t,i){const a=vt(s),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!dh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await hm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Qm(a.remoteStore,l.targetId),mm(a,l.targetId)})).catch(so)):(mm(a,l.targetId),await hm(a.localStore,l.targetId,!0))}async function XC(s,t){const i=vt(s),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Qm(i.remoteStore,a.targetId))}async function ZC(s,t,i){const a=i2(s);try{const l=await(function(d,p){const y=vt(d),_=Wt.now(),A=p.reduce(((G,Z)=>G.add(Z.key)),Ot());let S,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let Z=nr(),et=Ot();return y.Ns.getEntries(G,A).next((J=>{Z=J,Z.forEach(((ht,Et)=>{Et.isValidDocument()||(et=et.add(ht))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,Z))).next((J=>{S=J;const ht=[];for(const Et of p){const mt=hI(Et,S.get(Et.key).overlayedDocument);mt!=null&&ht.push(new is(Et.key,mt,VT(mt.value.mapValue),Zn.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,ht,p)})).next((J=>{D=J;const ht=J.applyToLocalDocumentSet(S,et);return y.documentOverlayCache.saveOverlays(G,J.batchId,ht)}))})).then((()=>({batchId:D.batchId,changes:HT(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new oe(Nt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await Gl(a,l.changes),await Eh(a.remoteStore)}catch(l){const c=Jm(l,"Failed to persist write");i.reject(c)}}async function S0(s,t){const i=vt(s);try{const a=await uC(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Gl(i,a,t)}catch(a){await so(a)}}function oE(s,t,i){const a=vt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=vt(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,S)=>{for(const D of S.Sa)D.va(p)&&(_=!0)})),_&&tg(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function JC(s,t,i){const a=vt(s);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new oe(lt.comparator);d=d.insert(c,Xe.newNoDocument(c,yt.min()));const p=Ot().add(c),y=new yh(yt.min(),new Map,new oe(Nt),d,p);await S0(a,y),a.du=a.du.remove(c),a.Au.delete(t),ig(a)}else await hm(a.localStore,t,!1).then((()=>mm(a,t,i))).catch(so)}async function $C(s,t){const i=vt(s),a=t.batch.batchId;try{const l=await lC(i.localStore,t);w0(i,a,null),b0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Gl(i,l)}catch(l){await so(l)}}async function WC(s,t,i){const a=vt(s);try{const l=await(function(d,p){const y=vt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(qt(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);w0(a,t,i),b0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Gl(a,l)}catch(l){await so(l)}}function b0(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function w0(s,t,i){const a=vt(s);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function mm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||R0(s,a)}))}function R0(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Qm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),ig(s))}function lE(s,t,i){for(const a of i)a instanceof E0?(s.Ru.addReference(a.key,t),t2(s,a)):a instanceof T0?(it(ng,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||R0(s,a.key)):ft(19791,{wu:a})}function t2(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(it(ng,"New document in limbo: "+i),s.Eu.add(a),ig(s))}function ig(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new lt($t.fromString(t)),a=s.fu.next();s.Au.set(a,new HC(i)),s.du=s.du.insert(i,a),m0(s.remoteStore,new Hr(bi(fh(i.path)),a,"TargetPurposeLimboResolution",uh.ce))}}async function Gl(s,t,i){const a=vt(s),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){l.push(_);const A=Gm.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const A=vt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(_,(D=>X.forEach(D.Es,(G=>A.persistence.referenceDelegate.addReference(S,D.targetId,G))).next((()=>X.forEach(D.ds,(G=>A.persistence.referenceDelegate.removeReference(S,D.targetId,G)))))))))}catch(S){if(!ao(S))throw S;it(Fm,"Failed to update sequence numbers: "+S)}for(const S of _){const D=S.targetId;if(!S.fromCache){const G=A.Ms.get(D),Z=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(D,et)}}})(a.localStore,c))}async function e2(s,t){const i=vt(s);if(!i.currentUser.isEqual(t)){it(ng,"User change. New user:",t.toKey());const a=await c0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new nt(K.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Gl(i,a.Ls)}}function n2(s,t){const i=vt(s),a=i.Au.get(t);if(a&&a.hu)return Ot().add(a.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function I0(s){const t=vt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=S0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=n2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=JC.bind(null,t),t.Pu.H_=zC.bind(null,t.eventManager),t.Pu.yu=BC.bind(null,t.eventManager),t}function i2(s){const t=vt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$C.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=WC.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=_h(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return oC(this.persistence,new rC,t.initialUser,this.serializer)}Cu(t){return new u0(Hm.mi,this.serializer)}Du(t){return new mC}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class r2 extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new HI(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new u0((a=>th.mi(a,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>oE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=e2.bind(null,this.syncEngine),await xC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kC})()}createDatastore(t){const i=_h(t.databaseInfo.databaseId),a=(function(c){return new vC(c)})(t.databaseInfo);return(function(c,d,p,y){return new SC(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new wC(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>oE(this.syncEngine,i,0)),(function(){return eE.v()?new eE:new gC})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,A){const S=new GC(l,c,d,p,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=vt(i);it(Gs,"RemoteStore shutting down."),a.Ea.add(5),await Hl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class rg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):er("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ts="FirestoreClient";class s2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=Om.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{it(ts,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(it(ts,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Jm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Gd(s,t){s.asyncQueue.verifyOperationInProgress(),it(ts,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async l=>{a.isEqual(l)||(await c0(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function uE(s,t){s.asyncQueue.verifyOperationInProgress();const i=await a2(s);it(ts,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>iE(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,l)=>iE(t.remoteStore,l))),s._onlineComponents=t}async function a2(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(ts,"Using user provided OfflineComponentProvider");try{await Gd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===K.FAILED_PRECONDITION||l.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Xa("Error using user provided cache. Falling back to memory cache: "+i),await Gd(s,new nh)}}else it(ts,"Using default OfflineComponentProvider"),await Gd(s,new r2(void 0));return s._offlineComponents}async function C0(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(ts,"Using user provided OnlineComponentProvider"),await uE(s,s._uninitializedComponentsProvider._online)):(it(ts,"Using default OnlineComponentProvider"),await uE(s,new gm))),s._onlineComponents}function o2(s){return C0(s).then((t=>t.syncEngine))}async function ih(s){const t=await C0(s),i=t.eventManager;return i.onListen=FC.bind(null,t.syncEngine),i.onUnlisten=YC.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=QC.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=XC.bind(null,t.syncEngine),i}function l2(s,t,i={}){const a=new Ji;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new rg({next:D=>{A.Nu(),d.enqueueAndForget((()=>Wm(c,S)));const G=D.docs.has(p);!G&&D.fromCache?_.reject(new nt(K.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&D.fromCache&&y&&y.source==="server"?_.reject(new nt(K.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(D)},error:D=>_.reject(D)}),S=new eg(fh(p.path),A,{includeMetadataChanges:!0,qa:!0});return $m(c,S)})(await ih(s),s.asyncQueue,t,i,a))),a.promise}function u2(s,t,i={}){const a=new Ji;return s.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new rg({next:D=>{A.Nu(),d.enqueueAndForget((()=>Wm(c,S))),D.fromCache&&y.source==="server"?_.reject(new nt(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),S=new eg(p,A,{includeMetadataChanges:!0,qa:!0});return $m(c,S)})(await ih(s),s.asyncQueue,t,i,a))),a.promise}function D0(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const cE=new Map;const N0="firestore.googleapis.com",hE=!0;class fE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new nt(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N0,this.ssl=hE}else this.host=t.host,this.ssl=t.ssl??hE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=l0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<qI)throw new nt(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bR("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=D0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new nt(K.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Th{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nt(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new nt(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new mR;switch(a.type){case"firstParty":return new _R(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new nt(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=cE.get(i);a&&(it("ComponentProvider","Removing Datastore"),cE.delete(i),a.terminate())})(this),Promise.resolve()}}function c2(s,t,i,a={}){s=Tn(s,Th);const l=eo(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;l&&(CE(`https://${p}`),DE("Firestore",!0)),c.host!==N0&&c.host!==p&&Xa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!Bs(y,d)&&(s._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Ye.MOCK_USER;else{_=qS(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new nt(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ye(S)}s._authCredentials=new gR(new ET(_,A))}}class Ks{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ks(this.firestore,t,this._query)}}class ce{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ce(this.firestore,t,this._key)}toJSON(){return{type:ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(zl(i,ce._jsonSchema))return new ce(t,a||null,new lt($t.fromString(i.referencePath)))}}ce._jsonSchemaVersion="firestore/documentReference/1.0",ce._jsonSchema={type:Ie("string",ce._jsonSchemaVersion),referencePath:Ie("string")};class Yr extends Ks{constructor(t,i,a){super(t,i,fh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ce(this.firestore,null,new lt(t))}withConverter(t){return new Yr(this.firestore,t,this._path)}}function h2(s,t,...i){if(s=Je(s),TT("collection","path",t),s instanceof Th){const a=$t.fromString(t,...i);return wv(a),new Yr(s,null,a)}{if(!(s instanceof ce||s instanceof Yr))throw new nt(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(t,...i));return wv(a),new Yr(s.firestore,null,a)}}function rr(s,t,...i){if(s=Je(s),arguments.length===1&&(t=Om.newId()),TT("doc","path",t),s instanceof Th){const a=$t.fromString(t,...i);return bv(a),new ce(s,null,new lt(a))}{if(!(s instanceof ce||s instanceof Yr))throw new nt(K.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child($t.fromString(t,...i));return bv(a),new ce(s.firestore,s instanceof Yr?s.converter:null,new lt(a))}}const dE="AsyncQueue";class mE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new f0(this,"async_queue_retry"),this._c=()=>{const a=Hd();a&&it(dE,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Hd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Hd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ji;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ao(t))throw t;it(dE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,er("INTERNAL UNHANDLED ERROR: ",gE(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Zm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&ft(47125,{Pc:gE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function gE(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function pE(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(s,["next","error","complete"])}class es extends Th{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new mE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new mE(t),this._firestoreClient=void 0,await t}}}function f2(s,t){const i=typeof s=="object"?s:ME(),a=typeof s=="string"?s:Yc,l=Em(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=zS("firestore");c&&c2(l,...c)}return l}function Ah(s){if(s._terminated)throw new nt(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||d2(s),s._firestoreClient}function d2(s){const t=s._freezeSettings(),i=(function(l,c,d,p){return new LR(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,D0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new s2(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(s._componentsProvider))}class xn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new xn(Fe.fromBase64String(t))}catch(i){throw new nt(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new xn(Fe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(zl(t,xn._jsonSchema))return xn.fromBase64String(t.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:Ie("string",xn._jsonSchemaVersion),bytes:Ie("string")};class Sh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new nt(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bh{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new nt(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new nt(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(zl(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ie("string",Ri._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(zl(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ii(t.vectorValues);throw new nt(K.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Ie("string",Ii._jsonSchemaVersion),vectorValues:Ie("object")};const m2=/^__.*__$/;class g2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new is(t,this.data,this.fieldMask,i,this.fieldTransforms):new ql(t,this.data,i,this.fieldTransforms)}}class O0{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new is(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function V0(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft(40011,{Ac:s})}}class sg{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new sg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return rh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(V0(this.Ac)&&m2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class p2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||_h(t)}Cc(t,i,a,l=!1){return new sg({Ac:t,methodName:i,Dc:a,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ag(s){const t=s._freezeSettings(),i=_h(s._databaseId);return new p2(s._databaseId,!!t.ignoreUndefinedProperties,i)}function y2(s,t,i,a,l,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,l);lg("Data must be an object, but it was:",d,a);const p=M0(a,d);let y,_;if(c.merge)y=new En(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const D=pm(t,S,i);if(!d.contains(D))throw new nt(K.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);L0(A,D)||A.push(D)}y=new En(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new g2(new cn(p),y,_)}class wh extends bh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof wh}}class og extends bh{_toFieldTransform(t){return new oI(t.path,new Ol)}isEqual(t){return t instanceof og}}function _2(s,t,i,a){const l=s.Cc(1,t,i);lg("Data must be an object, but it was:",l,a);const c=[],d=cn.empty();ns(a,((y,_)=>{const A=ug(t,y,i);_=Je(_);const S=l.yc(A);if(_ instanceof wh)c.push(A);else{const D=Fl(_,S);D!=null&&(c.push(A),d.set(A,D))}}));const p=new En(c);return new O0(d,p,l.fieldTransforms)}function v2(s,t,i,a,l,c){const d=s.Cc(1,t,i),p=[pm(t,a,i)],y=[l];if(c.length%2!=0)throw new nt(K.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)p.push(pm(t,c[D])),y.push(c[D+1]);const _=[],A=cn.empty();for(let D=p.length-1;D>=0;--D)if(!L0(_,p[D])){const G=p[D];let Z=y[D];Z=Je(Z);const et=d.yc(G);if(Z instanceof wh)_.push(G);else{const J=Fl(Z,et);J!=null&&(_.push(G),A.set(G,J))}}const S=new En(_);return new O0(A,S,d.fieldTransforms)}function E2(s,t,i,a=!1){return Fl(i,s.Cc(a?4:3,t))}function Fl(s,t){if(U0(s=Je(s)))return lg("Unsupported field value:",t,s),M0(s,t);if(s instanceof bh)return(function(a,l){if(!V0(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Fl(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,l){if((a=Je(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return rI(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=Wt.fromDate(a);return{timestampValue:Wc(l.serializer,c)}}if(a instanceof Wt){const c=new Wt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wc(l.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof xn)return{bytesValue:e0(l.serializer,a._byteString)};if(a instanceof ce){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ii)return(function(d,p){return{mapValue:{fields:{[NT]:{stringValue:OT},[Xc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Pm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${lh(a)}`)})(s,t)}function M0(s,t){const i={};return bT(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ns(s,((a,l)=>{const c=Fl(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function U0(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Wt||s instanceof Ri||s instanceof xn||s instanceof ce||s instanceof bh||s instanceof Ii)}function lg(s,t,i){if(!U0(i)||!AT(i)){const a=lh(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function pm(s,t,i){if((t=Je(t))instanceof Sh)return t._internalPath;if(typeof t=="string")return ug(s,t);throw rh("Field path arguments must be of type string or ",s,!1,void 0,i)}const T2=new RegExp("[~\\*/\\[\\]]");function ug(s,t,i){if(t.search(T2)>=0)throw rh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Sh(...t.split("."))._internalPath}catch{throw rh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function rh(s,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new nt(K.INVALID_ARGUMENT,p+s+y)}function L0(s,t){return s.some((i=>i.isEqual(t)))}class x0{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new A2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(cg("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class A2 extends x0{data(){return super.data()}}function cg(s,t){return typeof t=="string"?ug(s,t):t instanceof Sh?t._internalPath:t._delegate._internalPath}function P0(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new nt(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hg{}class S2 extends hg{}function b2(s,t,...i){let a=[];t instanceof hg&&a.push(t),a=a.concat(i),(function(c){const d=c.filter((y=>y instanceof fg)).length,p=c.filter((y=>y instanceof Rh)).length;if(d>1||d>0&&p>0)throw new nt(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(a);for(const l of a)s=l._apply(s);return s}class Rh extends S2{constructor(t,i,a){super(),this._field=t,this._op=i,this._value=a,this.type="where"}static _create(t,i,a){return new Rh(t,i,a)}_apply(t){const i=this._parse(t);return k0(t._query,i),new Ks(t.firestore,t.converter,sm(t._query,i))}_parse(t){const i=ag(t.firestore);return(function(c,d,p,y,_,A,S){let D;if(_.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new nt(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){_E(S,A);const Z=[];for(const et of S)Z.push(yE(y,c,et));D={arrayValue:{values:Z}}}else D=yE(y,c,S)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||_E(S,A),D=E2(p,d,S,A==="in"||A==="not-in");return Re.create(_,A,D)})(t._query,"where",i,t.firestore._databaseId,this._field,this._op,this._value)}}function w2(s,t,i){const a=t,l=cg("where",s);return Rh._create(l,a,i)}class fg extends hg{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new fg(t,i)}_parse(t){const i=this._queryConstraints.map((a=>a._parse(t))).filter((a=>a.getFilters().length>0));return i.length===1?i[0]:Jn.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return i.getFilters().length===0?t:((function(l,c){let d=l;const p=c.getFlattenedFilters();for(const y of p)k0(d,y),d=sm(d,y)})(t._query,i),new Ks(t.firestore,t.converter,sm(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yE(s,t,i){if(typeof(i=Je(i))=="string"){if(i==="")throw new nt(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zT(t)&&i.indexOf("/")!==-1)throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=t.path.child($t.fromString(i));if(!lt.isDocumentKey(a))throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Mv(s,new lt(a))}if(i instanceof ce)return Mv(s,i._key);throw new nt(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lh(i)}.`)}function _E(s,t){if(!Array.isArray(s)||s.length===0)throw new nt(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function k0(s,t){const i=(function(l,c){for(const d of l)for(const p of d.getFlattenedFilters())if(c.indexOf(p.op)>=0)return p.op;return null})(s.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(i!==null)throw i===t.op?new nt(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nt(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class R2{convertValue(t,i="none"){switch($r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw ft(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ns(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Ii(i)}convertGeoPoint(t){return new Ri(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=hh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const i=Zr(t);return new Wt(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=$t.fromString(t);qt(o0(a),9688,{name:t});const l=new Dl(a.get(1),a.get(3)),c=new lt(a.popFirst(5));return l.isEqual(i)||er(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function I2(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class _l{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ks extends x0{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(cg("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(K.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ks._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ks._jsonSchemaVersion="firestore/documentSnapshot/1.0",ks._jsonSchema={type:Ie("string",ks._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class kc extends ks{data(t={}){return super.data(t)}}class zs{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new _l(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new kc(this._firestore,this._userDataWriter,a.key,a,new _l(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new nt(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new _l(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new _l(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:C2(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new nt(K.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=zs._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Om.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function C2(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft(61501,{type:s})}}function Ql(s){s=Tn(s,ce);const t=Tn(s.firestore,es);return l2(Ah(t),s._key).then((i=>z0(t,s,i)))}zs._jsonSchemaVersion="firestore/querySnapshot/1.0",zs._jsonSchema={type:Ie("string",zs._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class dg extends R2{constructor(t){super(),this.firestore=t}convertBytes(t){return new xn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ce(this.firestore,null,i)}}function D2(s){s=Tn(s,Ks);const t=Tn(s.firestore,es),i=Ah(t),a=new dg(t);return P0(s._query),u2(i,s._query).then((l=>new zs(t,a,s,l)))}function N2(s,t,i){s=Tn(s,ce);const a=Tn(s.firestore,es),l=I2(s.converter,t);return mg(a,[y2(ag(a),"setDoc",s._key,l,s.converter!==null,i).toMutation(s._key,Zn.none())])}function Kl(s,t,i,...a){s=Tn(s,ce);const l=Tn(s.firestore,es),c=ag(l);let d;return d=typeof(t=Je(t))=="string"||t instanceof Sh?v2(c,"updateDoc",s._key,t,i,a):_2(c,"updateDoc",s._key,t),mg(l,[d.toMutation(s._key,Zn.exists(!0))])}function O2(s){return mg(Tn(s.firestore,es),[new km(s._key,Zn.none())])}function V2(s,...t){s=Je(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||pE(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pE(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(s instanceof ce)d=Tn(s.firestore,es),p=fh(s._key.path),c={next:y=>{t[a]&&t[a](z0(d,s,y))},error:t[a+1],complete:t[a+2]};else{const y=Tn(s,Ks);d=Tn(y.firestore,es),p=y._query;const _=new dg(d);c={next:A=>{t[a]&&t[a](new zs(d,_,y,A))},error:t[a+1],complete:t[a+2]},P0(s._query)}return(function(_,A,S,D){const G=new rg(D),Z=new eg(A,G,S);return _.asyncQueue.enqueueAndForget((async()=>$m(await ih(_),Z))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>Wm(await ih(_),Z)))}})(Ah(d),p,l,c)}function mg(s,t){return(function(a,l){const c=new Ji;return a.asyncQueue.enqueueAndForget((async()=>ZC(await o2(a),l,c))),c.promise})(Ah(s),t)}function z0(s,t,i){const a=i.docs.get(t._key),l=new dg(s);return new ks(s,l,t._key,a,new _l(i.hasPendingWrites,i.fromCache),t.converter)}function B0(){return new og("serverTimestamp")}(function(t,i=!0){(function(l){ro=l})(no),Ka(new qs("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new es(new pR(a.getProvider("auth-internal")),new vR(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new nt(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(_.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Qr(Ev,Tv,t),Qr(Ev,Tv,"esm2020")})();const vE=[["Cat","Whiskers"],["Dog","Bark"],["Sun","Beach"],["Moon","Night"],["Apple","Pie"],["Tree","Forest"],["Book","Library"],["Music","Dance"],["Fire","Smoke"],["Coffee","Mug"],["Rain","Umbrella"],["Car","Road"],["Bird","Nest"],["Plane","Airport"],["Ship","Ocean"],["Knife","Fork"],["Laptop","Desk"],["Chair","Table"],["Ball","Game"],["Flower","Garden"],["Mountain","Hiking"],["River","Boat"],["Paint","Brush"],["Phone","Call"],["Key","Lock"]];function Ih(){return vE[Math.floor(Math.random()*vE.length)]}const M2={apiKey:"AIzaSyD9D2Z1jJlWC19NqV9J-F0X_Uyx_fT_EHQ",authDomain:"goat-paste.firebaseapp.com",projectId:"goat-paste",storageBucket:"goat-paste.firebasestorage.app",messagingSenderId:"978086590790",appId:"1:978086590790:web:f95d7c0e1743b11e824d47"},q0=VE(M2);fR(q0);const Di=f2(q0);async function U2(s){await N2(rr(Di,"rooms",s),{score:[0,0],turn:"blue",wordPair:Ih(),isGuessing:!1,createdAt:B0()})}async function L2(s){try{const t=rr(Di,"rooms",s);return(await Ql(t)).exists()}catch(t){return console.error("Error checking room:",t),!1}}async function x2(){try{const s=h2(Di,"rooms"),t=Wt.fromMillis(Date.now()-1440*60*1e3),i=b2(s,w2("createdAt","<",t)),l=(await D2(i)).docs.map(c=>O2(rr(Di,"rooms",c.id)));return await Promise.all(l),console.log(`Deleted ${l.length} old room(s)`),l.length}catch(s){return console.error("Error cleaning old rooms:",s),0}}const j0=(s,t)=>{const i=rr(Di,"rooms",s);return V2(i,t)};async function P2(s){await Kl(rr(Di,"rooms",s),{score:[0,0],turn:"blue",isGuessing:!1,wordPair:Ih(),updatedAt:B0()})}async function k2(s){const t=rr(Di,"rooms",s),i=await Ql(t);!i.exists()||i.data().isGuessing||await Kl(t,{isGuessing:!0})}async function z2(s,t,i){const a=rr(Di,"rooms",s),l=await Ql(a);if(!l.exists())return;const c=l.data(),d=t==="blue"?c.wordPair[0]:c.wordPair[1];let p=[...c.score];i.trim().toLowerCase()===d.toLowerCase()?t==="blue"?p[0]++:p[1]++:t==="blue"?p[1]++:p[0]++,await Kl(a,{score:p,wordPair:Ih(),isGuessing:!1,turn:c.turn==="blue"?"red":"blue"})}async function B2(s){const t=rr(Di,"rooms",s),i=await Ql(t);if(!i.exists())return;const a=i.data();await Kl(t,{turn:a.turn==="blue"?"red":"blue"})}async function EE(s,t){const i=rr(Di,"rooms",s),a=await Ql(i);if(!a.exists())return;const l=[...a.data().score];t==="blue"?l[0]++:l[1]++,await Kl(i,{score:l,wordPair:Ih(),isGuessing:!1,turn:t})}function q2({onGo:s}){const[t,i]=Ln.useState(Math.random().toString(36).substring(2,7).toUpperCase()),[a,l]=Ln.useState(!1),c=async()=>{l(!0),await x2(),s(t),l(!1)};return dt.jsxs("div",{className:"home",children:[dt.jsx("h1",{className:"home-title",children:"Goat Paste"}),dt.jsxs("div",{className:"home-form",children:[dt.jsx("input",{placeholder:"Room Code",value:t,onChange:d=>i(d.target.value.toUpperCase()),disabled:a}),dt.jsx("button",{className:"primary",onClick:c,disabled:a,children:a?"Loading":"GO"})]})]})}function j2({roomId:s}){const[t,i]=Ln.useState(null),[a,l]=Ln.useState("player"),[c,d]=Ln.useState("blue"),[p,y]=Ln.useState(!1),[_,A]=Ln.useState("");if(Ln.useEffect(()=>{if(s)return j0(s,D=>{D.exists()&&i(D.data())})},[s]),!t)return dt.jsx("div",{children:"Loading"});const S=t.isGuessing&&!p;return dt.jsxs("div",{className:"player-view",children:[dt.jsxs("div",{className:"player-top-left",children:[dt.jsxs("div",{children:["Room: ",s]}),dt.jsxs("div",{children:["Turn: ",t.turn==="blue"?"Blue":"Red"," Team"]}),dt.jsxs("div",{children:["You: ",c==="blue"?"Blue":"Red"," Team"]})]}),dt.jsxs("div",{className:"player-top-right",children:[dt.jsx("button",{onClick:()=>l(a==="player"?"spymaster":"player"),children:a==="player"?"Spymaster":"Player"}),dt.jsx("button",{onClick:()=>d(c==="blue"?"red":"blue"),children:"Switch Team"}),dt.jsx("button",{onClick:()=>P2(s),children:"New Game"})]}),dt.jsxs("div",{className:"scoreboard",children:[dt.jsxs("div",{className:"score-labels",children:[dt.jsx("span",{className:"blue-label",children:"Blue Team"}),dt.jsx("span",{className:"red-label",children:"Red Team"})]}),dt.jsxs("div",{className:"score-numbers",children:[dt.jsx("span",{className:"blue-score",children:t.score[0]}),dt.jsx("span",{className:"dash",children:"-"}),dt.jsx("span",{className:"red-score",children:t.score[1]})]})]}),dt.jsx("div",{className:"player-actions",children:a==="player"?dt.jsxs(dt.Fragment,{children:[dt.jsx("button",{className:"action-button primary",disabled:S||p,onClick:async()=>{await k2(s),y(!0)},children:"Guess"}),dt.jsxs("button",{className:"action-button secondary",disabled:S||p,onClick:()=>B2(s),children:["Pass to ",t.turn==="blue"?"Red":"Blue"," Team"]}),p&&dt.jsxs("div",{className:"guess-box",children:[dt.jsx("input",{type:"text",value:_,onChange:D=>A(D.target.value),placeholder:"Enter your guess"}),dt.jsx("button",{onClick:async()=>{await z2(s,c,_),A(""),y(!1)},children:"Submit"})]})]}):dt.jsx(dt.Fragment,{children:dt.jsxs("div",{className:"spymaster-words",children:[dt.jsxs("div",{className:"spy-word blue",children:[dt.jsx("div",{className:"word-label",children:"Blue Team Word"}),dt.jsx("div",{className:"word",children:t.wordPair[0]}),dt.jsx("button",{onClick:()=>EE(s,"blue"),children:"+1 Blue"})]}),dt.jsxs("div",{className:"spy-word red",children:[dt.jsx("div",{className:"word-label",children:"Red Team Word"}),dt.jsx("div",{className:"word",children:t.wordPair[1]}),dt.jsx("button",{onClick:()=>EE(s,"red"),children:"+1 Red"})]})]})})})]})}function H2(){const[s,t]=Ln.useState("home"),[i,a]=Ln.useState(null),[l,c]=Ln.useState(null),d=y=>{j0(y,_=>c(_.data()))},p=async y=>{var _=await L2(y);_||await U2(y),a(y),t("player"),d(y)};return dt.jsxs(dt.Fragment,{children:[s==="home"&&dt.jsx(q2,{onGo:p}),s==="player"&&dt.jsx(j2,{room:l,roomId:i})]})}NS.createRoot(document.getElementById("root")).render(dt.jsx(AS.StrictMode,{children:dt.jsx(H2,{})}));
